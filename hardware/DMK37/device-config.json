{
  "type": "camera.dmk37",
  "label": "DMK 37BUX252",
  "icon": "ðŸ“·",
  "color": "bg-blue-500",
  "category": "detection",
  "description": "The Imaging Source DMK 37BUX252 scientific camera with cross-platform support",
  "size": {
    "width": 2,
    "height": 2
  },
  "commands": [
    {
      "name": "connect",
      "label": "Connect",
      "description": "Connect to camera",
      "args": [
        {
          "name": "serial",
          "type": "string",
          "required": false,
          "default": ""
        }
      ]
    },
    {
      "name": "disconnect",
      "label": "Disconnect",
      "description": "Disconnect from camera",
      "args": []
    },
    {
      "name": "start_acquisition",
      "label": "Start Acquisition",
      "description": "Start image acquisition",
      "args": []
    },
    {
      "name": "stop_acquisition",
      "label": "Stop Acquisition",
      "description": "Stop image acquisition",
      "args": []
    },
    {
      "name": "set_exposure",
      "label": "Set Exposure",
      "description": "Set exposure time",
      "args": [
        {
          "name": "exposure_us",
          "type": "number",
          "required": true,
          "default": 1000
        }
      ]
    },
    {
      "name": "set_gain",
      "label": "Set Gain",
      "description": "Set camera gain",
      "args": [
        {
          "name": "gain_db",
          "type": "number",
          "required": true,
          "default": 0
        }
      ]
    },
    {
      "name": "set_roi",
      "label": "Set ROI",
      "description": "Set region of interest",
      "args": [
        {
          "name": "x",
          "type": "number",
          "required": true,
          "default": 0
        },
        {
          "name": "y",
          "type": "number",
          "required": true,
          "default": 0
        },
        {
          "name": "width",
          "type": "number",
          "required": true,
          "default": 1920
        },
        {
          "name": "height",
          "type": "number",
          "required": true,
          "default": 1080
        }
      ]
    },
    {
      "name": "software_trigger",
      "label": "Software Trigger",
      "description": "Trigger single frame",
      "args": []
    },
    {
      "name": "set_trigger_mode",
      "label": "Set Trigger Mode",
      "description": "Enable/disable hardware trigger",
      "args": [
        {
          "name": "enabled",
          "type": "boolean",
          "required": true,
          "default": false
        }
      ]
    },
    {
      "name": "set_trigger_source",
      "label": "Set Trigger Source",
      "description": "Set trigger source",
      "args": [
        {
          "name": "source",
          "type": "string",
          "required": true,
          "default": "Software",
          "options": ["Software", "Line0", "Line1"]
        }
      ]
    }
  ],
  "telemetry": [
    {
      "name": "exposure_time",
      "label": "Exposure Time",
      "unit": "Î¼s",
      "type": "number"
    },
    {
      "name": "gain",
      "label": "Gain",
      "unit": "dB",
      "type": "number"
    },
    {
      "name": "frame_rate",
      "label": "Frame Rate",
      "unit": "fps",
      "type": "number"
    },
    {
      "name": "temperature",
      "label": "Temperature",
      "unit": "Â°C",
      "type": "number"
    },
    {
      "name": "image",
      "label": "Image",
      "type": "image"
    },
    {
      "name": "roi",
      "label": "ROI",
      "type": "string"
    },
    {
      "name": "trigger_mode",
      "label": "Trigger Mode",
      "type": "string"
    }
  ],
  "properties": [
    {
      "name": "pixel_format",
      "label": "Pixel Format",
      "type": "select",
      "default": "RGB24",
      "options": ["RGB24", "Mono8", "Mono12"]
    },
    {
      "name": "max_resolution",
      "label": "Max Resolution",
      "type": "select",
      "default": "1920x1080",
      "options": ["1920x1080", "1280x720", "640x480"]
    },
    {
      "name": "trigger_mode",
      "label": "Trigger Mode",
      "type": "boolean",
      "default": false
    },
    {
      "name": "trigger_source",
      "label": "Trigger Source",
      "type": "select",
      "default": "Software",
      "options": ["Software", "Line0", "Line1"]
    }
  ],
  "driver": {
    "module": "DMK37.scripts.dmk37_controller",
    "class": "DMK37Controller",
    "connection": {
      "type": "usb",
      "port": "auto",
      "timeout": 1.0
    }
  },
  "capabilities": {
    "windows": {
      "os": "Windows",
      "transport": "IC Imaging Control",
      "features": {
        "exposure": true,
        "gain": true,
        "roi": true,
        "mono12": true,
        "hardwareTrigger": true,
        "softwareTrigger": true,
        "strobeOutput": true,
        "cooling": false,
        "binning": true,
        "frameRate": true
      },
      "limits": {
        "minExposure": 1,
        "maxExposure": 1000000,
        "minGain": 0,
        "maxGain": 100,
        "maxWidth": 1920,
        "maxHeight": 1080,
        "maxFrameRate": 60
      }
    },
    "linux": {
      "os": "Linux",
      "transport": "V4L2",
      "features": {
        "exposure": true,
        "gain": true,
        "roi": true,
        "mono12": false,
        "hardwareTrigger": true,
        "softwareTrigger": true,
        "strobeOutput": false,
        "cooling": false,
        "binning": true,
        "frameRate": true
      },
      "limits": {
        "minExposure": 10,
        "maxExposure": 1000000,
        "minGain": 0,
        "maxGain": 100,
        "maxWidth": 1920,
        "maxHeight": 1080,
        "maxFrameRate": 30
      }
    },
    "macos": {
      "os": "macOS",
      "transport": "UVC",
      "features": {
        "exposure": true,
        "gain": true,
        "roi": false,
        "mono12": false,
        "hardwareTrigger": false,
        "softwareTrigger": false,
        "strobeOutput": false,
        "cooling": false,
        "binning": false,
        "frameRate": true
      },
      "limits": {
        "minExposure": 100,
        "maxExposure": 1000000,
        "minGain": 0,
        "maxGain": 100,
        "maxWidth": 1920,
        "maxHeight": 1080,
        "maxFrameRate": 30
      }
    }
  }
}
