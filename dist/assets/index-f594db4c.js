var l8=Object.defineProperty;var u8=(t,e,n)=>e in t?l8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bh=(t,e,n)=>(u8(t,typeof e!="symbol"?e+"":e,n),n),tm=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var he=(t,e,n)=>(tm(t,e,"read from private field"),n?n.call(t):e.get(t)),Nt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},st=(t,e,n,r)=>(tm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var kh=(t,e,n,r)=>({set _(i){st(t,e,i,n)},get _(){return he(t,e,r)}}),ir=(t,e,n)=>(tm(t,e,"access private method"),n);function c8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ju(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var X4={exports:{}},Zf={},Z4={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=Symbol.for("react.element"),d8=Symbol.for("react.portal"),h8=Symbol.for("react.fragment"),f8=Symbol.for("react.strict_mode"),p8=Symbol.for("react.profiler"),m8=Symbol.for("react.provider"),g8=Symbol.for("react.context"),y8=Symbol.for("react.forward_ref"),v8=Symbol.for("react.suspense"),x8=Symbol.for("react.memo"),w8=Symbol.for("react.lazy"),n2=Symbol.iterator;function _8(t){return t===null||typeof t!="object"?null:(t=n2&&t[n2]||t["@@iterator"],typeof t=="function"?t:null)}var J4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e3=Object.assign,t3={};function ec(t,e,n){this.props=t,this.context=e,this.refs=t3,this.updater=n||J4}ec.prototype.isReactComponent={};ec.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ec.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n3(){}n3.prototype=ec.prototype;function j1(t,e,n){this.props=t,this.context=e,this.refs=t3,this.updater=n||J4}var R1=j1.prototype=new n3;R1.constructor=j1;e3(R1,ec.prototype);R1.isPureReactComponent=!0;var r2=Array.isArray,r3=Object.prototype.hasOwnProperty,O1={current:null},i3={key:!0,ref:!0,__self:!0,__source:!0};function s3(t,e,n){var r,i={},s=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(s=""+e.key),e)r3.call(e,r)&&!i3.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var d=Array(u),m=0;m<u;m++)d[m]=arguments[m+2];i.children=d}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Od,type:t,key:s,ref:l,props:i,_owner:O1.current}}function S8(t,e){return{$$typeof:Od,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function A1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Od}function b8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var i2=/\/+/g;function nm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?b8(""+t.key):e.toString(36)}function Xh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Od:case d8:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+nm(l,0):r,r2(i)?(n="",t!=null&&(n=t.replace(i2,"$&/")+"/"),Xh(i,e,n,"",function(m){return m})):i!=null&&(A1(i)&&(i=S8(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(i2,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",r2(t))for(var u=0;u<t.length;u++){s=t[u];var d=r+nm(s,u);l+=Xh(s,e,n,d,i)}else if(d=_8(t),typeof d=="function")for(t=d.call(t),u=0;!(s=t.next()).done;)s=s.value,d=r+nm(s,u++),l+=Xh(s,e,n,d,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Ch(t,e,n){if(t==null)return t;var r=[],i=0;return Xh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function k8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sr={current:null},Zh={transition:null},C8={ReactCurrentDispatcher:Sr,ReactCurrentBatchConfig:Zh,ReactCurrentOwner:O1};function a3(){throw Error("act(...) is not supported in production builds of React.")}St.Children={map:Ch,forEach:function(t,e,n){Ch(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ch(t,function(){e++}),e},toArray:function(t){return Ch(t,function(e){return e})||[]},only:function(t){if(!A1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};St.Component=ec;St.Fragment=h8;St.Profiler=p8;St.PureComponent=j1;St.StrictMode=f8;St.Suspense=v8;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C8;St.act=a3;St.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=e3({},t.props),i=t.key,s=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,l=O1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(d in e)r3.call(e,d)&&!i3.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&u!==void 0?u[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var m=0;m<d;m++)u[m]=arguments[m+2];r.children=u}return{$$typeof:Od,type:t.type,key:i,ref:s,props:r,_owner:l}};St.createContext=function(t){return t={$$typeof:g8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m8,_context:t},t.Consumer=t};St.createElement=s3;St.createFactory=function(t){var e=s3.bind(null,t);return e.type=t,e};St.createRef=function(){return{current:null}};St.forwardRef=function(t){return{$$typeof:y8,render:t}};St.isValidElement=A1;St.lazy=function(t){return{$$typeof:w8,_payload:{_status:-1,_result:t},_init:k8}};St.memo=function(t,e){return{$$typeof:x8,type:t,compare:e===void 0?null:e}};St.startTransition=function(t){var e=Zh.transition;Zh.transition={};try{t()}finally{Zh.transition=e}};St.unstable_act=a3;St.useCallback=function(t,e){return Sr.current.useCallback(t,e)};St.useContext=function(t){return Sr.current.useContext(t)};St.useDebugValue=function(){};St.useDeferredValue=function(t){return Sr.current.useDeferredValue(t)};St.useEffect=function(t,e){return Sr.current.useEffect(t,e)};St.useId=function(){return Sr.current.useId()};St.useImperativeHandle=function(t,e,n){return Sr.current.useImperativeHandle(t,e,n)};St.useInsertionEffect=function(t,e){return Sr.current.useInsertionEffect(t,e)};St.useLayoutEffect=function(t,e){return Sr.current.useLayoutEffect(t,e)};St.useMemo=function(t,e){return Sr.current.useMemo(t,e)};St.useReducer=function(t,e,n){return Sr.current.useReducer(t,e,n)};St.useRef=function(t){return Sr.current.useRef(t)};St.useState=function(t){return Sr.current.useState(t)};St.useSyncExternalStore=function(t,e,n){return Sr.current.useSyncExternalStore(t,e,n)};St.useTransition=function(){return Sr.current.useTransition()};St.version="18.3.1";Z4.exports=St;var U=Z4.exports;const Se=Ju(U),E8=c8({__proto__:null,default:Se},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N8=U,P8=Symbol.for("react.element"),T8=Symbol.for("react.fragment"),j8=Object.prototype.hasOwnProperty,R8=N8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O8={key:!0,ref:!0,__self:!0,__source:!0};function o3(t,e,n){var r,i={},s=null,l=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)j8.call(e,r)&&!O8.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:P8,type:t,key:s,ref:l,props:i,_owner:R8.current}}Zf.Fragment=T8;Zf.jsx=o3;Zf.jsxs=o3;X4.exports=Zf;var v=X4.exports,$m={},l3={exports:{}},ti={},u3={exports:{}},c3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ue,fe){var me=ue.length;ue.push(fe);e:for(;0<me;){var Le=me-1>>>1,ye=ue[Le];if(0<i(ye,fe))ue[Le]=fe,ue[me]=ye,me=Le;else break e}}function n(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var fe=ue[0],me=ue.pop();if(me!==fe){ue[0]=me;e:for(var Le=0,ye=ue.length,Be=ye>>>1;Le<Be;){var Ze=2*(Le+1)-1,ct=ue[Ze],pt=Ze+1,K=ue[pt];if(0>i(ct,me))pt<ye&&0>i(K,ct)?(ue[Le]=K,ue[pt]=me,Le=pt):(ue[Le]=ct,ue[Ze]=me,Le=Ze);else if(pt<ye&&0>i(K,me))ue[Le]=K,ue[pt]=me,Le=pt;else break e}}return fe}function i(ue,fe){var me=ue.sortIndex-fe.sortIndex;return me!==0?me:ue.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],m=[],w=1,C=null,S=3,_=!1,k=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(ue){for(var fe=n(m);fe!==null;){if(fe.callback===null)r(m);else if(fe.startTime<=ue)r(m),fe.sortIndex=fe.expirationTime,e(d,fe);else break;fe=n(m)}}function N(ue){if(R=!1,x(ue),!k)if(n(d)!==null)k=!0,Ke(D);else{var fe=n(m);fe!==null&&Xe(N,fe.startTime-ue)}}function D(ue,fe){k=!1,R&&(R=!1,T(F),F=-1),_=!0;var me=S;try{for(x(fe),C=n(d);C!==null&&(!(C.expirationTime>fe)||ue&&!re());){var Le=C.callback;if(typeof Le=="function"){C.callback=null,S=C.priorityLevel;var ye=Le(C.expirationTime<=fe);fe=t.unstable_now(),typeof ye=="function"?C.callback=ye:C===n(d)&&r(d),x(fe)}else r(d);C=n(d)}if(C!==null)var Be=!0;else{var Ze=n(m);Ze!==null&&Xe(N,Ze.startTime-fe),Be=!1}return Be}finally{C=null,S=me,_=!1}}var M=!1,V=null,F=-1,ne=5,W=-1;function re(){return!(t.unstable_now()-W<ne)}function oe(){if(V!==null){var ue=t.unstable_now();W=ue;var fe=!0;try{fe=V(!0,ue)}finally{fe?ge():(M=!1,V=null)}}else M=!1}var ge;if(typeof j=="function")ge=function(){j(oe)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,ke=Oe.port2;Oe.port1.onmessage=oe,ge=function(){ke.postMessage(null)}}else ge=function(){O(oe,0)};function Ke(ue){V=ue,M||(M=!0,ge())}function Xe(ue,fe){F=O(function(){ue(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ue){ue.callback=null},t.unstable_continueExecution=function(){k||_||(k=!0,Ke(D))},t.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<ue?Math.floor(1e3/ue):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ue){switch(S){case 1:case 2:case 3:var fe=3;break;default:fe=S}var me=S;S=fe;try{return ue()}finally{S=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ue,fe){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var me=S;S=ue;try{return fe()}finally{S=me}},t.unstable_scheduleCallback=function(ue,fe,me){var Le=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Le+me:Le):me=Le,ue){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=me+ye,ue={id:w++,callback:fe,priorityLevel:ue,startTime:me,expirationTime:ye,sortIndex:-1},me>Le?(ue.sortIndex=me,e(m,ue),n(d)===null&&ue===n(m)&&(R?(T(F),F=-1):R=!0,Xe(N,me-Le))):(ue.sortIndex=ye,e(d,ue),k||_||(k=!0,Ke(D))),ue},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(ue){var fe=S;return function(){var me=S;S=fe;try{return ue.apply(this,arguments)}finally{S=me}}}})(c3);u3.exports=c3;var qc=u3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A8=U,ei=qc;function be(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d3=new Set,id={};function _l(t,e){Iu(t,e),Iu(t+"Capture",e)}function Iu(t,e){for(id[t]=e,t=0;t<e.length;t++)d3.add(e[t])}var Js=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qm=Object.prototype.hasOwnProperty,M8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s2={},a2={};function D8(t){return qm.call(a2,t)?!0:qm.call(s2,t)?!1:M8.test(t)?a2[t]=!0:(s2[t]=!0,!1)}function I8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L8(t,e,n,r){if(e===null||typeof e>"u"||I8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function br(t,e,n,r,i,s,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=l}var Zn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zn[t]=new br(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zn[e]=new br(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zn[t]=new br(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zn[t]=new br(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zn[t]=new br(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zn[t]=new br(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zn[t]=new br(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zn[t]=new br(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zn[t]=new br(t,5,!1,t.toLowerCase(),null,!1,!1)});var M1=/[\-:]([a-z])/g;function D1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(M1,D1);Zn[e]=new br(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(M1,D1);Zn[e]=new br(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(M1,D1);Zn[e]=new br(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zn[t]=new br(t,1,!1,t.toLowerCase(),null,!1,!1)});Zn.xlinkHref=new br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zn[t]=new br(t,1,!1,t.toLowerCase(),null,!0,!0)});function I1(t,e,n,r){var i=Zn.hasOwnProperty(e)?Zn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(L8(e,n,i,r)&&(n=null),r||i===null?D8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ia=A8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eh=Symbol.for("react.element"),cu=Symbol.for("react.portal"),du=Symbol.for("react.fragment"),L1=Symbol.for("react.strict_mode"),Qm=Symbol.for("react.profiler"),h3=Symbol.for("react.provider"),f3=Symbol.for("react.context"),F1=Symbol.for("react.forward_ref"),Ym=Symbol.for("react.suspense"),Xm=Symbol.for("react.suspense_list"),z1=Symbol.for("react.memo"),Fa=Symbol.for("react.lazy"),p3=Symbol.for("react.offscreen"),o2=Symbol.iterator;function jc(t){return t===null||typeof t!="object"?null:(t=o2&&t[o2]||t["@@iterator"],typeof t=="function"?t:null)}var nn=Object.assign,rm;function Gc(t){if(rm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rm=e&&e[1]||""}return`
`+rm+t}var im=!1;function sm(t,e){if(!t||im)return"";im=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(m){var r=m}Reflect.construct(t,[],e)}else{try{e.call()}catch(m){r=m}t.call(e.prototype)}else{try{throw Error()}catch(m){r=m}t()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var i=m.stack.split(`
`),s=r.stack.split(`
`),l=i.length-1,u=s.length-1;1<=l&&0<=u&&i[l]!==s[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==s[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==s[u]){var d=`
`+i[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=u);break}}}finally{im=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gc(t):""}function F8(t){switch(t.tag){case 5:return Gc(t.type);case 16:return Gc("Lazy");case 13:return Gc("Suspense");case 19:return Gc("SuspenseList");case 0:case 2:case 15:return t=sm(t.type,!1),t;case 11:return t=sm(t.type.render,!1),t;case 1:return t=sm(t.type,!0),t;default:return""}}function Zm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case du:return"Fragment";case cu:return"Portal";case Qm:return"Profiler";case L1:return"StrictMode";case Ym:return"Suspense";case Xm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case f3:return(t.displayName||"Context")+".Consumer";case h3:return(t._context.displayName||"Context")+".Provider";case F1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z1:return e=t.displayName||null,e!==null?e:Zm(t.type)||"Memo";case Fa:e=t._payload,t=t._init;try{return Zm(t(e))}catch{}}return null}function z8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zm(e);case 8:return e===L1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function m3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function B8(t){var e=m3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nh(t){t._valueTracker||(t._valueTracker=B8(t))}function g3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=m3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jm(t,e){var n=e.checked;return nn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function l2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function y3(t,e){e=e.checked,e!=null&&I1(t,"checked",e,!1)}function eg(t,e){y3(t,e);var n=oo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tg(t,e.type,n):e.hasOwnProperty("defaultValue")&&tg(t,e.type,oo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function u2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tg(t,e,n){(e!=="number"||pf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vc=Array.isArray;function Su(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ng(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return nn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function c2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(be(92));if(Vc(n)){if(1<n.length)throw Error(be(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oo(n)}}function v3(t,e){var n=oo(e.value),r=oo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function x3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?x3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ph,w3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ph=Ph||document.createElement("div"),Ph.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ph.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U8=["Webkit","ms","Moz","O"];Object.keys(Qc).forEach(function(t){U8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qc[e]=Qc[t]})});function _3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qc.hasOwnProperty(t)&&Qc[t]?(""+e).trim():e+"px"}function S3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var G8=nn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ig(t,e){if(e){if(G8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function sg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ag=null;function B1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var og=null,bu=null,ku=null;function h2(t){if(t=Dd(t)){if(typeof og!="function")throw Error(be(280));var e=t.stateNode;e&&(e=r0(e),og(t.stateNode,t.type,e))}}function b3(t){bu?ku?ku.push(t):ku=[t]:bu=t}function k3(){if(bu){var t=bu,e=ku;if(ku=bu=null,h2(t),e)for(t=0;t<e.length;t++)h2(e[t])}}function C3(t,e){return t(e)}function E3(){}var am=!1;function N3(t,e,n){if(am)return t(e,n);am=!0;try{return C3(t,e,n)}finally{am=!1,(bu!==null||ku!==null)&&(E3(),k3())}}function ad(t,e){var n=t.stateNode;if(n===null)return null;var r=r0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(be(231,e,typeof n));return n}var lg=!1;if(Js)try{var Rc={};Object.defineProperty(Rc,"passive",{get:function(){lg=!0}}),window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{lg=!1}function V8(t,e,n,r,i,s,l,u,d){var m=Array.prototype.slice.call(arguments,3);try{e.apply(n,m)}catch(w){this.onError(w)}}var Yc=!1,mf=null,gf=!1,ug=null,W8={onError:function(t){Yc=!0,mf=t}};function H8(t,e,n,r,i,s,l,u,d){Yc=!1,mf=null,V8.apply(W8,arguments)}function K8(t,e,n,r,i,s,l,u,d){if(H8.apply(this,arguments),Yc){if(Yc){var m=mf;Yc=!1,mf=null}else throw Error(be(198));gf||(gf=!0,ug=m)}}function Sl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function P3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f2(t){if(Sl(t)!==t)throw Error(be(188))}function $8(t){var e=t.alternate;if(!e){if(e=Sl(t),e===null)throw Error(be(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return f2(i),t;if(s===r)return f2(i),e;s=s.sibling}throw Error(be(188))}if(n.return!==r.return)n=i,r=s;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,r=s;break}if(u===r){l=!0,r=i,n=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===n){l=!0,n=s,r=i;break}if(u===r){l=!0,r=s,n=i;break}u=u.sibling}if(!l)throw Error(be(189))}}if(n.alternate!==r)throw Error(be(190))}if(n.tag!==3)throw Error(be(188));return n.stateNode.current===n?t:e}function T3(t){return t=$8(t),t!==null?j3(t):null}function j3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=j3(t);if(e!==null)return e;t=t.sibling}return null}var R3=ei.unstable_scheduleCallback,p2=ei.unstable_cancelCallback,q8=ei.unstable_shouldYield,Q8=ei.unstable_requestPaint,vn=ei.unstable_now,Y8=ei.unstable_getCurrentPriorityLevel,U1=ei.unstable_ImmediatePriority,O3=ei.unstable_UserBlockingPriority,yf=ei.unstable_NormalPriority,X8=ei.unstable_LowPriority,A3=ei.unstable_IdlePriority,Jf=null,xs=null;function Z8(t){if(xs&&typeof xs.onCommitFiberRoot=="function")try{xs.onCommitFiberRoot(Jf,t,void 0,(t.current.flags&128)===128)}catch{}}var Vi=Math.clz32?Math.clz32:t_,J8=Math.log,e_=Math.LN2;function t_(t){return t>>>=0,t===0?32:31-(J8(t)/e_|0)|0}var Th=64,jh=4194304;function Wc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~i;u!==0?r=Wc(u):(s&=l,s!==0&&(r=Wc(s)))}else l=n&~i,l!==0?r=Wc(l):s!==0&&(r=Wc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vi(e),i=1<<n,r|=t[n],e&=~i;return r}function n_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-Vi(s),u=1<<l,d=i[l];d===-1?(!(u&n)||u&r)&&(i[l]=n_(u,e)):d<=e&&(t.expiredLanes|=u),s&=~u}}function cg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M3(){var t=Th;return Th<<=1,!(Th&4194240)&&(Th=64),t}function om(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ad(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vi(e),t[e]=n}function i_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function G1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ft=0;function D3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var I3,V1,L3,F3,z3,dg=!1,Rh=[],Za=null,Ja=null,eo=null,od=new Map,ld=new Map,Ua=[],s_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m2(t,e){switch(t){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":od.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ld.delete(e.pointerId)}}function Oc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Dd(e),e!==null&&V1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function a_(t,e,n,r,i){switch(e){case"focusin":return Za=Oc(Za,t,e,n,r,i),!0;case"dragenter":return Ja=Oc(Ja,t,e,n,r,i),!0;case"mouseover":return eo=Oc(eo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return od.set(s,Oc(od.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ld.set(s,Oc(ld.get(s)||null,t,e,n,r,i)),!0}return!1}function B3(t){var e=tl(t.target);if(e!==null){var n=Sl(e);if(n!==null){if(e=n.tag,e===13){if(e=P3(n),e!==null){t.blockedOn=e,z3(t.priority,function(){L3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ag=r,n.target.dispatchEvent(r),ag=null}else return e=Dd(n),e!==null&&V1(e),t.blockedOn=n,!1;e.shift()}return!0}function g2(t,e,n){Jh(t)&&n.delete(e)}function o_(){dg=!1,Za!==null&&Jh(Za)&&(Za=null),Ja!==null&&Jh(Ja)&&(Ja=null),eo!==null&&Jh(eo)&&(eo=null),od.forEach(g2),ld.forEach(g2)}function Ac(t,e){t.blockedOn===e&&(t.blockedOn=null,dg||(dg=!0,ei.unstable_scheduleCallback(ei.unstable_NormalPriority,o_)))}function ud(t){function e(i){return Ac(i,t)}if(0<Rh.length){Ac(Rh[0],t);for(var n=1;n<Rh.length;n++){var r=Rh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Za!==null&&Ac(Za,t),Ja!==null&&Ac(Ja,t),eo!==null&&Ac(eo,t),od.forEach(e),ld.forEach(e),n=0;n<Ua.length;n++)r=Ua[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ua.length&&(n=Ua[0],n.blockedOn===null);)B3(n),n.blockedOn===null&&Ua.shift()}var Cu=ia.ReactCurrentBatchConfig,xf=!0;function l_(t,e,n,r){var i=Ft,s=Cu.transition;Cu.transition=null;try{Ft=1,W1(t,e,n,r)}finally{Ft=i,Cu.transition=s}}function u_(t,e,n,r){var i=Ft,s=Cu.transition;Cu.transition=null;try{Ft=4,W1(t,e,n,r)}finally{Ft=i,Cu.transition=s}}function W1(t,e,n,r){if(xf){var i=hg(t,e,n,r);if(i===null)ym(t,e,r,wf,n),m2(t,r);else if(a_(i,t,e,n,r))r.stopPropagation();else if(m2(t,r),e&4&&-1<s_.indexOf(t)){for(;i!==null;){var s=Dd(i);if(s!==null&&I3(s),s=hg(t,e,n,r),s===null&&ym(t,e,r,wf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ym(t,e,r,null,n)}}var wf=null;function hg(t,e,n,r){if(wf=null,t=B1(r),t=tl(t),t!==null)if(e=Sl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=P3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wf=t,null}function U3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y8()){case U1:return 1;case O3:return 4;case yf:case X8:return 16;case A3:return 536870912;default:return 16}default:return 16}}var Qa=null,H1=null,ef=null;function G3(){if(ef)return ef;var t,e=H1,n=e.length,r,i="value"in Qa?Qa.value:Qa.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[s-r];r++);return ef=i.slice(t,1<r?1-r:void 0)}function tf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Oh(){return!0}function y2(){return!1}function ni(t){function e(n,r,i,s,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Oh:y2,this.isPropagationStopped=y2,this}return nn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oh)},persist:function(){},isPersistent:Oh}),e}var tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},K1=ni(tc),Md=nn({},tc,{view:0,detail:0}),c_=ni(Md),lm,um,Mc,e0=nn({},Md,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mc&&(Mc&&t.type==="mousemove"?(lm=t.screenX-Mc.screenX,um=t.screenY-Mc.screenY):um=lm=0,Mc=t),lm)},movementY:function(t){return"movementY"in t?t.movementY:um}}),v2=ni(e0),d_=nn({},e0,{dataTransfer:0}),h_=ni(d_),f_=nn({},Md,{relatedTarget:0}),cm=ni(f_),p_=nn({},tc,{animationName:0,elapsedTime:0,pseudoElement:0}),m_=ni(p_),g_=nn({},tc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),y_=ni(g_),v_=nn({},tc,{data:0}),x2=ni(v_),x_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},__={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=__[t])?!!e[t]:!1}function $1(){return S_}var b_=nn({},Md,{key:function(t){if(t.key){var e=x_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?w_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$1,charCode:function(t){return t.type==="keypress"?tf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),k_=ni(b_),C_=nn({},e0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w2=ni(C_),E_=nn({},Md,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$1}),N_=ni(E_),P_=nn({},tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),T_=ni(P_),j_=nn({},e0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R_=ni(j_),O_=[9,13,27,32],q1=Js&&"CompositionEvent"in window,Xc=null;Js&&"documentMode"in document&&(Xc=document.documentMode);var A_=Js&&"TextEvent"in window&&!Xc,V3=Js&&(!q1||Xc&&8<Xc&&11>=Xc),_2=String.fromCharCode(32),S2=!1;function W3(t,e){switch(t){case"keyup":return O_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function H3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hu=!1;function M_(t,e){switch(t){case"compositionend":return H3(e);case"keypress":return e.which!==32?null:(S2=!0,_2);case"textInput":return t=e.data,t===_2&&S2?null:t;default:return null}}function D_(t,e){if(hu)return t==="compositionend"||!q1&&W3(t,e)?(t=G3(),ef=H1=Qa=null,hu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return V3&&e.locale!=="ko"?null:e.data;default:return null}}var I_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!I_[t.type]:e==="textarea"}function K3(t,e,n,r){b3(r),e=_f(e,"onChange"),0<e.length&&(n=new K1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Zc=null,cd=null;function L_(t){rx(t,0)}function t0(t){var e=mu(t);if(g3(e))return t}function F_(t,e){if(t==="change")return e}var $3=!1;if(Js){var dm;if(Js){var hm="oninput"in document;if(!hm){var k2=document.createElement("div");k2.setAttribute("oninput","return;"),hm=typeof k2.oninput=="function"}dm=hm}else dm=!1;$3=dm&&(!document.documentMode||9<document.documentMode)}function C2(){Zc&&(Zc.detachEvent("onpropertychange",q3),cd=Zc=null)}function q3(t){if(t.propertyName==="value"&&t0(cd)){var e=[];K3(e,cd,t,B1(t)),N3(L_,e)}}function z_(t,e,n){t==="focusin"?(C2(),Zc=e,cd=n,Zc.attachEvent("onpropertychange",q3)):t==="focusout"&&C2()}function B_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return t0(cd)}function U_(t,e){if(t==="click")return t0(e)}function G_(t,e){if(t==="input"||t==="change")return t0(e)}function V_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ki=typeof Object.is=="function"?Object.is:V_;function dd(t,e){if(Ki(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qm.call(e,i)||!Ki(t[i],e[i]))return!1}return!0}function E2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function N2(t,e){var n=E2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E2(n)}}function Q3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Q3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Y3(){for(var t=window,e=pf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pf(t.document)}return e}function Q1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function W_(t){var e=Y3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Q3(n.ownerDocument.documentElement,n)){if(r!==null&&Q1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=N2(n,s);var l=N2(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var H_=Js&&"documentMode"in document&&11>=document.documentMode,fu=null,fg=null,Jc=null,pg=!1;function P2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pg||fu==null||fu!==pf(r)||(r=fu,"selectionStart"in r&&Q1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jc&&dd(Jc,r)||(Jc=r,r=_f(fg,"onSelect"),0<r.length&&(e=new K1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fu)))}function Ah(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pu={animationend:Ah("Animation","AnimationEnd"),animationiteration:Ah("Animation","AnimationIteration"),animationstart:Ah("Animation","AnimationStart"),transitionend:Ah("Transition","TransitionEnd")},fm={},X3={};Js&&(X3=document.createElement("div").style,"AnimationEvent"in window||(delete pu.animationend.animation,delete pu.animationiteration.animation,delete pu.animationstart.animation),"TransitionEvent"in window||delete pu.transitionend.transition);function n0(t){if(fm[t])return fm[t];if(!pu[t])return t;var e=pu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in X3)return fm[t]=e[n];return t}var Z3=n0("animationend"),J3=n0("animationiteration"),ex=n0("animationstart"),tx=n0("transitionend"),nx=new Map,T2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function po(t,e){nx.set(t,e),_l(e,[t])}for(var pm=0;pm<T2.length;pm++){var mm=T2[pm],K_=mm.toLowerCase(),$_=mm[0].toUpperCase()+mm.slice(1);po(K_,"on"+$_)}po(Z3,"onAnimationEnd");po(J3,"onAnimationIteration");po(ex,"onAnimationStart");po("dblclick","onDoubleClick");po("focusin","onFocus");po("focusout","onBlur");po(tx,"onTransitionEnd");Iu("onMouseEnter",["mouseout","mouseover"]);Iu("onMouseLeave",["mouseout","mouseover"]);Iu("onPointerEnter",["pointerout","pointerover"]);Iu("onPointerLeave",["pointerout","pointerover"]);_l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_l("onBeforeInput",["compositionend","keypress","textInput","paste"]);_l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hc));function j2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,K8(r,e,void 0,t),t.currentTarget=null}function rx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var l=r.length-1;0<=l;l--){var u=r[l],d=u.instance,m=u.currentTarget;if(u=u.listener,d!==s&&i.isPropagationStopped())break e;j2(i,u,m),s=d}else for(l=0;l<r.length;l++){if(u=r[l],d=u.instance,m=u.currentTarget,u=u.listener,d!==s&&i.isPropagationStopped())break e;j2(i,u,m),s=d}}}if(gf)throw t=ug,gf=!1,ug=null,t}function $t(t,e){var n=e[xg];n===void 0&&(n=e[xg]=new Set);var r=t+"__bubble";n.has(r)||(ix(e,t,2,!1),n.add(r))}function gm(t,e,n){var r=0;e&&(r|=4),ix(n,t,r,e)}var Mh="_reactListening"+Math.random().toString(36).slice(2);function hd(t){if(!t[Mh]){t[Mh]=!0,d3.forEach(function(n){n!=="selectionchange"&&(q_.has(n)||gm(n,!1,t),gm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mh]||(e[Mh]=!0,gm("selectionchange",!1,e))}}function ix(t,e,n,r){switch(U3(e)){case 1:var i=l_;break;case 4:i=u_;break;default:i=W1}n=i.bind(null,e,n,t),i=void 0,!lg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ym(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;l=l.return}for(;u!==null;){if(l=tl(u),l===null)return;if(d=l.tag,d===5||d===6){r=s=l;continue e}u=u.parentNode}}r=r.return}N3(function(){var m=s,w=B1(n),C=[];e:{var S=nx.get(t);if(S!==void 0){var _=K1,k=t;switch(t){case"keypress":if(tf(n)===0)break e;case"keydown":case"keyup":_=k_;break;case"focusin":k="focus",_=cm;break;case"focusout":k="blur",_=cm;break;case"beforeblur":case"afterblur":_=cm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=v2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=h_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=N_;break;case Z3:case J3:case ex:_=m_;break;case tx:_=T_;break;case"scroll":_=c_;break;case"wheel":_=R_;break;case"copy":case"cut":case"paste":_=y_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=w2}var R=(e&4)!==0,O=!R&&t==="scroll",T=R?S!==null?S+"Capture":null:S;R=[];for(var j=m,x;j!==null;){x=j;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,T!==null&&(N=ad(j,T),N!=null&&R.push(fd(j,N,x)))),O)break;j=j.return}0<R.length&&(S=new _(S,k,null,n,w),C.push({event:S,listeners:R}))}}if(!(e&7)){e:{if(S=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",S&&n!==ag&&(k=n.relatedTarget||n.fromElement)&&(tl(k)||k[ea]))break e;if((_||S)&&(S=w.window===w?w:(S=w.ownerDocument)?S.defaultView||S.parentWindow:window,_?(k=n.relatedTarget||n.toElement,_=m,k=k?tl(k):null,k!==null&&(O=Sl(k),k!==O||k.tag!==5&&k.tag!==6)&&(k=null)):(_=null,k=m),_!==k)){if(R=v2,N="onMouseLeave",T="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(R=w2,N="onPointerLeave",T="onPointerEnter",j="pointer"),O=_==null?S:mu(_),x=k==null?S:mu(k),S=new R(N,j+"leave",_,n,w),S.target=O,S.relatedTarget=x,N=null,tl(w)===m&&(R=new R(T,j+"enter",k,n,w),R.target=x,R.relatedTarget=O,N=R),O=N,_&&k)t:{for(R=_,T=k,j=0,x=R;x;x=iu(x))j++;for(x=0,N=T;N;N=iu(N))x++;for(;0<j-x;)R=iu(R),j--;for(;0<x-j;)T=iu(T),x--;for(;j--;){if(R===T||T!==null&&R===T.alternate)break t;R=iu(R),T=iu(T)}R=null}else R=null;_!==null&&R2(C,S,_,R,!1),k!==null&&O!==null&&R2(C,O,k,R,!0)}}e:{if(S=m?mu(m):window,_=S.nodeName&&S.nodeName.toLowerCase(),_==="select"||_==="input"&&S.type==="file")var D=F_;else if(b2(S))if($3)D=G_;else{D=B_;var M=z_}else(_=S.nodeName)&&_.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(D=U_);if(D&&(D=D(t,m))){K3(C,D,n,w);break e}M&&M(t,S,m),t==="focusout"&&(M=S._wrapperState)&&M.controlled&&S.type==="number"&&tg(S,"number",S.value)}switch(M=m?mu(m):window,t){case"focusin":(b2(M)||M.contentEditable==="true")&&(fu=M,fg=m,Jc=null);break;case"focusout":Jc=fg=fu=null;break;case"mousedown":pg=!0;break;case"contextmenu":case"mouseup":case"dragend":pg=!1,P2(C,n,w);break;case"selectionchange":if(H_)break;case"keydown":case"keyup":P2(C,n,w)}var V;if(q1)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else hu?W3(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(V3&&n.locale!=="ko"&&(hu||F!=="onCompositionStart"?F==="onCompositionEnd"&&hu&&(V=G3()):(Qa=w,H1="value"in Qa?Qa.value:Qa.textContent,hu=!0)),M=_f(m,F),0<M.length&&(F=new x2(F,t,null,n,w),C.push({event:F,listeners:M}),V?F.data=V:(V=H3(n),V!==null&&(F.data=V)))),(V=A_?M_(t,n):D_(t,n))&&(m=_f(m,"onBeforeInput"),0<m.length&&(w=new x2("onBeforeInput","beforeinput",null,n,w),C.push({event:w,listeners:m}),w.data=V))}rx(C,e)})}function fd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _f(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ad(t,n),s!=null&&r.unshift(fd(t,s,i)),s=ad(t,e),s!=null&&r.push(fd(t,s,i))),t=t.return}return r}function iu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function R2(t,e,n,r,i){for(var s=e._reactName,l=[];n!==null&&n!==r;){var u=n,d=u.alternate,m=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&m!==null&&(u=m,i?(d=ad(n,s),d!=null&&l.unshift(fd(n,d,u))):i||(d=ad(n,s),d!=null&&l.push(fd(n,d,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var Q_=/\r\n?/g,Y_=/\u0000|\uFFFD/g;function O2(t){return(typeof t=="string"?t:""+t).replace(Q_,`
`).replace(Y_,"")}function Dh(t,e,n){if(e=O2(e),O2(t)!==e&&n)throw Error(be(425))}function Sf(){}var mg=null,gg=null;function yg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vg=typeof setTimeout=="function"?setTimeout:void 0,X_=typeof clearTimeout=="function"?clearTimeout:void 0,A2=typeof Promise=="function"?Promise:void 0,Z_=typeof queueMicrotask=="function"?queueMicrotask:typeof A2<"u"?function(t){return A2.resolve(null).then(t).catch(J_)}:vg;function J_(t){setTimeout(function(){throw t})}function vm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ud(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ud(e)}function to(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function M2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var nc=Math.random().toString(36).slice(2),ys="__reactFiber$"+nc,pd="__reactProps$"+nc,ea="__reactContainer$"+nc,xg="__reactEvents$"+nc,e9="__reactListeners$"+nc,t9="__reactHandles$"+nc;function tl(t){var e=t[ys];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ea]||n[ys]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=M2(t);t!==null;){if(n=t[ys])return n;t=M2(t)}return e}t=n,n=t.parentNode}return null}function Dd(t){return t=t[ys]||t[ea],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(be(33))}function r0(t){return t[pd]||null}var wg=[],gu=-1;function mo(t){return{current:t}}function qt(t){0>gu||(t.current=wg[gu],wg[gu]=null,gu--)}function Vt(t,e){gu++,wg[gu]=t.current,t.current=e}var lo={},ur=mo(lo),Ur=mo(!1),ml=lo;function Lu(t,e){var n=t.type.contextTypes;if(!n)return lo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gr(t){return t=t.childContextTypes,t!=null}function bf(){qt(Ur),qt(ur)}function D2(t,e,n){if(ur.current!==lo)throw Error(be(168));Vt(ur,e),Vt(Ur,n)}function sx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(be(108,z8(t)||"Unknown",i));return nn({},n,r)}function kf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lo,ml=ur.current,Vt(ur,t),Vt(Ur,Ur.current),!0}function I2(t,e,n){var r=t.stateNode;if(!r)throw Error(be(169));n?(t=sx(t,e,ml),r.__reactInternalMemoizedMergedChildContext=t,qt(Ur),qt(ur),Vt(ur,t)):qt(Ur),Vt(Ur,n)}var Ks=null,i0=!1,xm=!1;function ax(t){Ks===null?Ks=[t]:Ks.push(t)}function n9(t){i0=!0,ax(t)}function go(){if(!xm&&Ks!==null){xm=!0;var t=0,e=Ft;try{var n=Ks;for(Ft=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ks=null,i0=!1}catch(i){throw Ks!==null&&(Ks=Ks.slice(t+1)),R3(U1,go),i}finally{Ft=e,xm=!1}}return null}var yu=[],vu=0,Cf=null,Ef=0,gi=[],yi=0,gl=null,qs=1,Qs="";function Zo(t,e){yu[vu++]=Ef,yu[vu++]=Cf,Cf=t,Ef=e}function ox(t,e,n){gi[yi++]=qs,gi[yi++]=Qs,gi[yi++]=gl,gl=t;var r=qs;t=Qs;var i=32-Vi(r)-1;r&=~(1<<i),n+=1;var s=32-Vi(e)+i;if(30<s){var l=i-i%5;s=(r&(1<<l)-1).toString(32),r>>=l,i-=l,qs=1<<32-Vi(e)+i|n<<i|r,Qs=s+t}else qs=1<<s|n<<i|r,Qs=t}function Y1(t){t.return!==null&&(Zo(t,1),ox(t,1,0))}function X1(t){for(;t===Cf;)Cf=yu[--vu],yu[vu]=null,Ef=yu[--vu],yu[vu]=null;for(;t===gl;)gl=gi[--yi],gi[yi]=null,Qs=gi[--yi],gi[yi]=null,qs=gi[--yi],gi[yi]=null}var Jr=null,Zr=null,Xt=!1,Gi=null;function lx(t,e){var n=vi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function L2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jr=t,Zr=to(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jr=t,Zr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gl!==null?{id:qs,overflow:Qs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jr=t,Zr=null,!0):!1;default:return!1}}function _g(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sg(t){if(Xt){var e=Zr;if(e){var n=e;if(!L2(t,e)){if(_g(t))throw Error(be(418));e=to(n.nextSibling);var r=Jr;e&&L2(t,e)?lx(r,n):(t.flags=t.flags&-4097|2,Xt=!1,Jr=t)}}else{if(_g(t))throw Error(be(418));t.flags=t.flags&-4097|2,Xt=!1,Jr=t}}}function F2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jr=t}function Ih(t){if(t!==Jr)return!1;if(!Xt)return F2(t),Xt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yg(t.type,t.memoizedProps)),e&&(e=Zr)){if(_g(t))throw ux(),Error(be(418));for(;e;)lx(t,e),e=to(e.nextSibling)}if(F2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zr=to(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zr=null}}else Zr=Jr?to(t.stateNode.nextSibling):null;return!0}function ux(){for(var t=Zr;t;)t=to(t.nextSibling)}function Fu(){Zr=Jr=null,Xt=!1}function Z1(t){Gi===null?Gi=[t]:Gi.push(t)}var r9=ia.ReactCurrentBatchConfig;function Dc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(be(309));var r=n.stateNode}if(!r)throw Error(be(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(l){var u=i.refs;l===null?delete u[s]:u[s]=l},e._stringRef=s,e)}if(typeof t!="string")throw Error(be(284));if(!n._owner)throw Error(be(290,t))}return t}function Lh(t,e){throw t=Object.prototype.toString.call(e),Error(be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function z2(t){var e=t._init;return e(t._payload)}function cx(t){function e(T,j){if(t){var x=T.deletions;x===null?(T.deletions=[j],T.flags|=16):x.push(j)}}function n(T,j){if(!t)return null;for(;j!==null;)e(T,j),j=j.sibling;return null}function r(T,j){for(T=new Map;j!==null;)j.key!==null?T.set(j.key,j):T.set(j.index,j),j=j.sibling;return T}function i(T,j){return T=so(T,j),T.index=0,T.sibling=null,T}function s(T,j,x){return T.index=x,t?(x=T.alternate,x!==null?(x=x.index,x<j?(T.flags|=2,j):x):(T.flags|=2,j)):(T.flags|=1048576,j)}function l(T){return t&&T.alternate===null&&(T.flags|=2),T}function u(T,j,x,N){return j===null||j.tag!==6?(j=Em(x,T.mode,N),j.return=T,j):(j=i(j,x),j.return=T,j)}function d(T,j,x,N){var D=x.type;return D===du?w(T,j,x.props.children,N,x.key):j!==null&&(j.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Fa&&z2(D)===j.type)?(N=i(j,x.props),N.ref=Dc(T,j,x),N.return=T,N):(N=uf(x.type,x.key,x.props,null,T.mode,N),N.ref=Dc(T,j,x),N.return=T,N)}function m(T,j,x,N){return j===null||j.tag!==4||j.stateNode.containerInfo!==x.containerInfo||j.stateNode.implementation!==x.implementation?(j=Nm(x,T.mode,N),j.return=T,j):(j=i(j,x.children||[]),j.return=T,j)}function w(T,j,x,N,D){return j===null||j.tag!==7?(j=fl(x,T.mode,N,D),j.return=T,j):(j=i(j,x),j.return=T,j)}function C(T,j,x){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Em(""+j,T.mode,x),j.return=T,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Eh:return x=uf(j.type,j.key,j.props,null,T.mode,x),x.ref=Dc(T,null,j),x.return=T,x;case cu:return j=Nm(j,T.mode,x),j.return=T,j;case Fa:var N=j._init;return C(T,N(j._payload),x)}if(Vc(j)||jc(j))return j=fl(j,T.mode,x,null),j.return=T,j;Lh(T,j)}return null}function S(T,j,x,N){var D=j!==null?j.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return D!==null?null:u(T,j,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Eh:return x.key===D?d(T,j,x,N):null;case cu:return x.key===D?m(T,j,x,N):null;case Fa:return D=x._init,S(T,j,D(x._payload),N)}if(Vc(x)||jc(x))return D!==null?null:w(T,j,x,N,null);Lh(T,x)}return null}function _(T,j,x,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return T=T.get(x)||null,u(j,T,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Eh:return T=T.get(N.key===null?x:N.key)||null,d(j,T,N,D);case cu:return T=T.get(N.key===null?x:N.key)||null,m(j,T,N,D);case Fa:var M=N._init;return _(T,j,x,M(N._payload),D)}if(Vc(N)||jc(N))return T=T.get(x)||null,w(j,T,N,D,null);Lh(j,N)}return null}function k(T,j,x,N){for(var D=null,M=null,V=j,F=j=0,ne=null;V!==null&&F<x.length;F++){V.index>F?(ne=V,V=null):ne=V.sibling;var W=S(T,V,x[F],N);if(W===null){V===null&&(V=ne);break}t&&V&&W.alternate===null&&e(T,V),j=s(W,j,F),M===null?D=W:M.sibling=W,M=W,V=ne}if(F===x.length)return n(T,V),Xt&&Zo(T,F),D;if(V===null){for(;F<x.length;F++)V=C(T,x[F],N),V!==null&&(j=s(V,j,F),M===null?D=V:M.sibling=V,M=V);return Xt&&Zo(T,F),D}for(V=r(T,V);F<x.length;F++)ne=_(V,T,F,x[F],N),ne!==null&&(t&&ne.alternate!==null&&V.delete(ne.key===null?F:ne.key),j=s(ne,j,F),M===null?D=ne:M.sibling=ne,M=ne);return t&&V.forEach(function(re){return e(T,re)}),Xt&&Zo(T,F),D}function R(T,j,x,N){var D=jc(x);if(typeof D!="function")throw Error(be(150));if(x=D.call(x),x==null)throw Error(be(151));for(var M=D=null,V=j,F=j=0,ne=null,W=x.next();V!==null&&!W.done;F++,W=x.next()){V.index>F?(ne=V,V=null):ne=V.sibling;var re=S(T,V,W.value,N);if(re===null){V===null&&(V=ne);break}t&&V&&re.alternate===null&&e(T,V),j=s(re,j,F),M===null?D=re:M.sibling=re,M=re,V=ne}if(W.done)return n(T,V),Xt&&Zo(T,F),D;if(V===null){for(;!W.done;F++,W=x.next())W=C(T,W.value,N),W!==null&&(j=s(W,j,F),M===null?D=W:M.sibling=W,M=W);return Xt&&Zo(T,F),D}for(V=r(T,V);!W.done;F++,W=x.next())W=_(V,T,F,W.value,N),W!==null&&(t&&W.alternate!==null&&V.delete(W.key===null?F:W.key),j=s(W,j,F),M===null?D=W:M.sibling=W,M=W);return t&&V.forEach(function(oe){return e(T,oe)}),Xt&&Zo(T,F),D}function O(T,j,x,N){if(typeof x=="object"&&x!==null&&x.type===du&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Eh:e:{for(var D=x.key,M=j;M!==null;){if(M.key===D){if(D=x.type,D===du){if(M.tag===7){n(T,M.sibling),j=i(M,x.props.children),j.return=T,T=j;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Fa&&z2(D)===M.type){n(T,M.sibling),j=i(M,x.props),j.ref=Dc(T,M,x),j.return=T,T=j;break e}n(T,M);break}else e(T,M);M=M.sibling}x.type===du?(j=fl(x.props.children,T.mode,N,x.key),j.return=T,T=j):(N=uf(x.type,x.key,x.props,null,T.mode,N),N.ref=Dc(T,j,x),N.return=T,T=N)}return l(T);case cu:e:{for(M=x.key;j!==null;){if(j.key===M)if(j.tag===4&&j.stateNode.containerInfo===x.containerInfo&&j.stateNode.implementation===x.implementation){n(T,j.sibling),j=i(j,x.children||[]),j.return=T,T=j;break e}else{n(T,j);break}else e(T,j);j=j.sibling}j=Nm(x,T.mode,N),j.return=T,T=j}return l(T);case Fa:return M=x._init,O(T,j,M(x._payload),N)}if(Vc(x))return k(T,j,x,N);if(jc(x))return R(T,j,x,N);Lh(T,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,j!==null&&j.tag===6?(n(T,j.sibling),j=i(j,x),j.return=T,T=j):(n(T,j),j=Em(x,T.mode,N),j.return=T,T=j),l(T)):n(T,j)}return O}var zu=cx(!0),dx=cx(!1),Nf=mo(null),Pf=null,xu=null,J1=null;function ey(){J1=xu=Pf=null}function ty(t){var e=Nf.current;qt(Nf),t._currentValue=e}function bg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Eu(t,e){Pf=t,J1=xu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Br=!0),t.firstContext=null)}function _i(t){var e=t._currentValue;if(J1!==t)if(t={context:t,memoizedValue:e,next:null},xu===null){if(Pf===null)throw Error(be(308));xu=t,Pf.dependencies={lanes:0,firstContext:t}}else xu=xu.next=t;return e}var nl=null;function ny(t){nl===null?nl=[t]:nl.push(t)}function hx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ny(e)):(n.next=i.next,i.next=n),e.interleaved=n,ta(t,r)}function ta(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var za=!1;function ry(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function no(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ta(t,n)}return i=r.interleaved,i===null?(e.next=e,ny(r)):(e.next=i.next,i.next=e),r.interleaved=e,ta(t,n)}function nf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,G1(t,n)}}function B2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tf(t,e,n,r){var i=t.updateQueue;za=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var d=u,m=d.next;d.next=null,l===null?s=m:l.next=m,l=d;var w=t.alternate;w!==null&&(w=w.updateQueue,u=w.lastBaseUpdate,u!==l&&(u===null?w.firstBaseUpdate=m:u.next=m,w.lastBaseUpdate=d))}if(s!==null){var C=i.baseState;l=0,w=m=d=null,u=s;do{var S=u.lane,_=u.eventTime;if((r&S)===S){w!==null&&(w=w.next={eventTime:_,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var k=t,R=u;switch(S=e,_=n,R.tag){case 1:if(k=R.payload,typeof k=="function"){C=k.call(_,C,S);break e}C=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=R.payload,S=typeof k=="function"?k.call(_,C,S):k,S==null)break e;C=nn({},C,S);break e;case 2:za=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,S=i.effects,S===null?i.effects=[u]:S.push(u))}else _={eventTime:_,lane:S,tag:u.tag,payload:u.payload,callback:u.callback,next:null},w===null?(m=w=_,d=C):w=w.next=_,l|=S;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;S=u,u=S.next,S.next=null,i.lastBaseUpdate=S,i.shared.pending=null}}while(1);if(w===null&&(d=C),i.baseState=d,i.firstBaseUpdate=m,i.lastBaseUpdate=w,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);vl|=l,t.lanes=l,t.memoizedState=C}}function U2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(be(191,i));i.call(r)}}}var Id={},ws=mo(Id),md=mo(Id),gd=mo(Id);function rl(t){if(t===Id)throw Error(be(174));return t}function iy(t,e){switch(Vt(gd,e),Vt(md,t),Vt(ws,Id),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rg(e,t)}qt(ws),Vt(ws,e)}function Bu(){qt(ws),qt(md),qt(gd)}function px(t){rl(gd.current);var e=rl(ws.current),n=rg(e,t.type);e!==n&&(Vt(md,t),Vt(ws,n))}function sy(t){md.current===t&&(qt(ws),qt(md))}var en=mo(0);function jf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wm=[];function ay(){for(var t=0;t<wm.length;t++)wm[t]._workInProgressVersionPrimary=null;wm.length=0}var rf=ia.ReactCurrentDispatcher,_m=ia.ReactCurrentBatchConfig,yl=0,tn=null,jn=null,Un=null,Rf=!1,ed=!1,yd=0,i9=0;function sr(){throw Error(be(321))}function oy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ki(t[n],e[n]))return!1;return!0}function ly(t,e,n,r,i,s){if(yl=s,tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rf.current=t===null||t.memoizedState===null?l9:u9,t=n(r,i),ed){s=0;do{if(ed=!1,yd=0,25<=s)throw Error(be(301));s+=1,Un=jn=null,e.updateQueue=null,rf.current=c9,t=n(r,i)}while(ed)}if(rf.current=Of,e=jn!==null&&jn.next!==null,yl=0,Un=jn=tn=null,Rf=!1,e)throw Error(be(300));return t}function uy(){var t=yd!==0;return yd=0,t}function fs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?tn.memoizedState=Un=t:Un=Un.next=t,Un}function Si(){if(jn===null){var t=tn.alternate;t=t!==null?t.memoizedState:null}else t=jn.next;var e=Un===null?tn.memoizedState:Un.next;if(e!==null)Un=e,jn=t;else{if(t===null)throw Error(be(310));jn=t,t={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},Un===null?tn.memoizedState=Un=t:Un=Un.next=t}return Un}function vd(t,e){return typeof e=="function"?e(t):e}function Sm(t){var e=Si(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=jn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=l=null,d=null,m=s;do{var w=m.lane;if((yl&w)===w)d!==null&&(d=d.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:t(r,m.action);else{var C={lane:w,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};d===null?(u=d=C,l=r):d=d.next=C,tn.lanes|=w,vl|=w}m=m.next}while(m!==null&&m!==s);d===null?l=r:d.next=u,Ki(r,e.memoizedState)||(Br=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,tn.lanes|=s,vl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bm(t){var e=Si(),n=e.queue;if(n===null)throw Error(be(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=t(s,l.action),l=l.next;while(l!==i);Ki(s,e.memoizedState)||(Br=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mx(){}function gx(t,e){var n=tn,r=Si(),i=e(),s=!Ki(r.memoizedState,i);if(s&&(r.memoizedState=i,Br=!0),r=r.queue,cy(xx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Un!==null&&Un.memoizedState.tag&1){if(n.flags|=2048,xd(9,vx.bind(null,n,r,i,e),void 0,null),Gn===null)throw Error(be(349));yl&30||yx(n,e,i)}return i}function yx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tn.updateQueue,e===null?(e={lastEffect:null,stores:null},tn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vx(t,e,n,r){e.value=n,e.getSnapshot=r,wx(e)&&_x(t)}function xx(t,e,n){return n(function(){wx(e)&&_x(t)})}function wx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ki(t,n)}catch{return!0}}function _x(t){var e=ta(t,1);e!==null&&Wi(e,t,1,-1)}function G2(t){var e=fs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vd,lastRenderedState:t},e.queue=t,t=t.dispatch=o9.bind(null,tn,t),[e.memoizedState,t]}function xd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tn.updateQueue,e===null?(e={lastEffect:null,stores:null},tn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Sx(){return Si().memoizedState}function sf(t,e,n,r){var i=fs();tn.flags|=t,i.memoizedState=xd(1|e,n,void 0,r===void 0?null:r)}function s0(t,e,n,r){var i=Si();r=r===void 0?null:r;var s=void 0;if(jn!==null){var l=jn.memoizedState;if(s=l.destroy,r!==null&&oy(r,l.deps)){i.memoizedState=xd(e,n,s,r);return}}tn.flags|=t,i.memoizedState=xd(1|e,n,s,r)}function V2(t,e){return sf(8390656,8,t,e)}function cy(t,e){return s0(2048,8,t,e)}function bx(t,e){return s0(4,2,t,e)}function kx(t,e){return s0(4,4,t,e)}function Cx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ex(t,e,n){return n=n!=null?n.concat([t]):null,s0(4,4,Cx.bind(null,e,t),n)}function dy(){}function Nx(t,e){var n=Si();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Px(t,e){var n=Si();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Tx(t,e,n){return yl&21?(Ki(n,e)||(n=M3(),tn.lanes|=n,vl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Br=!0),t.memoizedState=n)}function s9(t,e){var n=Ft;Ft=n!==0&&4>n?n:4,t(!0);var r=_m.transition;_m.transition={};try{t(!1),e()}finally{Ft=n,_m.transition=r}}function jx(){return Si().memoizedState}function a9(t,e,n){var r=io(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rx(t))Ox(e,n);else if(n=hx(t,e,n,r),n!==null){var i=wr();Wi(n,t,r,i),Ax(n,e,r)}}function o9(t,e,n){var r=io(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rx(t))Ox(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,u=s(l,n);if(i.hasEagerState=!0,i.eagerState=u,Ki(u,l)){var d=e.interleaved;d===null?(i.next=i,ny(e)):(i.next=d.next,d.next=i),e.interleaved=i;return}}catch{}finally{}n=hx(t,e,i,r),n!==null&&(i=wr(),Wi(n,t,r,i),Ax(n,e,r))}}function Rx(t){var e=t.alternate;return t===tn||e!==null&&e===tn}function Ox(t,e){ed=Rf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ax(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,G1(t,n)}}var Of={readContext:_i,useCallback:sr,useContext:sr,useEffect:sr,useImperativeHandle:sr,useInsertionEffect:sr,useLayoutEffect:sr,useMemo:sr,useReducer:sr,useRef:sr,useState:sr,useDebugValue:sr,useDeferredValue:sr,useTransition:sr,useMutableSource:sr,useSyncExternalStore:sr,useId:sr,unstable_isNewReconciler:!1},l9={readContext:_i,useCallback:function(t,e){return fs().memoizedState=[t,e===void 0?null:e],t},useContext:_i,useEffect:V2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sf(4194308,4,Cx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sf(4194308,4,t,e)},useInsertionEffect:function(t,e){return sf(4,2,t,e)},useMemo:function(t,e){var n=fs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=a9.bind(null,tn,t),[r.memoizedState,t]},useRef:function(t){var e=fs();return t={current:t},e.memoizedState=t},useState:G2,useDebugValue:dy,useDeferredValue:function(t){return fs().memoizedState=t},useTransition:function(){var t=G2(!1),e=t[0];return t=s9.bind(null,t[1]),fs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tn,i=fs();if(Xt){if(n===void 0)throw Error(be(407));n=n()}else{if(n=e(),Gn===null)throw Error(be(349));yl&30||yx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,V2(xx.bind(null,r,s,t),[t]),r.flags|=2048,xd(9,vx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=fs(),e=Gn.identifierPrefix;if(Xt){var n=Qs,r=qs;n=(r&~(1<<32-Vi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=i9++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},u9={readContext:_i,useCallback:Nx,useContext:_i,useEffect:cy,useImperativeHandle:Ex,useInsertionEffect:bx,useLayoutEffect:kx,useMemo:Px,useReducer:Sm,useRef:Sx,useState:function(){return Sm(vd)},useDebugValue:dy,useDeferredValue:function(t){var e=Si();return Tx(e,jn.memoizedState,t)},useTransition:function(){var t=Sm(vd)[0],e=Si().memoizedState;return[t,e]},useMutableSource:mx,useSyncExternalStore:gx,useId:jx,unstable_isNewReconciler:!1},c9={readContext:_i,useCallback:Nx,useContext:_i,useEffect:cy,useImperativeHandle:Ex,useInsertionEffect:bx,useLayoutEffect:kx,useMemo:Px,useReducer:bm,useRef:Sx,useState:function(){return bm(vd)},useDebugValue:dy,useDeferredValue:function(t){var e=Si();return jn===null?e.memoizedState=t:Tx(e,jn.memoizedState,t)},useTransition:function(){var t=bm(vd)[0],e=Si().memoizedState;return[t,e]},useMutableSource:mx,useSyncExternalStore:gx,useId:jx,unstable_isNewReconciler:!1};function Li(t,e){if(t&&t.defaultProps){e=nn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function kg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var a0={isMounted:function(t){return(t=t._reactInternals)?Sl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wr(),i=io(t),s=Xs(r,i);s.payload=e,n!=null&&(s.callback=n),e=no(t,s,i),e!==null&&(Wi(e,t,i,r),nf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wr(),i=io(t),s=Xs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=no(t,s,i),e!==null&&(Wi(e,t,i,r),nf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wr(),r=io(t),i=Xs(n,r);i.tag=2,e!=null&&(i.callback=e),e=no(t,i,r),e!==null&&(Wi(e,t,r,n),nf(e,t,r))}};function W2(t,e,n,r,i,s,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,l):e.prototype&&e.prototype.isPureReactComponent?!dd(n,r)||!dd(i,s):!0}function Mx(t,e,n){var r=!1,i=lo,s=e.contextType;return typeof s=="object"&&s!==null?s=_i(s):(i=Gr(e)?ml:ur.current,r=e.contextTypes,s=(r=r!=null)?Lu(t,i):lo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=a0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function H2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&a0.enqueueReplaceState(e,e.state,null)}function Cg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ry(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_i(s):(s=Gr(e)?ml:ur.current,i.context=Lu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(kg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&a0.enqueueReplaceState(i,i.state,null),Tf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Uu(t,e){try{var n="",r=e;do n+=F8(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function km(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Eg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var d9=typeof WeakMap=="function"?WeakMap:Map;function Dx(t,e,n){n=Xs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mf||(Mf=!0,Ig=r),Eg(t,e)},n}function Ix(t,e,n){n=Xs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Eg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Eg(t,e),typeof r!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function K2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new d9;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=C9.bind(null,t,e,n),e.then(t,t))}function $2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function q2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xs(-1,1),e.tag=2,no(n,e,1))),n.lanes|=1),t)}var h9=ia.ReactCurrentOwner,Br=!1;function vr(t,e,n,r){e.child=t===null?dx(e,null,n,r):zu(e,t.child,n,r)}function Q2(t,e,n,r,i){n=n.render;var s=e.ref;return Eu(e,i),r=ly(t,e,n,r,s,i),n=uy(),t!==null&&!Br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,na(t,e,i)):(Xt&&n&&Y1(e),e.flags|=1,vr(t,e,r,i),e.child)}function Y2(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!xy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Lx(t,e,s,r,i)):(t=uf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:dd,n(l,r)&&t.ref===e.ref)return na(t,e,i)}return e.flags|=1,t=so(s,r),t.ref=e.ref,t.return=e,e.child=t}function Lx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(dd(s,r)&&t.ref===e.ref)if(Br=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Br=!0);else return e.lanes=t.lanes,na(t,e,i)}return Ng(t,e,n,r,i)}function Fx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(_u,Yr),Yr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Vt(_u,Yr),Yr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Vt(_u,Yr),Yr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Vt(_u,Yr),Yr|=r;return vr(t,e,i,n),e.child}function zx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ng(t,e,n,r,i){var s=Gr(n)?ml:ur.current;return s=Lu(e,s),Eu(e,i),n=ly(t,e,n,r,s,i),r=uy(),t!==null&&!Br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,na(t,e,i)):(Xt&&r&&Y1(e),e.flags|=1,vr(t,e,n,i),e.child)}function X2(t,e,n,r,i){if(Gr(n)){var s=!0;kf(e)}else s=!1;if(Eu(e,i),e.stateNode===null)af(t,e),Mx(e,n,r),Cg(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var d=l.context,m=n.contextType;typeof m=="object"&&m!==null?m=_i(m):(m=Gr(n)?ml:ur.current,m=Lu(e,m));var w=n.getDerivedStateFromProps,C=typeof w=="function"||typeof l.getSnapshotBeforeUpdate=="function";C||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||d!==m)&&H2(e,l,r,m),za=!1;var S=e.memoizedState;l.state=S,Tf(e,r,l,i),d=e.memoizedState,u!==r||S!==d||Ur.current||za?(typeof w=="function"&&(kg(e,n,w,r),d=e.memoizedState),(u=za||W2(e,n,u,r,S,d,m))?(C||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),l.props=r,l.state=d,l.context=m,r=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,fx(t,e),u=e.memoizedProps,m=e.type===e.elementType?u:Li(e.type,u),l.props=m,C=e.pendingProps,S=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=_i(d):(d=Gr(n)?ml:ur.current,d=Lu(e,d));var _=n.getDerivedStateFromProps;(w=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==C||S!==d)&&H2(e,l,r,d),za=!1,S=e.memoizedState,l.state=S,Tf(e,r,l,i);var k=e.memoizedState;u!==C||S!==k||Ur.current||za?(typeof _=="function"&&(kg(e,n,_,r),k=e.memoizedState),(m=za||W2(e,n,m,r,S,k,d)||!1)?(w||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,k,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,k,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&S===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&S===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),l.props=r,l.state=k,l.context=d,r=m):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&S===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&S===t.memoizedState||(e.flags|=1024),r=!1)}return Pg(t,e,n,r,s,i)}function Pg(t,e,n,r,i,s){zx(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&I2(e,n,!1),na(t,e,s);r=e.stateNode,h9.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=zu(e,t.child,null,s),e.child=zu(e,null,u,s)):vr(t,e,u,s),e.memoizedState=r.state,i&&I2(e,n,!0),e.child}function Bx(t){var e=t.stateNode;e.pendingContext?D2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&D2(t,e.context,!1),iy(t,e.containerInfo)}function Z2(t,e,n,r,i){return Fu(),Z1(i),e.flags|=256,vr(t,e,n,r),e.child}var Tg={dehydrated:null,treeContext:null,retryLane:0};function jg(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ux(t,e,n){var r=e.pendingProps,i=en.current,s=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Vt(en,i&1),t===null)return Sg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,s?(r=e.mode,s=e.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=u0(l,r,0,null),t=fl(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=jg(n),e.memoizedState=Tg,t):hy(e,l));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return f9(t,e,l,r,u,i,n);if(s){s=r.fallback,l=e.mode,i=t.child,u=i.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=so(i,d),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=so(u,s):(s=fl(s,l,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,l=t.child.memoizedState,l=l===null?jg(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Tg,r}return s=t.child,t=s.sibling,r=so(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hy(t,e){return e=u0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fh(t,e,n,r){return r!==null&&Z1(r),zu(e,t.child,null,n),t=hy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function f9(t,e,n,r,i,s,l){if(n)return e.flags&256?(e.flags&=-257,r=km(Error(be(422))),Fh(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=u0({mode:"visible",children:r.children},i,0,null),s=fl(s,i,l,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&zu(e,t.child,null,l),e.child.memoizedState=jg(l),e.memoizedState=Tg,s);if(!(e.mode&1))return Fh(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(be(419)),r=km(s,r,void 0),Fh(t,e,l,r)}if(u=(l&t.childLanes)!==0,Br||u){if(r=Gn,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ta(t,i),Wi(r,t,i,-1))}return vy(),r=km(Error(be(421))),Fh(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=E9.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zr=to(i.nextSibling),Jr=e,Xt=!0,Gi=null,t!==null&&(gi[yi++]=qs,gi[yi++]=Qs,gi[yi++]=gl,qs=t.id,Qs=t.overflow,gl=e),e=hy(e,r.children),e.flags|=4096,e)}function J2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bg(t.return,e,n)}function Cm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Gx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(vr(t,e,r.children,n),r=en.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&J2(t,n,e);else if(t.tag===19)J2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Vt(en,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&jf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Cm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&jf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Cm(e,!0,n,null,s);break;case"together":Cm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function af(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function na(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(be(153));if(e.child!==null){for(t=e.child,n=so(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=so(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function p9(t,e,n){switch(e.tag){case 3:Bx(e),Fu();break;case 5:px(e);break;case 1:Gr(e.type)&&kf(e);break;case 4:iy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Vt(Nf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Vt(en,en.current&1),e.flags|=128,null):n&e.child.childLanes?Ux(t,e,n):(Vt(en,en.current&1),t=na(t,e,n),t!==null?t.sibling:null);Vt(en,en.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Gx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vt(en,en.current),r)break;return null;case 22:case 23:return e.lanes=0,Fx(t,e,n)}return na(t,e,n)}var Vx,Rg,Wx,Hx;Vx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rg=function(){};Wx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rl(ws.current);var s=null;switch(n){case"input":i=Jm(t,i),r=Jm(t,r),s=[];break;case"select":i=nn({},i,{value:void 0}),r=nn({},r,{value:void 0}),s=[];break;case"textarea":i=ng(t,i),r=ng(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sf)}ig(n,r);var l;n=null;for(m in i)if(!r.hasOwnProperty(m)&&i.hasOwnProperty(m)&&i[m]!=null)if(m==="style"){var u=i[m];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(id.hasOwnProperty(m)?s||(s=[]):(s=s||[]).push(m,null));for(m in r){var d=r[m];if(u=i!=null?i[m]:void 0,r.hasOwnProperty(m)&&d!==u&&(d!=null||u!=null))if(m==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(s||(s=[]),s.push(m,n)),n=d;else m==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(s=s||[]).push(m,d)):m==="children"?typeof d!="string"&&typeof d!="number"||(s=s||[]).push(m,""+d):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(id.hasOwnProperty(m)?(d!=null&&m==="onScroll"&&$t("scroll",t),s||u===d||(s=[])):(s=s||[]).push(m,d))}n&&(s=s||[]).push("style",n);var m=s;(e.updateQueue=m)&&(e.flags|=4)}};Hx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ic(t,e){if(!Xt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ar(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function m9(t,e,n){var r=e.pendingProps;switch(X1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ar(e),null;case 1:return Gr(e.type)&&bf(),ar(e),null;case 3:return r=e.stateNode,Bu(),qt(Ur),qt(ur),ay(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ih(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gi!==null&&(zg(Gi),Gi=null))),Rg(t,e),ar(e),null;case 5:sy(e);var i=rl(gd.current);if(n=e.type,t!==null&&e.stateNode!=null)Wx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(be(166));return ar(e),null}if(t=rl(ws.current),Ih(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ys]=e,r[pd]=s,t=(e.mode&1)!==0,n){case"dialog":$t("cancel",r),$t("close",r);break;case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(i=0;i<Hc.length;i++)$t(Hc[i],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"details":$t("toggle",r);break;case"input":l2(r,s),$t("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$t("invalid",r);break;case"textarea":c2(r,s),$t("invalid",r)}ig(n,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Dh(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Dh(r.textContent,u,t),i=["children",""+u]):id.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&$t("scroll",r)}switch(n){case"input":Nh(r),u2(r,s,!0);break;case"textarea":Nh(r),d2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Sf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=x3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[ys]=e,t[pd]=r,Vx(t,e,!1,!1),e.stateNode=t;e:{switch(l=sg(n,r),n){case"dialog":$t("cancel",t),$t("close",t),i=r;break;case"iframe":case"object":case"embed":$t("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hc.length;i++)$t(Hc[i],t);i=r;break;case"source":$t("error",t),i=r;break;case"img":case"image":case"link":$t("error",t),$t("load",t),i=r;break;case"details":$t("toggle",t),i=r;break;case"input":l2(t,r),i=Jm(t,r),$t("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=nn({},r,{value:void 0}),$t("invalid",t);break;case"textarea":c2(t,r),i=ng(t,r),$t("invalid",t);break;default:i=r}ig(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];s==="style"?S3(t,d):s==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&w3(t,d)):s==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&sd(t,d):typeof d=="number"&&sd(t,""+d):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(id.hasOwnProperty(s)?d!=null&&s==="onScroll"&&$t("scroll",t):d!=null&&I1(t,s,d,l))}switch(n){case"input":Nh(t),u2(t,r,!1);break;case"textarea":Nh(t),d2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Su(t,!!r.multiple,s,!1):r.defaultValue!=null&&Su(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ar(e),null;case 6:if(t&&e.stateNode!=null)Hx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(be(166));if(n=rl(gd.current),rl(ws.current),Ih(e)){if(r=e.stateNode,n=e.memoizedProps,r[ys]=e,(s=r.nodeValue!==n)&&(t=Jr,t!==null))switch(t.tag){case 3:Dh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ys]=e,e.stateNode=r}return ar(e),null;case 13:if(qt(en),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xt&&Zr!==null&&e.mode&1&&!(e.flags&128))ux(),Fu(),e.flags|=98560,s=!1;else if(s=Ih(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(be(317));s[ys]=e}else Fu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ar(e),s=!1}else Gi!==null&&(zg(Gi),Gi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||en.current&1?Rn===0&&(Rn=3):vy())),e.updateQueue!==null&&(e.flags|=4),ar(e),null);case 4:return Bu(),Rg(t,e),t===null&&hd(e.stateNode.containerInfo),ar(e),null;case 10:return ty(e.type._context),ar(e),null;case 17:return Gr(e.type)&&bf(),ar(e),null;case 19:if(qt(en),s=e.memoizedState,s===null)return ar(e),null;if(r=(e.flags&128)!==0,l=s.rendering,l===null)if(r)Ic(s,!1);else{if(Rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=jf(t),l!==null){for(e.flags|=128,Ic(s,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Vt(en,en.current&1|2),e.child}t=t.sibling}s.tail!==null&&vn()>Gu&&(e.flags|=128,r=!0,Ic(s,!1),e.lanes=4194304)}else{if(!r)if(t=jf(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ic(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!Xt)return ar(e),null}else 2*vn()-s.renderingStartTime>Gu&&n!==1073741824&&(e.flags|=128,r=!0,Ic(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(n=s.last,n!==null?n.sibling=l:e.child=l,s.last=l)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vn(),e.sibling=null,n=en.current,Vt(en,r?n&1|2:n&1),e):(ar(e),null);case 22:case 23:return yy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yr&1073741824&&(ar(e),e.subtreeFlags&6&&(e.flags|=8192)):ar(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function g9(t,e){switch(X1(e),e.tag){case 1:return Gr(e.type)&&bf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bu(),qt(Ur),qt(ur),ay(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sy(e),null;case 13:if(qt(en),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(be(340));Fu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qt(en),null;case 4:return Bu(),null;case 10:return ty(e.type._context),null;case 22:case 23:return yy(),null;case 24:return null;default:return null}}var zh=!1,or=!1,y9=typeof WeakSet=="function"?WeakSet:Set,ze=null;function wu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){un(t,e,r)}else n.current=null}function Og(t,e,n){try{n()}catch(r){un(t,e,r)}}var e5=!1;function v9(t,e){if(mg=xf,t=Y3(),Q1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,m=0,w=0,C=t,S=null;t:for(;;){for(var _;C!==n||i!==0&&C.nodeType!==3||(u=l+i),C!==s||r!==0&&C.nodeType!==3||(d=l+r),C.nodeType===3&&(l+=C.nodeValue.length),(_=C.firstChild)!==null;)S=C,C=_;for(;;){if(C===t)break t;if(S===n&&++m===i&&(u=l),S===s&&++w===r&&(d=l),(_=C.nextSibling)!==null)break;C=S,S=C.parentNode}C=_}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(gg={focusedElem:t,selectionRange:n},xf=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){e=ze;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var R=k.memoizedProps,O=k.memoizedState,T=e.stateNode,j=T.getSnapshotBeforeUpdate(e.elementType===e.type?R:Li(e.type,R),O);T.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(N){un(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}return k=e5,e5=!1,k}function td(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Og(e,n,s)}i=i.next}while(i!==r)}}function o0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ag(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Kx(t){var e=t.alternate;e!==null&&(t.alternate=null,Kx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ys],delete e[pd],delete e[xg],delete e[e9],delete e[t9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $x(t){return t.tag===5||t.tag===3||t.tag===4}function t5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$x(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sf));else if(r!==4&&(t=t.child,t!==null))for(Mg(t,e,n),t=t.sibling;t!==null;)Mg(t,e,n),t=t.sibling}function Dg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dg(t,e,n),t=t.sibling;t!==null;)Dg(t,e,n),t=t.sibling}var Yn=null,Ui=!1;function Aa(t,e,n){for(n=n.child;n!==null;)qx(t,e,n),n=n.sibling}function qx(t,e,n){if(xs&&typeof xs.onCommitFiberUnmount=="function")try{xs.onCommitFiberUnmount(Jf,n)}catch{}switch(n.tag){case 5:or||wu(n,e);case 6:var r=Yn,i=Ui;Yn=null,Aa(t,e,n),Yn=r,Ui=i,Yn!==null&&(Ui?(t=Yn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yn.removeChild(n.stateNode));break;case 18:Yn!==null&&(Ui?(t=Yn,n=n.stateNode,t.nodeType===8?vm(t.parentNode,n):t.nodeType===1&&vm(t,n),ud(t)):vm(Yn,n.stateNode));break;case 4:r=Yn,i=Ui,Yn=n.stateNode.containerInfo,Ui=!0,Aa(t,e,n),Yn=r,Ui=i;break;case 0:case 11:case 14:case 15:if(!or&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&Og(n,e,l),i=i.next}while(i!==r)}Aa(t,e,n);break;case 1:if(!or&&(wu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){un(n,e,u)}Aa(t,e,n);break;case 21:Aa(t,e,n);break;case 22:n.mode&1?(or=(r=or)||n.memoizedState!==null,Aa(t,e,n),or=r):Aa(t,e,n);break;default:Aa(t,e,n)}}function n5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new y9),e.forEach(function(r){var i=N9.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:Yn=u.stateNode,Ui=!1;break e;case 3:Yn=u.stateNode.containerInfo,Ui=!0;break e;case 4:Yn=u.stateNode.containerInfo,Ui=!0;break e}u=u.return}if(Yn===null)throw Error(be(160));qx(s,l,i),Yn=null,Ui=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(m){un(i,e,m)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Qx(e,t),e=e.sibling}function Qx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mi(e,t),hs(t),r&4){try{td(3,t,t.return),o0(3,t)}catch(R){un(t,t.return,R)}try{td(5,t,t.return)}catch(R){un(t,t.return,R)}}break;case 1:Mi(e,t),hs(t),r&512&&n!==null&&wu(n,n.return);break;case 5:if(Mi(e,t),hs(t),r&512&&n!==null&&wu(n,n.return),t.flags&32){var i=t.stateNode;try{sd(i,"")}catch(R){un(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,l=n!==null?n.memoizedProps:s,u=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&y3(i,s),sg(u,l);var m=sg(u,s);for(l=0;l<d.length;l+=2){var w=d[l],C=d[l+1];w==="style"?S3(i,C):w==="dangerouslySetInnerHTML"?w3(i,C):w==="children"?sd(i,C):I1(i,w,C,m)}switch(u){case"input":eg(i,s);break;case"textarea":v3(i,s);break;case"select":var S=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Su(i,!!s.multiple,_,!1):S!==!!s.multiple&&(s.defaultValue!=null?Su(i,!!s.multiple,s.defaultValue,!0):Su(i,!!s.multiple,s.multiple?[]:"",!1))}i[pd]=s}catch(R){un(t,t.return,R)}}break;case 6:if(Mi(e,t),hs(t),r&4){if(t.stateNode===null)throw Error(be(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){un(t,t.return,R)}}break;case 3:if(Mi(e,t),hs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ud(e.containerInfo)}catch(R){un(t,t.return,R)}break;case 4:Mi(e,t),hs(t);break;case 13:Mi(e,t),hs(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(my=vn())),r&4&&n5(t);break;case 22:if(w=n!==null&&n.memoizedState!==null,t.mode&1?(or=(m=or)||w,Mi(e,t),or=m):Mi(e,t),hs(t),r&8192){if(m=t.memoizedState!==null,(t.stateNode.isHidden=m)&&!w&&t.mode&1)for(ze=t,w=t.child;w!==null;){for(C=ze=w;ze!==null;){switch(S=ze,_=S.child,S.tag){case 0:case 11:case 14:case 15:td(4,S,S.return);break;case 1:wu(S,S.return);var k=S.stateNode;if(typeof k.componentWillUnmount=="function"){r=S,n=S.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(R){un(r,n,R)}}break;case 5:wu(S,S.return);break;case 22:if(S.memoizedState!==null){i5(C);continue}}_!==null?(_.return=S,ze=_):i5(C)}w=w.sibling}e:for(w=null,C=t;;){if(C.tag===5){if(w===null){w=C;try{i=C.stateNode,m?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=C.stateNode,d=C.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=_3("display",l))}catch(R){un(t,t.return,R)}}}else if(C.tag===6){if(w===null)try{C.stateNode.nodeValue=m?"":C.memoizedProps}catch(R){un(t,t.return,R)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===t)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===t)break e;for(;C.sibling===null;){if(C.return===null||C.return===t)break e;w===C&&(w=null),C=C.return}w===C&&(w=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:Mi(e,t),hs(t),r&4&&n5(t);break;case 21:break;default:Mi(e,t),hs(t)}}function hs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($x(n)){var r=n;break e}n=n.return}throw Error(be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sd(i,""),r.flags&=-33);var s=t5(t);Dg(t,s,i);break;case 3:case 4:var l=r.stateNode.containerInfo,u=t5(t);Mg(t,u,l);break;default:throw Error(be(161))}}catch(d){un(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x9(t,e,n){ze=t,Yx(t)}function Yx(t,e,n){for(var r=(t.mode&1)!==0;ze!==null;){var i=ze,s=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||zh;if(!l){var u=i.alternate,d=u!==null&&u.memoizedState!==null||or;u=zh;var m=or;if(zh=l,(or=d)&&!m)for(ze=i;ze!==null;)l=ze,d=l.child,l.tag===22&&l.memoizedState!==null?s5(i):d!==null?(d.return=l,ze=d):s5(i);for(;s!==null;)ze=s,Yx(s),s=s.sibling;ze=i,zh=u,or=m}r5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ze=s):r5(t)}}function r5(t){for(;ze!==null;){var e=ze;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:or||o0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!or)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Li(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&U2(e,s,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}U2(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var m=e.alternate;if(m!==null){var w=m.memoizedState;if(w!==null){var C=w.dehydrated;C!==null&&ud(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}or||e.flags&512&&Ag(e)}catch(S){un(e,e.return,S)}}if(e===t){ze=null;break}if(n=e.sibling,n!==null){n.return=e.return,ze=n;break}ze=e.return}}function i5(t){for(;ze!==null;){var e=ze;if(e===t){ze=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ze=n;break}ze=e.return}}function s5(t){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{o0(4,e)}catch(d){un(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(d){un(e,i,d)}}var s=e.return;try{Ag(e)}catch(d){un(e,s,d)}break;case 5:var l=e.return;try{Ag(e)}catch(d){un(e,l,d)}}}catch(d){un(e,e.return,d)}if(e===t){ze=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ze=u;break}ze=e.return}}var w9=Math.ceil,Af=ia.ReactCurrentDispatcher,fy=ia.ReactCurrentOwner,xi=ia.ReactCurrentBatchConfig,Pt=0,Gn=null,bn=null,Xn=0,Yr=0,_u=mo(0),Rn=0,wd=null,vl=0,l0=0,py=0,nd=null,zr=null,my=0,Gu=1/0,Hs=null,Mf=!1,Ig=null,ro=null,Bh=!1,Ya=null,Df=0,rd=0,Lg=null,of=-1,lf=0;function wr(){return Pt&6?vn():of!==-1?of:of=vn()}function io(t){return t.mode&1?Pt&2&&Xn!==0?Xn&-Xn:r9.transition!==null?(lf===0&&(lf=M3()),lf):(t=Ft,t!==0||(t=window.event,t=t===void 0?16:U3(t.type)),t):1}function Wi(t,e,n,r){if(50<rd)throw rd=0,Lg=null,Error(be(185));Ad(t,n,r),(!(Pt&2)||t!==Gn)&&(t===Gn&&(!(Pt&2)&&(l0|=n),Rn===4&&Ga(t,Xn)),Vr(t,r),n===1&&Pt===0&&!(e.mode&1)&&(Gu=vn()+500,i0&&go()))}function Vr(t,e){var n=t.callbackNode;r_(t,e);var r=vf(t,t===Gn?Xn:0);if(r===0)n!==null&&p2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&p2(n),e===1)t.tag===0?n9(a5.bind(null,t)):ax(a5.bind(null,t)),Z_(function(){!(Pt&6)&&go()}),n=null;else{switch(D3(r)){case 1:n=U1;break;case 4:n=O3;break;case 16:n=yf;break;case 536870912:n=A3;break;default:n=yf}n=i6(n,Xx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Xx(t,e){if(of=-1,lf=0,Pt&6)throw Error(be(327));var n=t.callbackNode;if(Nu()&&t.callbackNode!==n)return null;var r=vf(t,t===Gn?Xn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=If(t,r);else{e=r;var i=Pt;Pt|=2;var s=Jx();(Gn!==t||Xn!==e)&&(Hs=null,Gu=vn()+500,hl(t,e));do try{b9();break}catch(u){Zx(t,u)}while(1);ey(),Af.current=s,Pt=i,bn!==null?e=0:(Gn=null,Xn=0,e=Rn)}if(e!==0){if(e===2&&(i=cg(t),i!==0&&(r=i,e=Fg(t,i))),e===1)throw n=wd,hl(t,0),Ga(t,r),Vr(t,vn()),n;if(e===6)Ga(t,r);else{if(i=t.current.alternate,!(r&30)&&!_9(i)&&(e=If(t,r),e===2&&(s=cg(t),s!==0&&(r=s,e=Fg(t,s))),e===1))throw n=wd,hl(t,0),Ga(t,r),Vr(t,vn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(be(345));case 2:Jo(t,zr,Hs);break;case 3:if(Ga(t,r),(r&130023424)===r&&(e=my+500-vn(),10<e)){if(vf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vg(Jo.bind(null,t,zr,Hs),e);break}Jo(t,zr,Hs);break;case 4:if(Ga(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-Vi(r);s=1<<l,l=e[l],l>i&&(i=l),r&=~s}if(r=i,r=vn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w9(r/1960))-r,10<r){t.timeoutHandle=vg(Jo.bind(null,t,zr,Hs),r);break}Jo(t,zr,Hs);break;case 5:Jo(t,zr,Hs);break;default:throw Error(be(329))}}}return Vr(t,vn()),t.callbackNode===n?Xx.bind(null,t):null}function Fg(t,e){var n=nd;return t.current.memoizedState.isDehydrated&&(hl(t,e).flags|=256),t=If(t,e),t!==2&&(e=zr,zr=n,e!==null&&zg(e)),t}function zg(t){zr===null?zr=t:zr.push.apply(zr,t)}function _9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ki(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ga(t,e){for(e&=~py,e&=~l0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vi(e),r=1<<n;t[n]=-1,e&=~r}}function a5(t){if(Pt&6)throw Error(be(327));Nu();var e=vf(t,0);if(!(e&1))return Vr(t,vn()),null;var n=If(t,e);if(t.tag!==0&&n===2){var r=cg(t);r!==0&&(e=r,n=Fg(t,r))}if(n===1)throw n=wd,hl(t,0),Ga(t,e),Vr(t,vn()),n;if(n===6)throw Error(be(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jo(t,zr,Hs),Vr(t,vn()),null}function gy(t,e){var n=Pt;Pt|=1;try{return t(e)}finally{Pt=n,Pt===0&&(Gu=vn()+500,i0&&go())}}function xl(t){Ya!==null&&Ya.tag===0&&!(Pt&6)&&Nu();var e=Pt;Pt|=1;var n=xi.transition,r=Ft;try{if(xi.transition=null,Ft=1,t)return t()}finally{Ft=r,xi.transition=n,Pt=e,!(Pt&6)&&go()}}function yy(){Yr=_u.current,qt(_u)}function hl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,X_(n)),bn!==null)for(n=bn.return;n!==null;){var r=n;switch(X1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bf();break;case 3:Bu(),qt(Ur),qt(ur),ay();break;case 5:sy(r);break;case 4:Bu();break;case 13:qt(en);break;case 19:qt(en);break;case 10:ty(r.type._context);break;case 22:case 23:yy()}n=n.return}if(Gn=t,bn=t=so(t.current,null),Xn=Yr=e,Rn=0,wd=null,py=l0=vl=0,zr=nd=null,nl!==null){for(e=0;e<nl.length;e++)if(n=nl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=i,r.next=l}n.pending=r}nl=null}return t}function Zx(t,e){do{var n=bn;try{if(ey(),rf.current=Of,Rf){for(var r=tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rf=!1}if(yl=0,Un=jn=tn=null,ed=!1,yd=0,fy.current=null,n===null||n.return===null){Rn=1,wd=e,bn=null;break}e:{var s=t,l=n.return,u=n,d=e;if(e=Xn,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=d,w=u,C=w.tag;if(!(w.mode&1)&&(C===0||C===11||C===15)){var S=w.alternate;S?(w.updateQueue=S.updateQueue,w.memoizedState=S.memoizedState,w.lanes=S.lanes):(w.updateQueue=null,w.memoizedState=null)}var _=$2(l);if(_!==null){_.flags&=-257,q2(_,l,u,s,e),_.mode&1&&K2(s,m,e),e=_,d=m;var k=e.updateQueue;if(k===null){var R=new Set;R.add(d),e.updateQueue=R}else k.add(d);break e}else{if(!(e&1)){K2(s,m,e),vy();break e}d=Error(be(426))}}else if(Xt&&u.mode&1){var O=$2(l);if(O!==null){!(O.flags&65536)&&(O.flags|=256),q2(O,l,u,s,e),Z1(Uu(d,u));break e}}s=d=Uu(d,u),Rn!==4&&(Rn=2),nd===null?nd=[s]:nd.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=Dx(s,d,e);B2(s,T);break e;case 1:u=d;var j=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof j.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ro===null||!ro.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=Ix(s,u,e);B2(s,N);break e}}s=s.return}while(s!==null)}t6(n)}catch(D){e=D,bn===n&&n!==null&&(bn=n=n.return);continue}break}while(1)}function Jx(){var t=Af.current;return Af.current=Of,t===null?Of:t}function vy(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Gn===null||!(vl&268435455)&&!(l0&268435455)||Ga(Gn,Xn)}function If(t,e){var n=Pt;Pt|=2;var r=Jx();(Gn!==t||Xn!==e)&&(Hs=null,hl(t,e));do try{S9();break}catch(i){Zx(t,i)}while(1);if(ey(),Pt=n,Af.current=r,bn!==null)throw Error(be(261));return Gn=null,Xn=0,Rn}function S9(){for(;bn!==null;)e6(bn)}function b9(){for(;bn!==null&&!q8();)e6(bn)}function e6(t){var e=r6(t.alternate,t,Yr);t.memoizedProps=t.pendingProps,e===null?t6(t):bn=e,fy.current=null}function t6(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=g9(n,e),n!==null){n.flags&=32767,bn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rn=6,bn=null;return}}else if(n=m9(n,e,Yr),n!==null){bn=n;return}if(e=e.sibling,e!==null){bn=e;return}bn=e=t}while(e!==null);Rn===0&&(Rn=5)}function Jo(t,e,n){var r=Ft,i=xi.transition;try{xi.transition=null,Ft=1,k9(t,e,n,r)}finally{xi.transition=i,Ft=r}return null}function k9(t,e,n,r){do Nu();while(Ya!==null);if(Pt&6)throw Error(be(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(be(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(i_(t,s),t===Gn&&(bn=Gn=null,Xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bh||(Bh=!0,i6(yf,function(){return Nu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xi.transition,xi.transition=null;var l=Ft;Ft=1;var u=Pt;Pt|=4,fy.current=null,v9(t,n),Qx(n,t),W_(gg),xf=!!mg,gg=mg=null,t.current=n,x9(n),Q8(),Pt=u,Ft=l,xi.transition=s}else t.current=n;if(Bh&&(Bh=!1,Ya=t,Df=i),s=t.pendingLanes,s===0&&(ro=null),Z8(n.stateNode),Vr(t,vn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mf)throw Mf=!1,t=Ig,Ig=null,t;return Df&1&&t.tag!==0&&Nu(),s=t.pendingLanes,s&1?t===Lg?rd++:(rd=0,Lg=t):rd=0,go(),null}function Nu(){if(Ya!==null){var t=D3(Df),e=xi.transition,n=Ft;try{if(xi.transition=null,Ft=16>t?16:t,Ya===null)var r=!1;else{if(t=Ya,Ya=null,Df=0,Pt&6)throw Error(be(331));var i=Pt;for(Pt|=4,ze=t.current;ze!==null;){var s=ze,l=s.child;if(ze.flags&16){var u=s.deletions;if(u!==null){for(var d=0;d<u.length;d++){var m=u[d];for(ze=m;ze!==null;){var w=ze;switch(w.tag){case 0:case 11:case 15:td(8,w,s)}var C=w.child;if(C!==null)C.return=w,ze=C;else for(;ze!==null;){w=ze;var S=w.sibling,_=w.return;if(Kx(w),w===m){ze=null;break}if(S!==null){S.return=_,ze=S;break}ze=_}}}var k=s.alternate;if(k!==null){var R=k.child;if(R!==null){k.child=null;do{var O=R.sibling;R.sibling=null,R=O}while(R!==null)}}ze=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,ze=l;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:td(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,ze=T;break e}ze=s.return}}var j=t.current;for(ze=j;ze!==null;){l=ze;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,ze=x;else e:for(l=j;ze!==null;){if(u=ze,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:o0(9,u)}}catch(D){un(u,u.return,D)}if(u===l){ze=null;break e}var N=u.sibling;if(N!==null){N.return=u.return,ze=N;break e}ze=u.return}}if(Pt=i,go(),xs&&typeof xs.onPostCommitFiberRoot=="function")try{xs.onPostCommitFiberRoot(Jf,t)}catch{}r=!0}return r}finally{Ft=n,xi.transition=e}}return!1}function o5(t,e,n){e=Uu(n,e),e=Dx(t,e,1),t=no(t,e,1),e=wr(),t!==null&&(Ad(t,1,e),Vr(t,e))}function un(t,e,n){if(t.tag===3)o5(t,t,n);else for(;e!==null;){if(e.tag===3){o5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ro===null||!ro.has(r))){t=Uu(n,t),t=Ix(e,t,1),e=no(e,t,1),t=wr(),e!==null&&(Ad(e,1,t),Vr(e,t));break}}e=e.return}}function C9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wr(),t.pingedLanes|=t.suspendedLanes&n,Gn===t&&(Xn&n)===n&&(Rn===4||Rn===3&&(Xn&130023424)===Xn&&500>vn()-my?hl(t,0):py|=n),Vr(t,e)}function n6(t,e){e===0&&(t.mode&1?(e=jh,jh<<=1,!(jh&130023424)&&(jh=4194304)):e=1);var n=wr();t=ta(t,e),t!==null&&(Ad(t,e,n),Vr(t,n))}function E9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),n6(t,n)}function N9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(be(314))}r!==null&&r.delete(e),n6(t,n)}var r6;r6=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ur.current)Br=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Br=!1,p9(t,e,n);Br=!!(t.flags&131072)}else Br=!1,Xt&&e.flags&1048576&&ox(e,Ef,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;af(t,e),t=e.pendingProps;var i=Lu(e,ur.current);Eu(e,n),i=ly(null,e,r,t,i,n);var s=uy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gr(r)?(s=!0,kf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ry(e),i.updater=a0,e.stateNode=i,i._reactInternals=e,Cg(e,r,t,n),e=Pg(null,e,r,!0,s,n)):(e.tag=0,Xt&&s&&Y1(e),vr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(af(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=T9(r),t=Li(r,t),i){case 0:e=Ng(null,e,r,t,n);break e;case 1:e=X2(null,e,r,t,n);break e;case 11:e=Q2(null,e,r,t,n);break e;case 14:e=Y2(null,e,r,Li(r.type,t),n);break e}throw Error(be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),Ng(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),X2(t,e,r,i,n);case 3:e:{if(Bx(e),t===null)throw Error(be(387));r=e.pendingProps,s=e.memoizedState,i=s.element,fx(t,e),Tf(e,r,null,n);var l=e.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Uu(Error(be(423)),e),e=Z2(t,e,r,n,i);break e}else if(r!==i){i=Uu(Error(be(424)),e),e=Z2(t,e,r,n,i);break e}else for(Zr=to(e.stateNode.containerInfo.firstChild),Jr=e,Xt=!0,Gi=null,n=dx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fu(),r===i){e=na(t,e,n);break e}vr(t,e,r,n)}e=e.child}return e;case 5:return px(e),t===null&&Sg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,l=i.children,yg(r,i)?l=null:s!==null&&yg(r,s)&&(e.flags|=32),zx(t,e),vr(t,e,l,n),e.child;case 6:return t===null&&Sg(e),null;case 13:return Ux(t,e,n);case 4:return iy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zu(e,null,r,n):vr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),Q2(t,e,r,i,n);case 7:return vr(t,e,e.pendingProps,n),e.child;case 8:return vr(t,e,e.pendingProps.children,n),e.child;case 12:return vr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,l=i.value,Vt(Nf,r._currentValue),r._currentValue=l,s!==null)if(Ki(s.value,l)){if(s.children===i.children&&!Ur.current){e=na(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){l=s.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(s.tag===1){d=Xs(-1,n&-n),d.tag=2;var m=s.updateQueue;if(m!==null){m=m.shared;var w=m.pending;w===null?d.next=d:(d.next=w.next,w.next=d),m.pending=d}}s.lanes|=n,d=s.alternate,d!==null&&(d.lanes|=n),bg(s.return,n,e),u.lanes|=n;break}d=d.next}}else if(s.tag===10)l=s.type===e.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(be(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),bg(l,n,e),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}vr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Eu(e,n),i=_i(i),r=r(i),e.flags|=1,vr(t,e,r,n),e.child;case 14:return r=e.type,i=Li(r,e.pendingProps),i=Li(r.type,i),Y2(t,e,r,i,n);case 15:return Lx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Li(r,i),af(t,e),e.tag=1,Gr(r)?(t=!0,kf(e)):t=!1,Eu(e,n),Mx(e,r,i),Cg(e,r,i,n),Pg(null,e,r,!0,t,n);case 19:return Gx(t,e,n);case 22:return Fx(t,e,n)}throw Error(be(156,e.tag))};function i6(t,e){return R3(t,e)}function P9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(t,e,n,r){return new P9(t,e,n,r)}function xy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function T9(t){if(typeof t=="function")return xy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===F1)return 11;if(t===z1)return 14}return 2}function so(t,e){var n=t.alternate;return n===null?(n=vi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function uf(t,e,n,r,i,s){var l=2;if(r=t,typeof t=="function")xy(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case du:return fl(n.children,i,s,e);case L1:l=8,i|=8;break;case Qm:return t=vi(12,n,e,i|2),t.elementType=Qm,t.lanes=s,t;case Ym:return t=vi(13,n,e,i),t.elementType=Ym,t.lanes=s,t;case Xm:return t=vi(19,n,e,i),t.elementType=Xm,t.lanes=s,t;case p3:return u0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case h3:l=10;break e;case f3:l=9;break e;case F1:l=11;break e;case z1:l=14;break e;case Fa:l=16,r=null;break e}throw Error(be(130,t==null?t:typeof t,""))}return e=vi(l,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function fl(t,e,n,r){return t=vi(7,t,r,e),t.lanes=n,t}function u0(t,e,n,r){return t=vi(22,t,r,e),t.elementType=p3,t.lanes=n,t.stateNode={isHidden:!1},t}function Em(t,e,n){return t=vi(6,t,null,e),t.lanes=n,t}function Nm(t,e,n){return e=vi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function j9(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=om(0),this.expirationTimes=om(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=om(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wy(t,e,n,r,i,s,l,u,d){return t=new j9(t,e,n,u,d),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ry(s),t}function R9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function s6(t){if(!t)return lo;t=t._reactInternals;e:{if(Sl(t)!==t||t.tag!==1)throw Error(be(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(t.tag===1){var n=t.type;if(Gr(n))return sx(t,n,e)}return e}function a6(t,e,n,r,i,s,l,u,d){return t=wy(n,r,!0,t,i,s,l,u,d),t.context=s6(null),n=t.current,r=wr(),i=io(n),s=Xs(r,i),s.callback=e??null,no(n,s,i),t.current.lanes=i,Ad(t,i,r),Vr(t,r),t}function c0(t,e,n,r){var i=e.current,s=wr(),l=io(i);return n=s6(n),e.context===null?e.context=n:e.pendingContext=n,e=Xs(s,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=no(i,e,l),t!==null&&(Wi(t,i,l,s),nf(t,i,l)),l}function Lf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function l5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _y(t,e){l5(t,e),(t=t.alternate)&&l5(t,e)}function O9(){return null}var o6=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sy(t){this._internalRoot=t}d0.prototype.render=Sy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(be(409));c0(t,e,null,null)};d0.prototype.unmount=Sy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xl(function(){c0(null,t,null,null)}),e[ea]=null}};function d0(t){this._internalRoot=t}d0.prototype.unstable_scheduleHydration=function(t){if(t){var e=F3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ua.length&&e!==0&&e<Ua[n].priority;n++);Ua.splice(n,0,t),n===0&&B3(t)}};function by(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u5(){}function A9(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var m=Lf(l);s.call(m)}}var l=a6(e,r,t,0,null,!1,!1,"",u5);return t._reactRootContainer=l,t[ea]=l.current,hd(t.nodeType===8?t.parentNode:t),xl(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var m=Lf(d);u.call(m)}}var d=wy(t,0,!1,null,null,!1,!1,"",u5);return t._reactRootContainer=d,t[ea]=d.current,hd(t.nodeType===8?t.parentNode:t),xl(function(){c0(e,d,n,r)}),d}function f0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var u=i;i=function(){var d=Lf(l);u.call(d)}}c0(e,l,t,i)}else l=A9(n,e,t,i,r);return Lf(l)}I3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wc(e.pendingLanes);n!==0&&(G1(e,n|1),Vr(e,vn()),!(Pt&6)&&(Gu=vn()+500,go()))}break;case 13:xl(function(){var r=ta(t,1);if(r!==null){var i=wr();Wi(r,t,1,i)}}),_y(t,1)}};V1=function(t){if(t.tag===13){var e=ta(t,134217728);if(e!==null){var n=wr();Wi(e,t,134217728,n)}_y(t,134217728)}};L3=function(t){if(t.tag===13){var e=io(t),n=ta(t,e);if(n!==null){var r=wr();Wi(n,t,e,r)}_y(t,e)}};F3=function(){return Ft};z3=function(t,e){var n=Ft;try{return Ft=t,e()}finally{Ft=n}};og=function(t,e,n){switch(e){case"input":if(eg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r0(r);if(!i)throw Error(be(90));g3(r),eg(r,i)}}}break;case"textarea":v3(t,n);break;case"select":e=n.value,e!=null&&Su(t,!!n.multiple,e,!1)}};C3=gy;E3=xl;var M9={usingClientEntryPoint:!1,Events:[Dd,mu,r0,b3,k3,gy]},Lc={findFiberByHostInstance:tl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D9={bundleType:Lc.bundleType,version:Lc.version,rendererPackageName:Lc.rendererPackageName,rendererConfig:Lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ia.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=T3(t),t===null?null:t.stateNode},findFiberByHostInstance:Lc.findFiberByHostInstance||O9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{Jf=Uh.inject(D9),xs=Uh}catch{}}ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M9;ti.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!by(e))throw Error(be(200));return R9(t,e,null,n)};ti.createRoot=function(t,e){if(!by(t))throw Error(be(299));var n=!1,r="",i=o6;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wy(t,1,!1,null,null,n,!1,r,i),t[ea]=e.current,hd(t.nodeType===8?t.parentNode:t),new Sy(e)};ti.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(be(188)):(t=Object.keys(t).join(","),Error(be(268,t)));return t=T3(e),t=t===null?null:t.stateNode,t};ti.flushSync=function(t){return xl(t)};ti.hydrate=function(t,e,n){if(!h0(e))throw Error(be(200));return f0(null,t,e,!0,n)};ti.hydrateRoot=function(t,e,n){if(!by(t))throw Error(be(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",l=o6;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=a6(e,null,t,1,n??null,i,!1,s,l),t[ea]=e.current,hd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new d0(e)};ti.render=function(t,e,n){if(!h0(e))throw Error(be(200));return f0(null,t,e,!1,n)};ti.unmountComponentAtNode=function(t){if(!h0(t))throw Error(be(40));return t._reactRootContainer?(xl(function(){f0(null,null,t,!1,function(){t._reactRootContainer=null,t[ea]=null})}),!0):!1};ti.unstable_batchedUpdates=gy;ti.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!h0(n))throw Error(be(200));if(t==null||t._reactInternals===void 0)throw Error(be(38));return f0(t,e,n,!1,r)};ti.version="18.3.1-next-f1338f8080-20240426";function l6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l6)}catch(t){console.error(t)}}l6(),l3.exports=ti;var ky=l3.exports;const I9=Ju(ky);var c5=ky;$m.createRoot=c5.createRoot,$m.hydrateRoot=c5.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_d.apply(this,arguments)}var Xa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xa||(Xa={}));const d5="popstate";function L9(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:l,hash:u}=r.location;return Bg("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:c6(i)}return z9(e,n,null,t)}function On(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function u6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F9(){return Math.random().toString(36).substr(2,8)}function h5(t,e){return{usr:t.state,key:t.key,idx:e}}function Bg(t,e,n,r){return n===void 0&&(n=null),_d({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rc(e):e,{state:n,key:e&&e.key||r||F9()})}function c6(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function z9(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u=Xa.Pop,d=null,m=w();m==null&&(m=0,l.replaceState(_d({},l.state,{idx:m}),""));function w(){return(l.state||{idx:null}).idx}function C(){u=Xa.Pop;let O=w(),T=O==null?null:O-m;m=O,d&&d({action:u,location:R.location,delta:T})}function S(O,T){u=Xa.Push;let j=Bg(R.location,O,T);n&&n(j,O),m=w()+1;let x=h5(j,m),N=R.createHref(j);try{l.pushState(x,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(N)}s&&d&&d({action:u,location:R.location,delta:1})}function _(O,T){u=Xa.Replace;let j=Bg(R.location,O,T);n&&n(j,O),m=w();let x=h5(j,m),N=R.createHref(j);l.replaceState(x,"",N),s&&d&&d({action:u,location:R.location,delta:0})}function k(O){let T=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof O=="string"?O:c6(O);return j=j.replace(/ $/,"%20"),On(T,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,T)}let R={get action(){return u},get location(){return t(i,l)},listen(O){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(d5,C),d=O,()=>{i.removeEventListener(d5,C),d=null}},createHref(O){return e(i,O)},createURL:k,encodeLocation(O){let T=k(O);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:S,replace:_,go(O){return l.go(O)}};return R}var f5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(f5||(f5={}));function B9(t,e,n){return n===void 0&&(n="/"),U9(t,e,n,!1)}function U9(t,e,n,r){let i=typeof e=="string"?rc(e):e,s=f6(i.pathname||"/",n);if(s==null)return null;let l=d6(t);G9(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let m=J9(s);u=X9(l[d],m,r)}return u}function d6(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(On(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let m=pl([r,d.relativePath]),w=n.concat(d);s.children&&s.children.length>0&&(On(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),d6(s.children,e,w,m)),!(s.path==null&&!s.index)&&e.push({path:m,score:Q9(m,s.index),routesMeta:w})};return t.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let d of h6(s.path))i(s,l,d)}),e}function h6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=h6(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function G9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Y9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const V9=/^:[\w-]+$/,W9=3,H9=2,K9=1,$9=10,q9=-2,p5=t=>t==="*";function Q9(t,e){let n=t.split("/"),r=n.length;return n.some(p5)&&(r+=q9),e&&(r+=H9),n.filter(i=>!p5(i)).reduce((i,s)=>i+(V9.test(s)?W9:s===""?K9:$9),r)}function Y9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function X9(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],m=u===r.length-1,w=s==="/"?e:e.slice(s.length)||"/",C=m5({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},w),S=d.route;if(!C&&m&&n&&!r[r.length-1].route.index&&(C=m5({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},w)),!C)return null;Object.assign(i,C.params),l.push({params:i,pathname:pl([s,C.pathname]),pathnameBase:s7(pl([s,C.pathnameBase])),route:S}),C.pathnameBase!=="/"&&(s=pl([s,C.pathnameBase]))}return l}function m5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Z9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((m,w,C)=>{let{paramName:S,isOptional:_}=w;if(S==="*"){let R=u[C]||"";l=s.slice(0,s.length-R.length).replace(/(.)\/+$/,"$1")}const k=u[C];return _&&!k?m[S]=void 0:m[S]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:s,pathnameBase:l,pattern:t}}function Z9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),u6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function J9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return u6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function f6(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function e7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?rc(t):t;return{pathname:n?n.startsWith("/")?n:t7(n,e):e,search:a7(r),hash:o7(i)}}function t7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Pm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function n7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function r7(t,e){let n=n7(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function i7(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=rc(t):(i=_d({},t),On(!i.pathname||!i.pathname.includes("?"),Pm("?","pathname","search",i)),On(!i.pathname||!i.pathname.includes("#"),Pm("#","pathname","hash",i)),On(!i.search||!i.search.includes("#"),Pm("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=n;else{let C=e.length-1;if(!r&&l.startsWith("..")){let S=l.split("/");for(;S[0]==="..";)S.shift(),C-=1;i.pathname=S.join("/")}u=C>=0?e[C]:"/"}let d=e7(i,u),m=l&&l!=="/"&&l.endsWith("/"),w=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||w)&&(d.pathname+="/"),d}const pl=t=>t.join("/").replace(/\/\/+/g,"/"),s7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),a7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,o7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function l7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const p6=["post","put","patch","delete"];new Set(p6);const u7=["get",...p6];new Set(u7);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sd.apply(this,arguments)}const Cy=U.createContext(null),c7=U.createContext(null),p0=U.createContext(null),m0=U.createContext(null),bl=U.createContext({outlet:null,matches:[],isDataRoute:!1}),m6=U.createContext(null);function g0(){return U.useContext(m0)!=null}function Ey(){return g0()||On(!1),U.useContext(m0).location}function g6(t){U.useContext(p0).static||U.useLayoutEffect(t)}function y0(){let{isDataRoute:t}=U.useContext(bl);return t?C7():d7()}function d7(){g0()||On(!1);let t=U.useContext(Cy),{basename:e,future:n,navigator:r}=U.useContext(p0),{matches:i}=U.useContext(bl),{pathname:s}=Ey(),l=JSON.stringify(r7(i,n.v7_relativeSplatPath)),u=U.useRef(!1);return g6(()=>{u.current=!0}),U.useCallback(function(m,w){if(w===void 0&&(w={}),!u.current)return;if(typeof m=="number"){r.go(m);return}let C=i7(m,JSON.parse(l),s,w.relative==="path");t==null&&e!=="/"&&(C.pathname=C.pathname==="/"?e:pl([e,C.pathname])),(w.replace?r.replace:r.push)(C,w.state,w)},[e,r,l,s,t])}const h7=U.createContext(null);function f7(t){let e=U.useContext(bl).outlet;return e&&U.createElement(h7.Provider,{value:t},e)}function p7(t,e){return m7(t,e)}function m7(t,e,n,r){g0()||On(!1);let{navigator:i}=U.useContext(p0),{matches:s}=U.useContext(bl),l=s[s.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let m=Ey(),w;if(e){var C;let O=typeof e=="string"?rc(e):e;d==="/"||(C=O.pathname)!=null&&C.startsWith(d)||On(!1),w=O}else w=m;let S=w.pathname||"/",_=S;if(d!=="/"){let O=d.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let k=B9(t,{pathname:_}),R=w7(k&&k.map(O=>Object.assign({},O,{params:Object.assign({},u,O.params),pathname:pl([d,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?d:pl([d,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),s,n,r);return e&&R?U.createElement(m0.Provider,{value:{location:Sd({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Xa.Pop}},R):R}function g7(){let t=k7(),e=l7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,s)}const y7=U.createElement(g7,null);class v7 extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(bl.Provider,{value:this.props.routeContext},U.createElement(m6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x7(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(Cy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(bl.Provider,{value:e},r)}function w7(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let w=l.findIndex(C=>C.route.id&&(u==null?void 0:u[C.route.id])!==void 0);w>=0||On(!1),l=l.slice(0,Math.min(l.length,w+1))}let d=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let w=0;w<l.length;w++){let C=l[w];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(m=w),C.route.id){let{loaderData:S,errors:_}=n,k=C.route.loader&&S[C.route.id]===void 0&&(!_||_[C.route.id]===void 0);if(C.route.lazy||k){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((w,C,S)=>{let _,k=!1,R=null,O=null;n&&(_=u&&C.route.id?u[C.route.id]:void 0,R=C.route.errorElement||y7,d&&(m<0&&S===0?(E7("route-fallback",!1),k=!0,O=null):m===S&&(k=!0,O=C.route.hydrateFallbackElement||null)));let T=e.concat(l.slice(0,S+1)),j=()=>{let x;return _?x=R:k?x=O:C.route.Component?x=U.createElement(C.route.Component,null):C.route.element?x=C.route.element:x=w,U.createElement(x7,{match:C,routeContext:{outlet:w,matches:T,isDataRoute:n!=null},children:x})};return n&&(C.route.ErrorBoundary||C.route.errorElement||S===0)?U.createElement(v7,{location:n.location,revalidation:n.revalidation,component:R,error:_,children:j(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):j()},null)}var y6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(y6||{}),Ff=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ff||{});function _7(t){let e=U.useContext(Cy);return e||On(!1),e}function S7(t){let e=U.useContext(c7);return e||On(!1),e}function b7(t){let e=U.useContext(bl);return e||On(!1),e}function v6(t){let e=b7(),n=e.matches[e.matches.length-1];return n.route.id||On(!1),n.route.id}function k7(){var t;let e=U.useContext(m6),n=S7(Ff.UseRouteError),r=v6(Ff.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function C7(){let{router:t}=_7(y6.UseNavigateStable),e=v6(Ff.UseNavigateStable),n=U.useRef(!1);return g6(()=>{n.current=!0}),U.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Sd({fromRouteId:e},s)))},[t,e])}const g5={};function E7(t,e,n){!e&&!g5[t]&&(g5[t]=!0)}function N7(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function P7(t){return f7(t.context)}function Gs(t){On(!1)}function T7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xa.Pop,navigator:s,static:l=!1,future:u}=t;g0()&&On(!1);let d=e.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:d,navigator:s,static:l,future:Sd({v7_relativeSplatPath:!1},u)}),[d,u,s,l]);typeof r=="string"&&(r=rc(r));let{pathname:w="/",search:C="",hash:S="",state:_=null,key:k="default"}=r,R=U.useMemo(()=>{let O=f6(w,d);return O==null?null:{location:{pathname:O,search:C,hash:S,state:_,key:k},navigationType:i}},[d,w,C,S,_,k,i]);return R==null?null:U.createElement(p0.Provider,{value:m},U.createElement(m0.Provider,{children:n,value:R}))}function j7(t){let{children:e,location:n}=t;return p7(Ug(e),n)}new Promise(()=>{});function Ug(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let s=[...e,i];if(r.type===U.Fragment){n.push.apply(n,Ug(r.props.children,s));return}r.type!==Gs&&On(!1),!r.props.index||!r.props.children||On(!1);let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Ug(r.props.children,s)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function R7(t,e){let n=Gg(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const O7="6";try{window.__reactRouterVersion=O7}catch{}const A7="startTransition",y5=E8[A7];function M7(t){let{basename:e,children:n,future:r,window:i}=t,s=U.useRef();s.current==null&&(s.current=L9({window:i,v5Compat:!0}));let l=s.current,[u,d]=U.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},w=U.useCallback(C=>{m&&y5?y5(()=>d(C)):d(C)},[d,m]);return U.useLayoutEffect(()=>l.listen(w),[l,w]),U.useEffect(()=>N7(r),[r]),U.createElement(T7,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}var v5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(v5||(v5={}));var x5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(x5||(x5={}));function D7(t){let e=U.useRef(Gg(t)),n=U.useRef(!1),r=Ey(),i=U.useMemo(()=>R7(r.search,n.current?null:e.current),[r.search]),s=y0(),l=U.useCallback((u,d)=>{const m=Gg(typeof u=="function"?u(i):u);n.current=!0,s("?"+m,d)},[s,i]);return[i,l]}var v0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},I7={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Va,T1,G4,L7=(G4=class{constructor(){Nt(this,Va,I7);Nt(this,T1,!1)}setTimeoutProvider(t){st(this,Va,t)}setTimeout(t,e){return he(this,Va).setTimeout(t,e)}clearTimeout(t){he(this,Va).clearTimeout(t)}setInterval(t,e){return he(this,Va).setInterval(t,e)}clearInterval(t){he(this,Va).clearInterval(t)}},Va=new WeakMap,T1=new WeakMap,G4),Vg=new L7;function F7(t){setTimeout(t,0)}var x0=typeof window>"u"||"Deno"in globalThis;function Fi(){}function z7(t,e){return typeof t=="function"?t(e):t}function B7(t){return typeof t=="number"&&t>=0&&t!==1/0}function U7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wg(t,e){return typeof t=="function"?t(e):t}function G7(t,e){return typeof t=="function"?t(e):t}function w5(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:l,stale:u}=t;if(l){if(r){if(e.queryHash!==Ny(l,e.options))return!1}else if(!kd(e.queryKey,l))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||s&&!s(e))}function _5(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(bd(e.options.mutationKey)!==bd(s))return!1}else if(!kd(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Ny(t,e){return((e==null?void 0:e.queryKeyHashFn)||bd)(t)}function bd(t){return JSON.stringify(t,(e,n)=>Hg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function kd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>kd(t[n],e[n])):!1}var V7=Object.prototype.hasOwnProperty;function x6(t,e){if(t===e)return t;const n=S5(t)&&S5(e);if(!n&&!(Hg(t)&&Hg(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),l=s.length,u=n?new Array(l):{};let d=0;for(let m=0;m<l;m++){const w=n?m:s[m],C=t[w],S=e[w];if(C===S){u[w]=C,(n?m<i:V7.call(t,w))&&d++;continue}if(C===null||S===null||typeof C!="object"||typeof S!="object"){u[w]=S;continue}const _=x6(C,S);u[w]=_,_===C&&d++}return i===l&&d===i?t:u}function S5(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Hg(t){if(!b5(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!b5(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function b5(t){return Object.prototype.toString.call(t)==="[object Object]"}function W7(t){return new Promise(e=>{Vg.setTimeout(e,t)})}function H7(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?x6(t,e):e}function K7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function $7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Py=Symbol();function w6(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Py?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var al,Wa,Pu,V4,q7=(V4=class extends v0{constructor(){super();Nt(this,al,void 0);Nt(this,Wa,void 0);Nt(this,Pu,void 0);st(this,Pu,e=>{if(!x0&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){he(this,Wa)||this.setEventListener(he(this,Pu))}onUnsubscribe(){var e;this.hasListeners()||((e=he(this,Wa))==null||e.call(this),st(this,Wa,void 0))}setEventListener(e){var n;st(this,Pu,e),(n=he(this,Wa))==null||n.call(this),st(this,Wa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){he(this,al)!==e&&(st(this,al,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof he(this,al)=="boolean"?he(this,al):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},al=new WeakMap,Wa=new WeakMap,Pu=new WeakMap,V4),_6=new q7;function Q7(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var Y7=F7;function X7(){let t=[],e=0,n=u=>{u()},r=u=>{u()},i=Y7;const s=u=>{e?t.push(u):i(()=>{n(u)})},l=()=>{const u=t;t=[],u.length&&i(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||l()}return d},batchCalls:u=>(...d)=>{s(()=>{u(...d)})},schedule:s,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var xr=X7(),Tu,Ha,ju,W4,Z7=(W4=class extends v0{constructor(){super();Nt(this,Tu,!0);Nt(this,Ha,void 0);Nt(this,ju,void 0);st(this,ju,e=>{if(!x0&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){he(this,Ha)||this.setEventListener(he(this,ju))}onUnsubscribe(){var e;this.hasListeners()||((e=he(this,Ha))==null||e.call(this),st(this,Ha,void 0))}setEventListener(e){var n;st(this,ju,e),(n=he(this,Ha))==null||n.call(this),st(this,Ha,e(this.setOnline.bind(this)))}setOnline(e){he(this,Tu)!==e&&(st(this,Tu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return he(this,Tu)}},Tu=new WeakMap,Ha=new WeakMap,ju=new WeakMap,W4),zf=new Z7;function J7(t){return Math.min(1e3*2**t,3e4)}function S6(t){return(t??"online")==="online"?zf.isOnline():!0}var Kg=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function b6(t){let e=!1,n=0,r;const i=Q7(),s=()=>i.status!=="pending",l=R=>{var O;if(!s()){const T=new Kg(R);S(T),(O=t.onCancel)==null||O.call(t,T)}},u=()=>{e=!0},d=()=>{e=!1},m=()=>_6.isFocused()&&(t.networkMode==="always"||zf.isOnline())&&t.canRun(),w=()=>S6(t.networkMode)&&t.canRun(),C=R=>{s()||(r==null||r(),i.resolve(R))},S=R=>{s()||(r==null||r(),i.reject(R))},_=()=>new Promise(R=>{var O;r=T=>{(s()||m())&&R(T)},(O=t.onPause)==null||O.call(t)}).then(()=>{var R;r=void 0,s()||(R=t.onContinue)==null||R.call(t)}),k=()=>{if(s())return;let R;const O=n===0?t.initialPromise:void 0;try{R=O??t.fn()}catch(T){R=Promise.reject(T)}Promise.resolve(R).then(C).catch(T=>{var M;if(s())return;const j=t.retry??(x0?0:3),x=t.retryDelay??J7,N=typeof x=="function"?x(n,T):x,D=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,T);if(e||!D){S(T);return}n++,(M=t.onFail)==null||M.call(t,n,T),W7(N).then(()=>m()?void 0:_()).then(()=>{e?S(T):k()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r==null||r(),i),cancelRetry:u,continueRetry:d,canStart:w,start:()=>(w()?k():_().then(k),i)}}var ol,H4,k6=(H4=class{constructor(){Nt(this,ol,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),B7(this.gcTime)&&st(this,ol,Vg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(x0?1/0:5*60*1e3))}clearGcTimeout(){he(this,ol)&&(Vg.clearTimeout(he(this,ol)),st(this,ol,void 0))}},ol=new WeakMap,H4),ll,Ru,mi,ul,Bn,jd,cl,zi,Vs,K4,eS=(K4=class extends k6{constructor(e){super();Nt(this,zi);Nt(this,ll,void 0);Nt(this,Ru,void 0);Nt(this,mi,void 0);Nt(this,ul,void 0);Nt(this,Bn,void 0);Nt(this,jd,void 0);Nt(this,cl,void 0);st(this,cl,!1),st(this,jd,e.defaultOptions),this.setOptions(e.options),this.observers=[],st(this,ul,e.client),st(this,mi,he(this,ul).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,st(this,ll,k5(this.options)),this.state=e.state??he(this,ll),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=he(this,Bn))==null?void 0:e.promise}setOptions(e){if(this.options={...he(this,jd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=k5(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),st(this,ll,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&he(this,mi).remove(this)}setData(e,n){const r=H7(this.state.data,e,this.options);return ir(this,zi,Vs).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ir(this,zi,Vs).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=he(this,Bn))==null?void 0:r.promise;return(i=he(this,Bn))==null||i.cancel(e),n?n.then(Fi).catch(Fi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(he(this,ll))}isActive(){return this.observers.some(e=>G7(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Py||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Wg(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!U7(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=he(this,Bn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=he(this,Bn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),he(this,mi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(he(this,Bn)&&(he(this,cl)?he(this,Bn).cancel({revert:!0}):he(this,Bn).cancelRetry()),this.scheduleGc()),he(this,mi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ir(this,zi,Vs).call(this,{type:"invalidate"})}async fetch(e,n){var d,m,w,C,S,_,k,R,O,T,j,x;if(this.state.fetchStatus!=="idle"&&((d=he(this,Bn))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(he(this,Bn))return he(this,Bn).continueRetry(),he(this,Bn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const N=this.observers.find(D=>D.options.queryFn);N&&this.setOptions(N.options)}const r=new AbortController,i=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(st(this,cl,!0),r.signal)})},s=()=>{const N=w6(this.options,n),M=(()=>{const V={client:he(this,ul),queryKey:this.queryKey,meta:this.meta};return i(V),V})();return st(this,cl,!1),this.options.persister?this.options.persister(N,M,this):N(M)},u=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:he(this,ul),state:this.state,fetchFn:s};return i(N),N})();(m=this.options.behavior)==null||m.onFetch(u,this),st(this,Ru,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=u.fetchOptions)==null?void 0:w.meta))&&ir(this,zi,Vs).call(this,{type:"fetch",meta:(C=u.fetchOptions)==null?void 0:C.meta}),st(this,Bn,b6({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,onCancel:N=>{N instanceof Kg&&N.revert&&this.setState({...he(this,Ru),fetchStatus:"idle"}),r.abort()},onFail:(N,D)=>{ir(this,zi,Vs).call(this,{type:"failed",failureCount:N,error:D})},onPause:()=>{ir(this,zi,Vs).call(this,{type:"pause"})},onContinue:()=>{ir(this,zi,Vs).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const N=await he(this,Bn).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(_=(S=he(this,mi).config).onSuccess)==null||_.call(S,N,this),(R=(k=he(this,mi).config).onSettled)==null||R.call(k,N,this.state.error,this),N}catch(N){if(N instanceof Kg){if(N.silent)return he(this,Bn).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw ir(this,zi,Vs).call(this,{type:"error",error:N}),(T=(O=he(this,mi).config).onError)==null||T.call(O,N,this),(x=(j=he(this,mi).config).onSettled)==null||x.call(j,this.state.data,N,this),N}finally{this.scheduleGc()}}},ll=new WeakMap,Ru=new WeakMap,mi=new WeakMap,ul=new WeakMap,Bn=new WeakMap,jd=new WeakMap,cl=new WeakMap,zi=new WeakSet,Vs=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...tS(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return st(this,Ru,e.manual?i:void 0),i;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),xr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),he(this,mi).notify({query:this,type:"updated",action:e})})},K4);function tS(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:S6(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function k5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function C5(t){return{onFetch:(e,n)=>{var w,C,S,_,k;const r=e.options,i=(S=(C=(w=e.fetchOptions)==null?void 0:w.meta)==null?void 0:C.fetchMore)==null?void 0:S.direction,s=((_=e.state.data)==null?void 0:_.pages)||[],l=((k=e.state.data)==null?void 0:k.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const m=async()=>{let R=!1;const O=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?R=!0:e.signal.addEventListener("abort",()=>{R=!0}),e.signal)})},T=w6(e.options,e.fetchOptions),j=async(x,N,D)=>{if(R)return Promise.reject();if(N==null&&x.pages.length)return Promise.resolve(x);const V=(()=>{const re={client:e.client,queryKey:e.queryKey,pageParam:N,direction:D?"backward":"forward",meta:e.options.meta};return O(re),re})(),F=await T(V),{maxPages:ne}=e.options,W=D?$7:K7;return{pages:W(x.pages,F,ne),pageParams:W(x.pageParams,N,ne)}};if(i&&s.length){const x=i==="backward",N=x?nS:E5,D={pages:s,pageParams:l},M=N(r,D);u=await j(D,M,x)}else{const x=t??s.length;do{const N=d===0?l[0]??r.initialPageParam:E5(r,u);if(d>0&&N==null)break;u=await j(u,N),d++}while(d<x)}return u};e.options.persister?e.fetchFn=()=>{var R,O;return(O=(R=e.options).persister)==null?void 0:O.call(R,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=m}}}function E5(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function nS(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ps,yr,dl,ms,Ia,$4,rS=($4=class extends k6{constructor(e){super();Nt(this,ms);Nt(this,ps,void 0);Nt(this,yr,void 0);Nt(this,dl,void 0);this.mutationId=e.mutationId,st(this,yr,e.mutationCache),st(this,ps,[]),this.state=e.state||iS(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){he(this,ps).includes(e)||(he(this,ps).push(e),this.clearGcTimeout(),he(this,yr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){st(this,ps,he(this,ps).filter(n=>n!==e)),this.scheduleGc(),he(this,yr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){he(this,ps).length||(this.state.status==="pending"?this.scheduleGc():he(this,yr).remove(this))}continue(){var e;return((e=he(this,dl))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,l,u,d,m,w,C,S,_,k,R,O,T,j,x,N,D,M,V,F;const n=()=>{ir(this,ms,Ia).call(this,{type:"continue"})};st(this,dl,b6({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(ne,W)=>{ir(this,ms,Ia).call(this,{type:"failed",failureCount:ne,error:W})},onPause:()=>{ir(this,ms,Ia).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>he(this,yr).canRun(this)}));const r=this.state.status==="pending",i=!he(this,dl).canStart();try{if(r)n();else{ir(this,ms,Ia).call(this,{type:"pending",variables:e,isPaused:i}),await((l=(s=he(this,yr).config).onMutate)==null?void 0:l.call(s,e,this));const W=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,e));W!==this.state.context&&ir(this,ms,Ia).call(this,{type:"pending",context:W,variables:e,isPaused:i})}const ne=await he(this,dl).start();return await((w=(m=he(this,yr).config).onSuccess)==null?void 0:w.call(m,ne,e,this.state.context,this)),await((S=(C=this.options).onSuccess)==null?void 0:S.call(C,ne,e,this.state.context)),await((k=(_=he(this,yr).config).onSettled)==null?void 0:k.call(_,ne,null,this.state.variables,this.state.context,this)),await((O=(R=this.options).onSettled)==null?void 0:O.call(R,ne,null,e,this.state.context)),ir(this,ms,Ia).call(this,{type:"success",data:ne}),ne}catch(ne){try{throw await((j=(T=he(this,yr).config).onError)==null?void 0:j.call(T,ne,e,this.state.context,this)),await((N=(x=this.options).onError)==null?void 0:N.call(x,ne,e,this.state.context)),await((M=(D=he(this,yr).config).onSettled)==null?void 0:M.call(D,void 0,ne,this.state.variables,this.state.context,this)),await((F=(V=this.options).onSettled)==null?void 0:F.call(V,void 0,ne,e,this.state.context)),ne}finally{ir(this,ms,Ia).call(this,{type:"error",error:ne})}}finally{he(this,yr).runNext(this)}}},ps=new WeakMap,yr=new WeakMap,dl=new WeakMap,ms=new WeakSet,Ia=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),xr.batch(()=>{he(this,ps).forEach(r=>{r.onMutationUpdate(e)}),he(this,yr).notify({mutation:this,type:"updated",action:e})})},$4);function iS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $s,Bi,Rd,q4,sS=(q4=class extends v0{constructor(e={}){super();Nt(this,$s,void 0);Nt(this,Bi,void 0);Nt(this,Rd,void 0);this.config=e,st(this,$s,new Set),st(this,Bi,new Map),st(this,Rd,0)}build(e,n,r){const i=new rS({mutationCache:this,mutationId:++kh(this,Rd)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){he(this,$s).add(e);const n=Gh(e);if(typeof n=="string"){const r=he(this,Bi).get(n);r?r.push(e):he(this,Bi).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(he(this,$s).delete(e)){const n=Gh(e);if(typeof n=="string"){const r=he(this,Bi).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&he(this,Bi).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Gh(e);if(typeof n=="string"){const r=he(this,Bi).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Gh(e);if(typeof n=="string"){const i=(r=he(this,Bi).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xr.batch(()=>{he(this,$s).forEach(e=>{this.notify({type:"removed",mutation:e})}),he(this,$s).clear(),he(this,Bi).clear()})}getAll(){return Array.from(he(this,$s))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_5(n,r))}findAll(e={}){return this.getAll().filter(n=>_5(e,n))}notify(e){xr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return xr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Fi))))}},$s=new WeakMap,Bi=new WeakMap,Rd=new WeakMap,q4);function Gh(t){var e;return(e=t.options.scope)==null?void 0:e.id}var gs,Q4,aS=(Q4=class extends v0{constructor(e={}){super();Nt(this,gs,void 0);this.config=e,st(this,gs,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??Ny(i,n);let l=this.get(s);return l||(l=new eS({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(l)),l}add(e){he(this,gs).has(e.queryHash)||(he(this,gs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=he(this,gs).get(e.queryHash);n&&(e.destroy(),n===e&&he(this,gs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){xr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return he(this,gs).get(e)}getAll(){return[...he(this,gs).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>w5(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>w5(e,r)):n}notify(e){xr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){xr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){xr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},gs=new WeakMap,Q4),on,Ka,$a,Ou,Au,qa,Mu,Du,Y4,oS=(Y4=class{constructor(t={}){Nt(this,on,void 0);Nt(this,Ka,void 0);Nt(this,$a,void 0);Nt(this,Ou,void 0);Nt(this,Au,void 0);Nt(this,qa,void 0);Nt(this,Mu,void 0);Nt(this,Du,void 0);st(this,on,t.queryCache||new aS),st(this,Ka,t.mutationCache||new sS),st(this,$a,t.defaultOptions||{}),st(this,Ou,new Map),st(this,Au,new Map),st(this,qa,0)}mount(){kh(this,qa)._++,he(this,qa)===1&&(st(this,Mu,_6.subscribe(async t=>{t&&(await this.resumePausedMutations(),he(this,on).onFocus())})),st(this,Du,zf.subscribe(async t=>{t&&(await this.resumePausedMutations(),he(this,on).onOnline())})))}unmount(){var t,e;kh(this,qa)._--,he(this,qa)===0&&((t=he(this,Mu))==null||t.call(this),st(this,Mu,void 0),(e=he(this,Du))==null||e.call(this),st(this,Du,void 0))}isFetching(t){return he(this,on).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return he(this,Ka).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=he(this,on).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=he(this,on).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Wg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return he(this,on).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=he(this,on).get(r.queryHash),s=i==null?void 0:i.state.data,l=z7(e,s);if(l!==void 0)return he(this,on).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return xr.batch(()=>he(this,on).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=he(this,on).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=he(this,on);xr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=he(this,on);return xr.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=xr.batch(()=>he(this,on).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Fi).catch(Fi)}invalidateQueries(t,e={}){return xr.batch(()=>(he(this,on).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=xr.batch(()=>he(this,on).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Fi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Fi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=he(this,on).build(this,e);return n.isStaleByTime(Wg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Fi).catch(Fi)}fetchInfiniteQuery(t){return t.behavior=C5(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Fi).catch(Fi)}ensureInfiniteQueryData(t){return t.behavior=C5(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zf.isOnline()?he(this,Ka).resumePausedMutations():Promise.resolve()}getQueryCache(){return he(this,on)}getMutationCache(){return he(this,Ka)}getDefaultOptions(){return he(this,$a)}setDefaultOptions(t){st(this,$a,t)}setQueryDefaults(t,e){he(this,Ou).set(bd(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...he(this,Ou).values()],n={};return e.forEach(r=>{kd(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){he(this,Au).set(bd(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...he(this,Au).values()],n={};return e.forEach(r=>{kd(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...he(this,$a).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Ny(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Py&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...he(this,$a).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){he(this,on).clear(),he(this,Ka).clear()}},on=new WeakMap,Ka=new WeakMap,$a=new WeakMap,Ou=new WeakMap,Au=new WeakMap,qa=new WeakMap,Mu=new WeakMap,Du=new WeakMap,Y4),lS=U.createContext(void 0),uS=({client:t,children:e})=>(U.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.jsx(lS.Provider,{value:t,children:e})),cS=function(){return null},dS=t=>{switch(t){case"success":return pS;case"info":return gS;case"warning":return mS;case"error":return yS;default:return null}},hS=Array(12).fill(0),fS=({visible:t,className:e})=>Se.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Se.createElement("div",{className:"sonner-spinner"},hS.map((n,r)=>Se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),pS=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mS=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gS=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yS=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vS=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xS=()=>{let[t,e]=Se.useState(document.hidden);return Se.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},$g=1,wS=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:$g++,s=this.toasts.find(u=>u.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...t,id:i,title:n}),{...u,...t,id:i,dismissible:l,title:n}):u):this.addToast({title:n,...r,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,l=r.then(async d=>{if(s=["resolve",d],Se.isValidElement(d))i=!1,this.create({id:n,type:"default",message:d});else if(SS(d)&&!d.ok){i=!1;let m=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,w=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description;this.create({id:n,type:"error",message:m,description:w})}else if(e.success!==void 0){i=!1;let m=typeof e.success=="function"?await e.success(d):e.success,w=typeof e.description=="function"?await e.description(d):e.description;this.create({id:n,type:"success",message:m,description:w})}}).catch(async d=>{if(s=["reject",d],e.error!==void 0){i=!1;let m=typeof e.error=="function"?await e.error(d):e.error,w=typeof e.description=="function"?await e.description(d):e.description;this.create({id:n,type:"error",message:m,description:w})}}).finally(()=>{var d;i&&(this.dismiss(n),n=void 0),(d=e.finally)==null||d.call(e)}),u=()=>new Promise((d,m)=>l.then(()=>s[0]==="reject"?m(s[1]):d(s[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||$g++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Fr=new wS,_S=(t,e)=>{let n=(e==null?void 0:e.id)||$g++;return Fr.addToast({title:t,...e,id:n}),n},SS=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",bS=_S,kS=()=>Fr.toasts,CS=()=>Fr.getActiveToasts();Object.assign(bS,{success:Fr.success,info:Fr.info,warning:Fr.warning,error:Fr.error,custom:Fr.custom,message:Fr.message,promise:Fr.promise,dismiss:Fr.dismiss,loading:Fr.loading},{getHistory:kS,getToasts:CS});function ES(t,{insertAt:e}={}){if(!t||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}ES(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vh(t){return t.label!==void 0}var NS=3,PS="32px",TS="16px",N5=4e3,jS=356,RS=14,OS=20,AS=200;function Di(...t){return t.filter(Boolean).join(" ")}function MS(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var DS=t=>{var e,n,r,i,s,l,u,d,m,w,C;let{invert:S,toast:_,unstyled:k,interacting:R,setHeights:O,visibleToasts:T,heights:j,index:x,toasts:N,expanded:D,removeToast:M,defaultRichColors:V,closeButton:F,style:ne,cancelButtonStyle:W,actionButtonStyle:re,className:oe="",descriptionClassName:ge="",duration:Oe,position:ke,gap:Ke,loadingIcon:Xe,expandByDefault:ue,classNames:fe,icons:me,closeButtonAriaLabel:Le="Close toast",pauseWhenPageIsHidden:ye}=t,[Be,Ze]=Se.useState(null),[ct,pt]=Se.useState(null),[K,ve]=Se.useState(!1),[pe,xt]=Se.useState(!1),[$e,He]=Se.useState(!1),[Et,kr]=Se.useState(!1),[wt,Wr]=Se.useState(!1),[dr,Cr]=Se.useState(0),[dc,ri]=Se.useState(0),Dn=Se.useRef(_.duration||Oe||N5),ko=Se.useRef(null),hr=Se.useRef(null),qi=x===0,ks=x+1<=T,sn=_.type,Jn=_.dismissible!==!1,Co=_.className||"",Cs=_.descriptionClassName||"",Qi=Se.useMemo(()=>j.findIndex(Ye=>Ye.toastId===_.id)||0,[j,_.id]),ua=Se.useMemo(()=>{var Ye;return(Ye=_.closeButton)!=null?Ye:F},[_.closeButton,F]),ii=Se.useMemo(()=>_.duration||Oe||N5,[_.duration,Oe]),Yi=Se.useRef(0),si=Se.useRef(0),Hr=Se.useRef(0),Ie=Se.useRef(null),[Xi,Ci]=ke.split("-"),Es=Se.useMemo(()=>j.reduce((Ye,Tt,It)=>It>=Qi?Ye:Ye+Tt.height,0),[j,Qi]),je=xS(),Eo=_.invert||S,ca=sn==="loading";si.current=Se.useMemo(()=>Qi*Ke+Es,[Qi,Es]),Se.useEffect(()=>{Dn.current=ii},[ii]),Se.useEffect(()=>{ve(!0)},[]),Se.useEffect(()=>{let Ye=hr.current;if(Ye){let Tt=Ye.getBoundingClientRect().height;return ri(Tt),O(It=>[{toastId:_.id,height:Tt,position:_.position},...It]),()=>O(It=>It.filter(hn=>hn.toastId!==_.id))}},[O,_.id]),Se.useLayoutEffect(()=>{if(!K)return;let Ye=hr.current,Tt=Ye.style.height;Ye.style.height="auto";let It=Ye.getBoundingClientRect().height;Ye.style.height=Tt,ri(It),O(hn=>hn.find(fn=>fn.toastId===_.id)?hn.map(fn=>fn.toastId===_.id?{...fn,height:It}:fn):[{toastId:_.id,height:It,position:_.position},...hn])},[K,_.title,_.description,O,_.id]);let Er=Se.useCallback(()=>{xt(!0),Cr(si.current),O(Ye=>Ye.filter(Tt=>Tt.toastId!==_.id)),setTimeout(()=>{M(_)},AS)},[_,M,O,si]);Se.useEffect(()=>{if(_.promise&&sn==="loading"||_.duration===1/0||_.type==="loading")return;let Ye;return D||R||ye&&je?(()=>{if(Hr.current<Yi.current){let Tt=new Date().getTime()-Yi.current;Dn.current=Dn.current-Tt}Hr.current=new Date().getTime()})():Dn.current!==1/0&&(Yi.current=new Date().getTime(),Ye=setTimeout(()=>{var Tt;(Tt=_.onAutoClose)==null||Tt.call(_,_),Er()},Dn.current)),()=>clearTimeout(Ye)},[D,R,_,sn,ye,je,Er]),Se.useEffect(()=>{_.delete&&Er()},[Er,_.delete]);function No(){var Ye,Tt,It;return me!=null&&me.loading?Se.createElement("div",{className:Di(fe==null?void 0:fe.loader,(Ye=_==null?void 0:_.classNames)==null?void 0:Ye.loader,"sonner-loader"),"data-visible":sn==="loading"},me.loading):Xe?Se.createElement("div",{className:Di(fe==null?void 0:fe.loader,(Tt=_==null?void 0:_.classNames)==null?void 0:Tt.loader,"sonner-loader"),"data-visible":sn==="loading"},Xe):Se.createElement(fS,{className:Di(fe==null?void 0:fe.loader,(It=_==null?void 0:_.classNames)==null?void 0:It.loader),visible:sn==="loading"})}return Se.createElement("li",{tabIndex:0,ref:hr,className:Di(oe,Co,fe==null?void 0:fe.toast,(e=_==null?void 0:_.classNames)==null?void 0:e.toast,fe==null?void 0:fe.default,fe==null?void 0:fe[sn],(n=_==null?void 0:_.classNames)==null?void 0:n[sn]),"data-sonner-toast":"","data-rich-colors":(r=_.richColors)!=null?r:V,"data-styled":!(_.jsx||_.unstyled||k),"data-mounted":K,"data-promise":!!_.promise,"data-swiped":wt,"data-removed":pe,"data-visible":ks,"data-y-position":Xi,"data-x-position":Ci,"data-index":x,"data-front":qi,"data-swiping":$e,"data-dismissible":Jn,"data-type":sn,"data-invert":Eo,"data-swipe-out":Et,"data-swipe-direction":ct,"data-expanded":!!(D||ue&&K),style:{"--index":x,"--toasts-before":x,"--z-index":N.length-x,"--offset":`${pe?dr:si.current}px`,"--initial-height":ue?"auto":`${dc}px`,...ne,..._.style},onDragEnd:()=>{He(!1),Ze(null),Ie.current=null},onPointerDown:Ye=>{ca||!Jn||(ko.current=new Date,Cr(si.current),Ye.target.setPointerCapture(Ye.pointerId),Ye.target.tagName!=="BUTTON"&&(He(!0),Ie.current={x:Ye.clientX,y:Ye.clientY}))},onPointerUp:()=>{var Ye,Tt,It,hn;if(Et||!Jn)return;Ie.current=null;let fn=Number(((Ye=hr.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Nr=Number(((Tt=hr.current)==null?void 0:Tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Pr=new Date().getTime()-((It=ko.current)==null?void 0:It.getTime()),mt=Be==="x"?fn:Nr,Lt=Math.abs(mt)/Pr;if(Math.abs(mt)>=OS||Lt>.11){Cr(si.current),(hn=_.onDismiss)==null||hn.call(_,_),pt(Be==="x"?fn>0?"right":"left":Nr>0?"down":"up"),Er(),kr(!0),Wr(!1);return}He(!1),Ze(null)},onPointerMove:Ye=>{var Tt,It,hn,fn;if(!Ie.current||!Jn||((Tt=window.getSelection())==null?void 0:Tt.toString().length)>0)return;let Nr=Ye.clientY-Ie.current.y,Pr=Ye.clientX-Ie.current.x,mt=(It=t.swipeDirections)!=null?It:MS(ke);!Be&&(Math.abs(Pr)>1||Math.abs(Nr)>1)&&Ze(Math.abs(Pr)>Math.abs(Nr)?"x":"y");let Lt={x:0,y:0};Be==="y"?(mt.includes("top")||mt.includes("bottom"))&&(mt.includes("top")&&Nr<0||mt.includes("bottom")&&Nr>0)&&(Lt.y=Nr):Be==="x"&&(mt.includes("left")||mt.includes("right"))&&(mt.includes("left")&&Pr<0||mt.includes("right")&&Pr>0)&&(Lt.x=Pr),(Math.abs(Lt.x)>0||Math.abs(Lt.y)>0)&&Wr(!0),(hn=hr.current)==null||hn.style.setProperty("--swipe-amount-x",`${Lt.x}px`),(fn=hr.current)==null||fn.style.setProperty("--swipe-amount-y",`${Lt.y}px`)}},ua&&!_.jsx?Se.createElement("button",{"aria-label":Le,"data-disabled":ca,"data-close-button":!0,onClick:ca||!Jn?()=>{}:()=>{var Ye;Er(),(Ye=_.onDismiss)==null||Ye.call(_,_)},className:Di(fe==null?void 0:fe.closeButton,(i=_==null?void 0:_.classNames)==null?void 0:i.closeButton)},(s=me==null?void 0:me.close)!=null?s:vS):null,_.jsx||U.isValidElement(_.title)?_.jsx?_.jsx:typeof _.title=="function"?_.title():_.title:Se.createElement(Se.Fragment,null,sn||_.icon||_.promise?Se.createElement("div",{"data-icon":"",className:Di(fe==null?void 0:fe.icon,(l=_==null?void 0:_.classNames)==null?void 0:l.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||No():null,_.type!=="loading"?_.icon||(me==null?void 0:me[sn])||dS(sn):null):null,Se.createElement("div",{"data-content":"",className:Di(fe==null?void 0:fe.content,(u=_==null?void 0:_.classNames)==null?void 0:u.content)},Se.createElement("div",{"data-title":"",className:Di(fe==null?void 0:fe.title,(d=_==null?void 0:_.classNames)==null?void 0:d.title)},typeof _.title=="function"?_.title():_.title),_.description?Se.createElement("div",{"data-description":"",className:Di(ge,Cs,fe==null?void 0:fe.description,(m=_==null?void 0:_.classNames)==null?void 0:m.description)},typeof _.description=="function"?_.description():_.description):null),U.isValidElement(_.cancel)?_.cancel:_.cancel&&Vh(_.cancel)?Se.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||W,onClick:Ye=>{var Tt,It;Vh(_.cancel)&&Jn&&((It=(Tt=_.cancel).onClick)==null||It.call(Tt,Ye),Er())},className:Di(fe==null?void 0:fe.cancelButton,(w=_==null?void 0:_.classNames)==null?void 0:w.cancelButton)},_.cancel.label):null,U.isValidElement(_.action)?_.action:_.action&&Vh(_.action)?Se.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||re,onClick:Ye=>{var Tt,It;Vh(_.action)&&((It=(Tt=_.action).onClick)==null||It.call(Tt,Ye),!Ye.defaultPrevented&&Er())},className:Di(fe==null?void 0:fe.actionButton,(C=_==null?void 0:_.classNames)==null?void 0:C.actionButton)},_.action.label):null))};function P5(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function IS(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,l=s?"--mobile-offset":"--offset",u=s?TS:PS;function d(m){["top","right","bottom","left"].forEach(w=>{n[`${l}-${w}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?n[`${l}-${m}`]=u:n[`${l}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):d(u)}),n}var LS=U.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:l,className:u,offset:d,mobileOffset:m,theme:w="light",richColors:C,duration:S,style:_,visibleToasts:k=NS,toastOptions:R,dir:O=P5(),gap:T=RS,loadingIcon:j,icons:x,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:D}=t,[M,V]=Se.useState([]),F=Se.useMemo(()=>Array.from(new Set([r].concat(M.filter(ye=>ye.position).map(ye=>ye.position)))),[M,r]),[ne,W]=Se.useState([]),[re,oe]=Se.useState(!1),[ge,Oe]=Se.useState(!1),[ke,Ke]=Se.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Xe=Se.useRef(null),ue=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),fe=Se.useRef(null),me=Se.useRef(!1),Le=Se.useCallback(ye=>{V(Be=>{var Ze;return(Ze=Be.find(ct=>ct.id===ye.id))!=null&&Ze.delete||Fr.dismiss(ye.id),Be.filter(({id:ct})=>ct!==ye.id)})},[]);return Se.useEffect(()=>Fr.subscribe(ye=>{if(ye.dismiss){V(Be=>Be.map(Ze=>Ze.id===ye.id?{...Ze,delete:!0}:Ze));return}setTimeout(()=>{I9.flushSync(()=>{V(Be=>{let Ze=Be.findIndex(ct=>ct.id===ye.id);return Ze!==-1?[...Be.slice(0,Ze),{...Be[Ze],...ye},...Be.slice(Ze+1)]:[ye,...Be]})})})}),[]),Se.useEffect(()=>{if(w!=="system"){Ke(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ke("dark"):Ke("light")),typeof window>"u")return;let ye=window.matchMedia("(prefers-color-scheme: dark)");try{ye.addEventListener("change",({matches:Be})=>{Ke(Be?"dark":"light")})}catch{ye.addListener(({matches:Ze})=>{try{Ke(Ze?"dark":"light")}catch(ct){console.error(ct)}})}},[w]),Se.useEffect(()=>{M.length<=1&&oe(!1)},[M]),Se.useEffect(()=>{let ye=Be=>{var Ze,ct;i.every(pt=>Be[pt]||Be.code===pt)&&(oe(!0),(Ze=Xe.current)==null||Ze.focus()),Be.code==="Escape"&&(document.activeElement===Xe.current||(ct=Xe.current)!=null&&ct.contains(document.activeElement))&&oe(!1)};return document.addEventListener("keydown",ye),()=>document.removeEventListener("keydown",ye)},[i]),Se.useEffect(()=>{if(Xe.current)return()=>{fe.current&&(fe.current.focus({preventScroll:!0}),fe.current=null,me.current=!1)}},[Xe.current]),Se.createElement("section",{ref:e,"aria-label":`${N} ${ue}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((ye,Be)=>{var Ze;let[ct,pt]=ye.split("-");return M.length?Se.createElement("ol",{key:ye,dir:O==="auto"?P5():O,tabIndex:-1,ref:Xe,className:u,"data-sonner-toaster":!0,"data-theme":ke,"data-y-position":ct,"data-lifted":re&&M.length>1&&!s,"data-x-position":pt,style:{"--front-toast-height":`${((Ze=ne[0])==null?void 0:Ze.height)||0}px`,"--width":`${jS}px`,"--gap":`${T}px`,..._,...IS(d,m)},onBlur:K=>{me.current&&!K.currentTarget.contains(K.relatedTarget)&&(me.current=!1,fe.current&&(fe.current.focus({preventScroll:!0}),fe.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||me.current||(me.current=!0,fe.current=K.relatedTarget)},onMouseEnter:()=>oe(!0),onMouseMove:()=>oe(!0),onMouseLeave:()=>{ge||oe(!1)},onDragEnd:()=>oe(!1),onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||Oe(!0)},onPointerUp:()=>Oe(!1)},M.filter(K=>!K.position&&Be===0||K.position===ye).map((K,ve)=>{var pe,xt;return Se.createElement(DS,{key:K.id,icons:x,index:ve,toast:K,defaultRichColors:C,duration:(pe=R==null?void 0:R.duration)!=null?pe:S,className:R==null?void 0:R.className,descriptionClassName:R==null?void 0:R.descriptionClassName,invert:n,visibleToasts:k,closeButton:(xt=R==null?void 0:R.closeButton)!=null?xt:l,interacting:ge,position:ye,style:R==null?void 0:R.style,unstyled:R==null?void 0:R.unstyled,classNames:R==null?void 0:R.classNames,cancelButtonStyle:R==null?void 0:R.cancelButtonStyle,actionButtonStyle:R==null?void 0:R.actionButtonStyle,removeToast:Le,toasts:M.filter($e=>$e.position==K.position),heights:ne.filter($e=>$e.position==K.position),setHeights:W,expandByDefault:s,gap:T,loadingIcon:j,expanded:re,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});function FS({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const zS=U.forwardRef(FS),BS=zS;function US({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const GS=U.forwardRef(US),VS=GS;function WS({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3"}))}const HS=U.forwardRef(WS),KS=HS;function $S({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}))}const qS=U.forwardRef($S),QS=qS;function YS({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const XS=U.forwardRef(YS),T5=XS;function ZS({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const JS=U.forwardRef(ZS),eb=JS;function tb({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const nb=U.forwardRef(tb),j5=nb;function rb({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const ib=U.forwardRef(rb),R5=ib;function sb({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ab=U.forwardRef(sb),ob=ab;function lb({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"}))}const ub=U.forwardRef(lb),C6=ub;function cb({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const db=U.forwardRef(cb),hb=db;function fb({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const pb=U.forwardRef(fb),E6=pb;function mb({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const gb=U.forwardRef(mb),yb=gb;function vb({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM13.5 10.5h-6"}))}const xb=U.forwardRef(vb),wb=xb;function _b({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM10.5 7.5v6m3-3h-6"}))}const Sb=U.forwardRef(_b),bb=Sb;function kb({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Cb=U.forwardRef(kb),Eb=Cb;function Nb({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Pb=U.forwardRef(Nb),N6=Pb;function Tb({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 0 1-.657.643 48.39 48.39 0 0 1-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 0 1-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 0 0-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 0 1-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 0 0 .657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 0 1-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 0 0 5.427-.63 48.05 48.05 0 0 0 .582-4.717.532.532 0 0 0-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 0 0 .658-.663 48.422 48.422 0 0 0-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 0 1-.61-.58v0Z"}))}const jb=U.forwardRef(Tb),Rb=jb;function Ob({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const Ab=U.forwardRef(Ob),Mb=Ab;function Db({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const Ib=U.forwardRef(Db),Lb=Ib;function Fb({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 0 1 7.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 0 1 1.06 0Z"}))}const zb=U.forwardRef(Fb),Bb=zb;function Ub({title:t,titleId:e,...n},r){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?U.createElement("title",{id:e},t):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Gb=U.forwardRef(Ub),qg=Gb,O5=t=>{let e;const n=new Set,r=(w,C)=>{const S=typeof w=="function"?w(e):w;if(!Object.is(S,e)){const _=e;e=C??(typeof S!="object"||S===null)?S:Object.assign({},e,S),n.forEach(k=>k(e,_))}},i=()=>e,d={setState:r,getState:i,getInitialState:()=>m,subscribe:w=>(n.add(w),()=>n.delete(w)),destroy:()=>{n.clear()}},m=e=t(r,i,d);return d},Vb=t=>t?O5(t):O5;var P6={exports:{}},T6={},j6={exports:{}},R6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu=U;function Wb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hb=typeof Object.is=="function"?Object.is:Wb,Kb=Vu.useState,$b=Vu.useEffect,qb=Vu.useLayoutEffect,Qb=Vu.useDebugValue;function Yb(t,e){var n=e(),r=Kb({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return qb(function(){i.value=n,i.getSnapshot=e,Tm(i)&&s({inst:i})},[t,n,e]),$b(function(){return Tm(i)&&s({inst:i}),t(function(){Tm(i)&&s({inst:i})})},[t]),Qb(n),n}function Tm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hb(t,n)}catch{return!0}}function Xb(t,e){return e()}var Zb=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Xb:Yb;R6.useSyncExternalStore=Vu.useSyncExternalStore!==void 0?Vu.useSyncExternalStore:Zb;j6.exports=R6;var Jb=j6.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0=U,ek=Jb;function tk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nk=typeof Object.is=="function"?Object.is:tk,rk=ek.useSyncExternalStore,ik=w0.useRef,sk=w0.useEffect,ak=w0.useMemo,ok=w0.useDebugValue;T6.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=ik(null);if(s.current===null){var l={hasValue:!1,value:null};s.current=l}else l=s.current;s=ak(function(){function d(_){if(!m){if(m=!0,w=_,_=r(_),i!==void 0&&l.hasValue){var k=l.value;if(i(k,_))return C=k}return C=_}if(k=C,nk(w,_))return k;var R=r(_);return i!==void 0&&i(k,R)?(w=_,k):(w=_,C=R)}var m=!1,w,C,S=n===void 0?null:n;return[function(){return d(e())},S===null?void 0:function(){return d(S())}]},[e,n,r,i]);var u=rk(t,s[0],s[1]);return sk(function(){l.hasValue=!0,l.value=u},[u]),ok(u),u};P6.exports=T6;var lk=P6.exports;const uk=Ju(lk),{useDebugValue:ck}=Se,{useSyncExternalStoreWithSelector:dk}=uk;const hk=t=>t;function fk(t,e=hk,n){const r=dk(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return ck(r),r}const A5=t=>{const e=typeof t=="function"?Vb(t):t,n=(r,i)=>fk(e,r,i);return Object.assign(n,e),n},_0=t=>t?A5(t):A5,Qg=new Map,Wh=t=>{const e=Qg.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,r])=>[n,r.getState()])):{}},pk=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const r=Qg.get(n.name);if(r)return{type:"tracked",store:t,...r};const i={connection:e.connect(n),stores:{}};return Qg.set(n.name,i),{type:"tracked",store:t,...i}},mk=(t,e={})=>(n,r,i)=>{const{enabled:s,anonymousActionType:l,store:u,...d}=e;let m;try{m=(s??!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!m)return t(n,r,i);const{connection:w,...C}=pk(u,m,d);let S=!0;i.setState=(R,O,T)=>{const j=n(R,O);if(!S)return j;const x=T===void 0?{type:l||"anonymous"}:typeof T=="string"?{type:T}:T;return u===void 0?(w==null||w.send(x,r()),j):(w==null||w.send({...x,type:`${u}/${x.type}`},{...Wh(d.name),[u]:i.getState()}),j)};const _=(...R)=>{const O=S;S=!1,n(...R),S=O},k=t(i.setState,r,i);if(C.type==="untracked"?w==null||w.init(k):(C.stores[C.store]=i,w==null||w.init(Object.fromEntries(Object.entries(C.stores).map(([R,O])=>[R,R===C.store?k:O.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let R=!1;const O=i.dispatch;i.dispatch=(...T)=>{O(...T)}}return w.subscribe(R=>{var O;switch(R.type){case"ACTION":if(typeof R.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return jm(R.payload,T=>{if(T.type==="__setState"){if(u===void 0){_(T.state);return}Object.keys(T.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const j=T.state[u];if(j==null)return;JSON.stringify(i.getState())!==JSON.stringify(j)&&_(j);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(T)});case"DISPATCH":switch(R.payload.type){case"RESET":return _(k),u===void 0?w==null?void 0:w.init(i.getState()):w==null?void 0:w.init(Wh(d.name));case"COMMIT":if(u===void 0){w==null||w.init(i.getState());return}return w==null?void 0:w.init(Wh(d.name));case"ROLLBACK":return jm(R.state,T=>{if(u===void 0){_(T),w==null||w.init(i.getState());return}_(T[u]),w==null||w.init(Wh(d.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return jm(R.state,T=>{if(u===void 0){_(T);return}JSON.stringify(i.getState())!==JSON.stringify(T[u])&&_(T[u])});case"IMPORT_STATE":{const{nextLiftedState:T}=R.payload,j=(O=T.computedStates.slice(-1)[0])==null?void 0:O.state;if(!j)return;_(u===void 0?j:j[u]),w==null||w.send(null,T);return}case"PAUSE_RECORDING":return S=!S}return}}),k},S0=mk,jm=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&e(n)};var Mt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const l of i)s[l]=l;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),l={};for(const u of s)l[u]=i[u];return t.objectValues(l)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&s.push(l);return s},t.find=(i,s)=>{for(const l of i)if(s(l))return l},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Mt||(Mt={}));var M5;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(M5||(M5={}));const Ge=Mt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ba=t=>{switch(typeof t){case"undefined":return Ge.undefined;case"string":return Ge.string;case"number":return Number.isNaN(t)?Ge.nan:Ge.number;case"boolean":return Ge.boolean;case"function":return Ge.function;case"bigint":return Ge.bigint;case"symbol":return Ge.symbol;case"object":return Array.isArray(t)?Ge.array:t===null?Ge.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ge.promise:typeof Map<"u"&&t instanceof Map?Ge.map:typeof Set<"u"&&t instanceof Set?Ge.set:typeof Date<"u"&&t instanceof Date?Ge.date:Ge.object;default:return Ge.unknown}},Ee=Mt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ra extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const l of s.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let u=r,d=0;for(;d<l.path.length;){const m=l.path[d];d===l.path.length-1?(u[m]=u[m]||{_errors:[]},u[m]._errors.push(n(l))):u[m]=u[m]||{_errors:[]},u=u[m],d++}}};return i(this),r}static assert(e){if(!(e instanceof ra))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Mt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ra.create=t=>new ra(t);const gk=(t,e)=>{let n;switch(t.code){case Ee.invalid_type:t.received===Ge.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ee.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Mt.jsonStringifyReplacer)}`;break;case Ee.unrecognized_keys:n=`Unrecognized key(s) in object: ${Mt.joinValues(t.keys,", ")}`;break;case Ee.invalid_union:n="Invalid input";break;case Ee.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Mt.joinValues(t.options)}`;break;case Ee.invalid_enum_value:n=`Invalid enum value. Expected ${Mt.joinValues(t.options)}, received '${t.received}'`;break;case Ee.invalid_arguments:n="Invalid function arguments";break;case Ee.invalid_return_type:n="Invalid function return type";break;case Ee.invalid_date:n="Invalid date";break;case Ee.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Mt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ee.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ee.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ee.custom:n="Invalid input";break;case Ee.invalid_intersection_types:n="Intersection results could not be merged";break;case Ee.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ee.not_finite:n="Number must be finite";break;default:n=e.defaultError,Mt.assertNever(t)}return{message:n}},Yg=gk;let yk=Yg;function vk(){return yk}const xk=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],l={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let u="";const d=r.filter(m=>!!m).slice().reverse();for(const m of d)u=m(l,{data:e,defaultError:u}).message;return{...i,path:s,message:u}};function Me(t,e){const n=vk(),r=xk({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Yg?void 0:Yg].filter(i=>!!i)});t.common.issues.push(r)}class _r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return at;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,l=await i.value;r.push({key:s,value:l})}return _r.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:l}=i;if(s.status==="aborted"||l.status==="aborted")return at;s.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[s.value]=l.value)}return{status:e.value,value:r}}}const at=Object.freeze({status:"aborted"}),Kc=t=>({status:"dirty",value:t}),bi=t=>({status:"valid",value:t}),D5=t=>t.status==="aborted",I5=t=>t.status==="dirty",Wu=t=>t.status==="valid",Bf=t=>typeof Promise<"u"&&t instanceof Promise;var We;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(We||(We={}));class Ss{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const L5=(t,e)=>{if(Wu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ra(t.common.issues);return this._error=n,this._error}}};function ht(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,u)=>{const{message:d}=t;return l.code==="invalid_enum_value"?{message:d??u.defaultError}:typeof u.data>"u"?{message:d??r??u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:d??n??u.defaultError}},description:i}}class kt{get description(){return this._def.description}_getType(e){return Ba(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ba(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new _r,ctx:{common:e.parent.common,data:e.data,parsedType:Ba(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Bf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ba(e)},i=this._parseSync({data:e,path:r.path,parent:r});return L5(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ba(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return Wu(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>Wu(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ba(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Bf(i)?i:Promise.resolve(i));return L5(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const l=e(i),u=()=>s.addIssue({code:Ee.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new co({schema:this,typeName:rt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ao.create(this,this._def)}nullable(){return Qu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _s.create(this)}promise(){return Wf.create(this,this._def)}or(e){return Uf.create([this,e],this._def)}and(e){return Gf.create(this,e,this._def)}transform(e){return new co({...ht(this._def),schema:this,typeName:rt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new u1({...ht(this._def),innerType:this,defaultValue:n,typeName:rt.ZodDefault})}brand(){return new Gk({typeName:rt.ZodBranded,type:this,...ht(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new c1({...ht(this._def),innerType:this,catchValue:n,typeName:rt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ty.create(this,e)}readonly(){return h1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wk=/^c[^\s-]{8,}$/i,_k=/^[0-9a-z]+$/,Sk=/^[0-9A-HJKMNP-TV-Z]{26}$/i,bk=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,kk=/^[a-z0-9_-]{21}$/i,Ck=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ek=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Nk=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Pk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Rm;const Tk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,jk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Rk=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ok=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ak=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Mk=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,O6="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Dk=new RegExp(`^${O6}$`);function A6(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Ik(t){return new RegExp(`^${A6(t)}$`)}function Lk(t){let e=`${O6}T${A6(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Fk(t,e){return!!((e==="v4"||!e)&&Tk.test(t)||(e==="v6"||!e)&&Rk.test(t))}function zk(t,e){if(!Ck.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Bk(t,e){return!!((e==="v4"||!e)&&jk.test(t)||(e==="v6"||!e)&&Ok.test(t))}class Ys extends kt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ge.string){const s=this._getOrReturnCtx(e);return Me(s,{code:Ee.invalid_type,expected:Ge.string,received:s.parsedType}),at}const r=new _r;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Me(i,{code:Ee.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Me(i,{code:Ee.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const l=e.data.length>s.value,u=e.data.length<s.value;(l||u)&&(i=this._getOrReturnCtx(e,i),l?Me(i,{code:Ee.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&Me(i,{code:Ee.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Nk.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"email",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Rm||(Rm=new RegExp(Pk,"u")),Rm.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"emoji",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")bk.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"uuid",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")kk.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"nanoid",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")wk.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"cuid",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")_k.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"cuid2",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Sk.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"ulid",code:Ee.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Me(i,{validation:"url",code:Ee.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"regex",code:Ee.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Me(i,{code:Ee.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Me(i,{code:Ee.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Me(i,{code:Ee.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Lk(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{code:Ee.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Dk.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{code:Ee.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Ik(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{code:Ee.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Ek.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"duration",code:Ee.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Fk(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"ip",code:Ee.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?zk(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"jwt",code:Ee.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?Bk(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"cidr",code:Ee.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Ak.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"base64",code:Ee.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?Mk.test(e.data)||(i=this._getOrReturnCtx(e,i),Me(i,{validation:"base64url",code:Ee.invalid_string,message:s.message}),r.dirty()):Mt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ee.invalid_string,...We.errToObj(r)})}_addCheck(e){return new Ys({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...We.errToObj(e)})}url(e){return this._addCheck({kind:"url",...We.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...We.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...We.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...We.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...We.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...We.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...We.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...We.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...We.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...We.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...We.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...We.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...We.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...We.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...We.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...We.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...We.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...We.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...We.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...We.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...We.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...We.errToObj(n)})}nonempty(e){return this.min(1,We.errToObj(e))}trim(){return new Ys({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ys({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ys({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ys.create=t=>new Ys({checks:[],typeName:rt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ht(t)});function Uk(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),l=Number.parseInt(e.toFixed(i).replace(".",""));return s%l/10**i}class Hu extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ge.number){const s=this._getOrReturnCtx(e);return Me(s,{code:Ee.invalid_type,expected:Ge.number,received:s.parsedType}),at}let r;const i=new _r;for(const s of this._def.checks)s.kind==="int"?Mt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Me(r,{code:Ee.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Ee.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Ee.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Uk(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Ee.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Me(r,{code:Ee.not_finite,message:s.message}),i.dirty()):Mt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,We.toString(n))}gt(e,n){return this.setLimit("min",e,!1,We.toString(n))}lte(e,n){return this.setLimit("max",e,!0,We.toString(n))}lt(e,n){return this.setLimit("max",e,!1,We.toString(n))}setLimit(e,n,r,i){return new Hu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:We.toString(i)}]})}_addCheck(e){return new Hu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:We.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:We.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:We.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:We.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:We.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:We.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:We.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:We.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:We.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Mt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Hu.create=t=>new Hu({checks:[],typeName:rt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ht(t)});class Ku extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ge.bigint)return this._getInvalidInput(e);let r;const i=new _r;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Ee.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Ee.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Ee.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Mt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Me(n,{code:Ee.invalid_type,expected:Ge.bigint,received:n.parsedType}),at}gte(e,n){return this.setLimit("min",e,!0,We.toString(n))}gt(e,n){return this.setLimit("min",e,!1,We.toString(n))}lte(e,n){return this.setLimit("max",e,!0,We.toString(n))}lt(e,n){return this.setLimit("max",e,!1,We.toString(n))}setLimit(e,n,r,i){return new Ku({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:We.toString(i)}]})}_addCheck(e){return new Ku({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:We.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:We.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:We.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:We.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:We.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ku.create=t=>new Ku({checks:[],typeName:rt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ht(t)});class Xg extends kt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ge.boolean){const r=this._getOrReturnCtx(e);return Me(r,{code:Ee.invalid_type,expected:Ge.boolean,received:r.parsedType}),at}return bi(e.data)}}Xg.create=t=>new Xg({typeName:rt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ht(t)});class Cd extends kt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ge.date){const s=this._getOrReturnCtx(e);return Me(s,{code:Ee.invalid_type,expected:Ge.date,received:s.parsedType}),at}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Me(s,{code:Ee.invalid_date}),at}const r=new _r;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Me(i,{code:Ee.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Me(i,{code:Ee.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Mt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Cd({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:We.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:We.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Cd.create=t=>new Cd({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:rt.ZodDate,...ht(t)});class Zg extends kt{_parse(e){if(this._getType(e)!==Ge.symbol){const r=this._getOrReturnCtx(e);return Me(r,{code:Ee.invalid_type,expected:Ge.symbol,received:r.parsedType}),at}return bi(e.data)}}Zg.create=t=>new Zg({typeName:rt.ZodSymbol,...ht(t)});class Jg extends kt{_parse(e){if(this._getType(e)!==Ge.undefined){const r=this._getOrReturnCtx(e);return Me(r,{code:Ee.invalid_type,expected:Ge.undefined,received:r.parsedType}),at}return bi(e.data)}}Jg.create=t=>new Jg({typeName:rt.ZodUndefined,...ht(t)});class e1 extends kt{_parse(e){if(this._getType(e)!==Ge.null){const r=this._getOrReturnCtx(e);return Me(r,{code:Ee.invalid_type,expected:Ge.null,received:r.parsedType}),at}return bi(e.data)}}e1.create=t=>new e1({typeName:rt.ZodNull,...ht(t)});class t1 extends kt{constructor(){super(...arguments),this._any=!0}_parse(e){return bi(e.data)}}t1.create=t=>new t1({typeName:rt.ZodAny,...ht(t)});class n1 extends kt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return bi(e.data)}}n1.create=t=>new n1({typeName:rt.ZodUnknown,...ht(t)});class uo extends kt{_parse(e){const n=this._getOrReturnCtx(e);return Me(n,{code:Ee.invalid_type,expected:Ge.never,received:n.parsedType}),at}}uo.create=t=>new uo({typeName:rt.ZodNever,...ht(t)});class r1 extends kt{_parse(e){if(this._getType(e)!==Ge.undefined){const r=this._getOrReturnCtx(e);return Me(r,{code:Ee.invalid_type,expected:Ge.void,received:r.parsedType}),at}return bi(e.data)}}r1.create=t=>new r1({typeName:rt.ZodVoid,...ht(t)});class _s extends kt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ge.array)return Me(n,{code:Ee.invalid_type,expected:Ge.array,received:n.parsedType}),at;if(i.exactLength!==null){const l=n.data.length>i.exactLength.value,u=n.data.length<i.exactLength.value;(l||u)&&(Me(n,{code:l?Ee.too_big:Ee.too_small,minimum:u?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Me(n,{code:Ee.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Me(n,{code:Ee.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,u)=>i.type._parseAsync(new Ss(n,l,n.path,u)))).then(l=>_r.mergeArray(r,l));const s=[...n.data].map((l,u)=>i.type._parseSync(new Ss(n,l,n.path,u)));return _r.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new _s({...this._def,minLength:{value:e,message:We.toString(n)}})}max(e,n){return new _s({...this._def,maxLength:{value:e,message:We.toString(n)}})}length(e,n){return new _s({...this._def,exactLength:{value:e,message:We.toString(n)}})}nonempty(e){return this.min(1,e)}}_s.create=(t,e)=>new _s({type:t,minLength:null,maxLength:null,exactLength:null,typeName:rt.ZodArray,...ht(e)});function uu(t){if(t instanceof ln){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ao.create(uu(r))}return new ln({...t._def,shape:()=>e})}else return t instanceof _s?new _s({...t._def,type:uu(t.element)}):t instanceof ao?ao.create(uu(t.unwrap())):t instanceof Qu?Qu.create(uu(t.unwrap())):t instanceof wl?wl.create(t.items.map(e=>uu(e))):t}class ln extends kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Mt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ge.object){const m=this._getOrReturnCtx(e);return Me(m,{code:Ee.invalid_type,expected:Ge.object,received:m.parsedType}),at}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof uo&&this._def.unknownKeys==="strip"))for(const m in i.data)l.includes(m)||u.push(m);const d=[];for(const m of l){const w=s[m],C=i.data[m];d.push({key:{status:"valid",value:m},value:w._parse(new Ss(i,C,i.path,m)),alwaysSet:m in i.data})}if(this._def.catchall instanceof uo){const m=this._def.unknownKeys;if(m==="passthrough")for(const w of u)d.push({key:{status:"valid",value:w},value:{status:"valid",value:i.data[w]}});else if(m==="strict")u.length>0&&(Me(i,{code:Ee.unrecognized_keys,keys:u}),r.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const w of u){const C=i.data[w];d.push({key:{status:"valid",value:w},value:m._parse(new Ss(i,C,i.path,w)),alwaysSet:w in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const m=[];for(const w of d){const C=await w.key,S=await w.value;m.push({key:C,value:S,alwaysSet:w.alwaysSet})}return m}).then(m=>_r.mergeObjectSync(r,m)):_r.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return We.errToObj,new ln({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,l;const i=((l=(s=this._def).errorMap)==null?void 0:l.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:We.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ln({...this._def,unknownKeys:"strip"})}passthrough(){return new ln({...this._def,unknownKeys:"passthrough"})}extend(e){return new ln({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ln({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ln({...this._def,catchall:e})}pick(e){const n={};for(const r of Mt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ln({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Mt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new ln({...this._def,shape:()=>n})}deepPartial(){return uu(this)}partial(e){const n={};for(const r of Mt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new ln({...this._def,shape:()=>n})}required(e){const n={};for(const r of Mt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof ao;)s=s._def.innerType;n[r]=s}return new ln({...this._def,shape:()=>n})}keyof(){return M6(Mt.objectKeys(this.shape))}}ln.create=(t,e)=>new ln({shape:()=>t,unknownKeys:"strip",catchall:uo.create(),typeName:rt.ZodObject,...ht(e)});ln.strictCreate=(t,e)=>new ln({shape:()=>t,unknownKeys:"strict",catchall:uo.create(),typeName:rt.ZodObject,...ht(e)});ln.lazycreate=(t,e)=>new ln({shape:t,unknownKeys:"strip",catchall:uo.create(),typeName:rt.ZodObject,...ht(e)});class Uf extends kt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const u of s)if(u.result.status==="valid")return u.result;for(const u of s)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const l=s.map(u=>new ra(u.ctx.common.issues));return Me(n,{code:Ee.invalid_union,unionErrors:l}),at}if(n.common.async)return Promise.all(r.map(async s=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(i);{let s;const l=[];for(const d of r){const m={...n,common:{...n.common,issues:[]},parent:null},w=d._parseSync({data:n.data,path:n.path,parent:m});if(w.status==="valid")return w;w.status==="dirty"&&!s&&(s={result:w,ctx:m}),m.common.issues.length&&l.push(m.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const u=l.map(d=>new ra(d));return Me(n,{code:Ee.invalid_union,unionErrors:u}),at}}get options(){return this._def.options}}Uf.create=(t,e)=>new Uf({options:t,typeName:rt.ZodUnion,...ht(e)});function i1(t,e){const n=Ba(t),r=Ba(e);if(t===e)return{valid:!0,data:t};if(n===Ge.object&&r===Ge.object){const i=Mt.objectKeys(e),s=Mt.objectKeys(t).filter(u=>i.indexOf(u)!==-1),l={...t,...e};for(const u of s){const d=i1(t[u],e[u]);if(!d.valid)return{valid:!1};l[u]=d.data}return{valid:!0,data:l}}else if(n===Ge.array&&r===Ge.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const l=t[s],u=e[s],d=i1(l,u);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return n===Ge.date&&r===Ge.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Gf extends kt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,l)=>{if(D5(s)||D5(l))return at;const u=i1(s.value,l.value);return u.valid?((I5(s)||I5(l))&&n.dirty(),{status:n.value,value:u.data}):(Me(r,{code:Ee.invalid_intersection_types}),at)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,l])=>i(s,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Gf.create=(t,e,n)=>new Gf({left:t,right:e,typeName:rt.ZodIntersection,...ht(n)});class wl extends kt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ge.array)return Me(r,{code:Ee.invalid_type,expected:Ge.array,received:r.parsedType}),at;if(r.data.length<this._def.items.length)return Me(r,{code:Ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),at;!this._def.rest&&r.data.length>this._def.items.length&&(Me(r,{code:Ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((l,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new Ss(r,l,r.path,u)):null}).filter(l=>!!l);return r.common.async?Promise.all(s).then(l=>_r.mergeArray(n,l)):_r.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new wl({...this._def,rest:e})}}wl.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wl({items:t,typeName:rt.ZodTuple,rest:null,...ht(e)})};class Vf extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ge.object)return Me(r,{code:Ee.invalid_type,expected:Ge.object,received:r.parsedType}),at;const i=[],s=this._def.keyType,l=this._def.valueType;for(const u in r.data)i.push({key:s._parse(new Ss(r,u,r.path,u)),value:l._parse(new Ss(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?_r.mergeObjectAsync(n,i):_r.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof kt?new Vf({keyType:e,valueType:n,typeName:rt.ZodRecord,...ht(r)}):new Vf({keyType:Ys.create(),valueType:e,typeName:rt.ZodRecord,...ht(n)})}}class s1 extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ge.map)return Me(r,{code:Ee.invalid_type,expected:Ge.map,received:r.parsedType}),at;const i=this._def.keyType,s=this._def.valueType,l=[...r.data.entries()].map(([u,d],m)=>({key:i._parse(new Ss(r,u,r.path,[m,"key"])),value:s._parse(new Ss(r,d,r.path,[m,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of l){const m=await d.key,w=await d.value;if(m.status==="aborted"||w.status==="aborted")return at;(m.status==="dirty"||w.status==="dirty")&&n.dirty(),u.set(m.value,w.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of l){const m=d.key,w=d.value;if(m.status==="aborted"||w.status==="aborted")return at;(m.status==="dirty"||w.status==="dirty")&&n.dirty(),u.set(m.value,w.value)}return{status:n.value,value:u}}}}s1.create=(t,e,n)=>new s1({valueType:e,keyType:t,typeName:rt.ZodMap,...ht(n)});class $u extends kt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ge.set)return Me(r,{code:Ee.invalid_type,expected:Ge.set,received:r.parsedType}),at;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Me(r,{code:Ee.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Me(r,{code:Ee.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function l(d){const m=new Set;for(const w of d){if(w.status==="aborted")return at;w.status==="dirty"&&n.dirty(),m.add(w.value)}return{status:n.value,value:m}}const u=[...r.data.values()].map((d,m)=>s._parse(new Ss(r,d,r.path,m)));return r.common.async?Promise.all(u).then(d=>l(d)):l(u)}min(e,n){return new $u({...this._def,minSize:{value:e,message:We.toString(n)}})}max(e,n){return new $u({...this._def,maxSize:{value:e,message:We.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}$u.create=(t,e)=>new $u({valueType:t,minSize:null,maxSize:null,typeName:rt.ZodSet,...ht(e)});class a1 extends kt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}a1.create=(t,e)=>new a1({getter:t,typeName:rt.ZodLazy,...ht(e)});class o1 extends kt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Me(n,{received:n.data,code:Ee.invalid_literal,expected:this._def.value}),at}return{status:"valid",value:e.data}}get value(){return this._def.value}}o1.create=(t,e)=>new o1({value:t,typeName:rt.ZodLiteral,...ht(e)});function M6(t,e){return new qu({values:t,typeName:rt.ZodEnum,...ht(e)})}class qu extends kt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Me(n,{expected:Mt.joinValues(r),received:n.parsedType,code:Ee.invalid_type}),at}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Me(n,{received:n.data,code:Ee.invalid_enum_value,options:r}),at}return bi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return qu.create(e,{...this._def,...n})}exclude(e,n=this._def){return qu.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}qu.create=M6;class l1 extends kt{_parse(e){const n=Mt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ge.string&&r.parsedType!==Ge.number){const i=Mt.objectValues(n);return Me(r,{expected:Mt.joinValues(i),received:r.parsedType,code:Ee.invalid_type}),at}if(this._cache||(this._cache=new Set(Mt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Mt.objectValues(n);return Me(r,{received:r.data,code:Ee.invalid_enum_value,options:i}),at}return bi(e.data)}get enum(){return this._def.values}}l1.create=(t,e)=>new l1({values:t,typeName:rt.ZodNativeEnum,...ht(e)});class Wf extends kt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ge.promise&&n.common.async===!1)return Me(n,{code:Ee.invalid_type,expected:Ge.promise,received:n.parsedType}),at;const r=n.parsedType===Ge.promise?n.data:Promise.resolve(n.data);return bi(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Wf.create=(t,e)=>new Wf({type:t,typeName:rt.ZodPromise,...ht(e)});class co extends kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:l=>{Me(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const l=i.transform(r.data,s);if(r.common.async)return Promise.resolve(l).then(async u=>{if(n.value==="aborted")return at;const d=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return d.status==="aborted"?at:d.status==="dirty"||n.value==="dirty"?Kc(d.value):d});{if(n.value==="aborted")return at;const u=this._def.schema._parseSync({data:l,path:r.path,parent:r});return u.status==="aborted"?at:u.status==="dirty"||n.value==="dirty"?Kc(u.value):u}}if(i.type==="refinement"){const l=u=>{const d=i.refinement(u,s);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?at:(u.status==="dirty"&&n.dirty(),l(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?at:(u.status==="dirty"&&n.dirty(),l(u.value).then(()=>({status:n.value,value:u.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Wu(l))return at;const u=i.transform(l.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Wu(l)?Promise.resolve(i.transform(l.value,s)).then(u=>({status:n.value,value:u})):at);Mt.assertNever(i)}}co.create=(t,e,n)=>new co({schema:t,typeName:rt.ZodEffects,effect:e,...ht(n)});co.createWithPreprocess=(t,e,n)=>new co({schema:e,effect:{type:"preprocess",transform:t},typeName:rt.ZodEffects,...ht(n)});class ao extends kt{_parse(e){return this._getType(e)===Ge.undefined?bi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ao.create=(t,e)=>new ao({innerType:t,typeName:rt.ZodOptional,...ht(e)});class Qu extends kt{_parse(e){return this._getType(e)===Ge.null?bi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qu.create=(t,e)=>new Qu({innerType:t,typeName:rt.ZodNullable,...ht(e)});class u1 extends kt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ge.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}u1.create=(t,e)=>new u1({innerType:t,typeName:rt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ht(e)});class c1 extends kt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Bf(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ra(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ra(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}c1.create=(t,e)=>new c1({innerType:t,typeName:rt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ht(e)});class d1 extends kt{_parse(e){if(this._getType(e)!==Ge.nan){const r=this._getOrReturnCtx(e);return Me(r,{code:Ee.invalid_type,expected:Ge.nan,received:r.parsedType}),at}return{status:"valid",value:e.data}}}d1.create=t=>new d1({typeName:rt.ZodNaN,...ht(t)});class Gk extends kt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ty extends kt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?at:s.status==="dirty"?(n.dirty(),Kc(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?at:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Ty({in:e,out:n,typeName:rt.ZodPipeline})}}class h1 extends kt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Wu(i)&&(i.value=Object.freeze(i.value)),i);return Bf(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}h1.create=(t,e)=>new h1({innerType:t,typeName:rt.ZodReadonly,...ht(e)});ln.lazycreate;var rt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(rt||(rt={}));const il=Ys.create,yn=Hu.create;d1.create;Ku.create;const f1=Xg.create;Cd.create;Zg.create;Jg.create;e1.create;const D6=t1.create;n1.create;uo.create;r1.create;const p1=_s.create,wi=ln.create;ln.strictCreate;Uf.create;Gf.create;wl.create;const I6=Vf.create;s1.create;$u.create;a1.create;const Vk=o1.create,ho=qu.create;l1.create;Wf.create;co.create;ao.create;Qu.create;co.createWithPreprocess;const Wk=wi({units:ho(["mm","inch"]).default("mm"),width:yn().positive(),height:yn().positive(),pitch:yn().positive(),thread:ho(["1/4-20","M6"]).default("1/4-20"),origin:wi({x:yn().default(0),y:yn().default(0)})}),Hk=ho(["laser.generic","mirror.generic","splitter.generic","camera.andor","motor.thorlabs.kdc101","stage.newport.esp","sensor.generic","spectrograph.andor.sr750"]),Kk=wi({id:il(),type:Hk,name:il(),pos:wi({x:yn(),y:yn(),angle:yn().default(0)}),driver:wi({module:il().optional(),address:il().optional(),params:I6(D6()).optional()}).optional(),status:ho(["green","red","gray"]).default("gray")});wi({version:Vk("1"),table:Wk,devices:p1(Kk)});const F5={version:"1",table:{units:"mm",width:900,height:600,pitch:25,thread:"1/4-20",origin:{x:0,y:0}},devices:[]},$k={version:"1",table:{units:"mm",width:900,height:600,pitch:25,thread:"1/4-20",origin:{x:0,y:0}},devices:[{id:"laser1",type:"laser.generic",name:"HeNe Laser",pos:{x:100,y:300,angle:0},status:"green"},{id:"mirrorA",type:"mirror.generic",name:"Mirror A",pos:{x:275,y:300,angle:45},status:"gray"},{id:"split1",type:"splitter.generic",name:"Beam Splitter",pos:{x:400,y:300,angle:0},status:"red"},{id:"cam1",type:"camera.andor",name:"Andor Cam",pos:{x:575,y:175,angle:0},status:"gray"},{id:"sr750",type:"spectrograph.andor.sr750",name:"SR-750",pos:{x:750,y:300,angle:0},status:"gray"}]},b0=_0()(S0((t,e)=>({project:F5,isDirty:!1,lastSaved:null,setProject:n=>t({project:n,isDirty:!1,lastSaved:new Date}),updateTable:n=>t(r=>({project:{...r.project,table:{...r.project.table,...n}},isDirty:!0})),addDevice:n=>t(r=>({project:{...r.project,devices:[...r.project.devices,n]},isDirty:!0})),updateDevice:(n,r)=>t(i=>({project:{...i.project,devices:i.project.devices.map(s=>s.id===n?{...s,...r}:s)},isDirty:!0})),removeDevice:n=>t(r=>({project:{...r.project,devices:r.project.devices.filter(i=>i.id!==n)},isDirty:!0})),removeDevices:n=>t(r=>({project:{...r.project,devices:r.project.devices.filter(i=>!n.includes(i.id))},isDirty:!0})),duplicateDevice:n=>{const r=e().getDevice(n);if(r){const i={...r,id:`${r.id}_copy_${Date.now()}`,name:`${r.name} (Copy)`,pos:{...r.pos,x:r.pos.x+50,y:r.pos.y+50}};e().addDevice(i)}},duplicateDevices:n=>{const i=n.map(s=>e().getDevice(s)).filter(Boolean).map(s=>({...s,id:`${s.id}_copy_${Date.now()}`,name:`${s.name} (Copy)`,pos:{...s.pos,x:s.pos.x+50,y:s.pos.y+50}}));t(s=>({project:{...s.project,devices:[...s.project.devices,...i]},isDirty:!0}))},moveDevice:(n,r)=>t(i=>({project:{...i.project,devices:i.project.devices.map(s=>s.id===n?{...s,pos:{...s.pos,...r}}:s)},isDirty:!0})),updateDevicePos:(n,r)=>t(i=>({project:{...i.project,devices:i.project.devices.map(s=>s.id===n?{...s,pos:{...s.pos,...r}}:s)},isDirty:!0})),rotateDevice:(n,r)=>t(i=>({project:{...i.project,devices:i.project.devices.map(s=>s.id===n?{...s,pos:{...s.pos,angle:r}}:s)},isDirty:!0})),setDeviceStatus:(n,r)=>t(i=>({project:{...i.project,devices:i.project.devices.map(s=>s.id===n?{...s,status:r}:s)},isDirty:!0})),newProject:()=>t({project:F5,isDirty:!1,lastSaved:null}),loadSampleProject:()=>t({project:$k,isDirty:!1,lastSaved:null}),markDirty:()=>t({isDirty:!0}),markClean:()=>t({isDirty:!1,lastSaved:new Date}),getDevice:n=>e().project.devices.find(r=>r.id===n),getDevicesByType:n=>e().project.devices.filter(r=>r.type===n),getDevicesInArea:(n,r,i,s)=>e().project.devices.filter(l=>{const u=l.pos.x,d=l.pos.y;return u>=n&&u<=n+i&&d>=r&&d<=r+s})}),{name:"project-store"})),Hh={x:0,y:0,scale:1},jy=_0()(S0(t=>({viewport:Hh,isPanning:!1,isSelecting:!1,selectionBox:null,snapToGrid:!0,gridVisible:!0,sidebarLeftWidth:300,sidebarRightWidth:350,sidebarLeftCollapsed:!1,sidebarRightCollapsed:!1,commandPaletteOpen:!1,settingsOpen:!1,aboutOpen:!1,setViewport:e=>t(n=>({viewport:{...n.viewport,...e}})),resetViewport:()=>t({viewport:Hh}),zoomIn:()=>t(e=>({viewport:{...e.viewport,scale:Math.min(e.viewport.scale*1.2,10)}})),zoomOut:()=>t(e=>({viewport:{...e.viewport,scale:Math.max(e.viewport.scale/1.2,.1)}})),zoomToFit:()=>{t({viewport:Hh})},zoomToSelection:()=>{t({viewport:Hh})},panTo:(e,n)=>t(r=>({viewport:{...r.viewport,x:e,y:n}})),startPanning:()=>t({isPanning:!0}),stopPanning:()=>t({isPanning:!1}),updatePan:(e,n)=>t(r=>({viewport:{...r.viewport,x:r.viewport.x+e,y:r.viewport.y+n}})),startSelection:(e,n)=>t({isSelecting:!0,selectionBox:{x:e,y:n,width:0,height:0}}),updateSelection:(e,n)=>t(r=>{if(!r.isSelecting||!r.selectionBox)return r;const i=r.selectionBox.x,s=r.selectionBox.y,l=e-i,u=n-s;return{selectionBox:{x:Math.min(i,e),y:Math.min(s,n),width:Math.abs(l),height:Math.abs(u)}}}),endSelection:()=>t({isSelecting:!1,selectionBox:null}),toggleSnapToGrid:()=>t(e=>({snapToGrid:!e.snapToGrid})),toggleGridVisible:()=>t(e=>({gridVisible:!e.gridVisible})),setSidebarLeftWidth:e=>t({sidebarLeftWidth:Math.max(200,Math.min(600,e))}),setSidebarRightWidth:e=>t({sidebarRightWidth:Math.max(200,Math.min(600,e))}),toggleSidebarLeft:()=>t(e=>({sidebarLeftCollapsed:!e.sidebarLeftCollapsed})),toggleSidebarRight:()=>t(e=>({sidebarRightCollapsed:!e.sidebarRightCollapsed})),openCommandPalette:()=>t({commandPaletteOpen:!0}),closeCommandPalette:()=>t({commandPaletteOpen:!1}),openSettings:()=>t({settingsOpen:!0}),closeSettings:()=>t({settingsOpen:!1}),openAbout:()=>t({aboutOpen:!0}),closeAbout:()=>t({aboutOpen:!1})}),{name:"ui-store"}));var L6={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ff,function(){var n=function(c,f){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var P in b)Object.prototype.hasOwnProperty.call(b,P)&&(y[P]=b[P])})(c,f)},r=function(){return(r=Object.assign||function(c){for(var f,y=1,b=arguments.length;y<b;y++)for(var P in f=arguments[y])Object.prototype.hasOwnProperty.call(f,P)&&(c[P]=f[P]);return c}).apply(this,arguments)};function i(c,f,y){if(y||arguments.length===2)for(var b,P=0,A=f.length;P<A;P++)!b&&P in f||((b=b||Array.prototype.slice.call(f,0,P))[P]=f[P]);return c.concat(b||Array.prototype.slice.call(f))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ff,l=Object.keys,u=Array.isArray;function d(c,f){return typeof f!="object"||l(f).forEach(function(y){c[y]=f[y]}),c}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var m=Object.getPrototypeOf,w={}.hasOwnProperty;function C(c,f){return w.call(c,f)}function S(c,f){typeof f=="function"&&(f=f(m(c))),(typeof Reflect>"u"?l:Reflect.ownKeys)(f).forEach(function(y){k(c,y,f[y])})}var _=Object.defineProperty;function k(c,f,y,b){_(c,f,d(y&&C(y,"get")&&typeof y.get=="function"?{get:y.get,set:y.set,configurable:!0}:{value:y,configurable:!0,writable:!0},b))}function R(c){return{from:function(f){return c.prototype=Object.create(f.prototype),k(c.prototype,"constructor",c),{extend:S.bind(null,c.prototype)}}}}var O=Object.getOwnPropertyDescriptor,T=[].slice;function j(c,f,y){return T.call(c,f,y)}function x(c,f){return f(c)}function N(c){if(!c)throw new Error("Assertion Failed")}function D(c){s.setImmediate?setImmediate(c):setTimeout(c,0)}function M(c,f){if(typeof f=="string"&&C(c,f))return c[f];if(!f)return c;if(typeof f!="string"){for(var y=[],b=0,P=f.length;b<P;++b){var A=M(c,f[b]);y.push(A)}return y}var L=f.indexOf(".");if(L!==-1){var z=c[f.substr(0,L)];return z==null?void 0:M(z,f.substr(L+1))}}function V(c,f,y){if(c&&f!==void 0&&!("isFrozen"in Object&&Object.isFrozen(c)))if(typeof f!="string"&&"length"in f){N(typeof y!="string"&&"length"in y);for(var b=0,P=f.length;b<P;++b)V(c,f[b],y[b])}else{var A,L,z=f.indexOf(".");z!==-1?(A=f.substr(0,z),(L=f.substr(z+1))===""?y===void 0?u(c)&&!isNaN(parseInt(A))?c.splice(A,1):delete c[A]:c[A]=y:V(z=!(z=c[A])||!C(c,A)?c[A]={}:z,L,y)):y===void 0?u(c)&&!isNaN(parseInt(f))?c.splice(f,1):delete c[f]:c[f]=y}}function F(c){var f,y={};for(f in c)C(c,f)&&(y[f]=c[f]);return y}var ne=[].concat;function W(c){return ne.apply([],c)}var sn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(W([8,16,32,64].map(function(c){return["Int","Uint","Float"].map(function(f){return f+c+"Array"})}))).filter(function(c){return s[c]}),re=new Set(sn.map(function(c){return s[c]})),oe=null;function ge(c){return oe=new WeakMap,c=function f(y){if(!y||typeof y!="object")return y;var b=oe.get(y);if(b)return b;if(u(y)){b=[],oe.set(y,b);for(var P=0,A=y.length;P<A;++P)b.push(f(y[P]))}else if(re.has(y.constructor))b=y;else{var L,z=m(y);for(L in b=z===Object.prototype?{}:Object.create(z),oe.set(y,b),y)C(y,L)&&(b[L]=f(y[L]))}return b}(c),oe=null,c}var Oe={}.toString;function ke(c){return Oe.call(c).slice(8,-1)}var Ke=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Xe=typeof Ke=="symbol"?function(c){var f;return c!=null&&(f=c[Ke])&&f.apply(c)}:function(){return null};function ue(c,f){return f=c.indexOf(f),0<=f&&c.splice(f,1),0<=f}var fe={};function me(c){var f,y,b,P;if(arguments.length===1){if(u(c))return c.slice();if(this===fe&&typeof c=="string")return[c];if(P=Xe(c)){for(y=[];!(b=P.next()).done;)y.push(b.value);return y}if(c==null)return[c];if(typeof(f=c.length)!="number")return[c];for(y=new Array(f);f--;)y[f]=c[f];return y}for(f=arguments.length,y=new Array(f);f--;)y[f]=arguments[f];return y}var Le=typeof Symbol<"u"?function(c){return c[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ks=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],an=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ks),ye={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Be(c,f){this.name=c,this.message=f}function Ze(c,f){return c+". Errors: "+Object.keys(f).map(function(y){return f[y].toString()}).filter(function(y,b,P){return P.indexOf(y)===b}).join(`
`)}function ct(c,f,y,b){this.failures=f,this.failedKeys=b,this.successCount=y,this.message=Ze(c,f)}function pt(c,f){this.name="BulkError",this.failures=Object.keys(f).map(function(y){return f[y]}),this.failuresByPos=f,this.message=Ze(c,this.failures)}R(Be).from(Error).extend({toString:function(){return this.name+": "+this.message}}),R(ct).from(Be),R(pt).from(Be);var K=an.reduce(function(c,f){return c[f]=f+"Error",c},{}),ve=Be,pe=an.reduce(function(c,f){var y=f+"Error";function b(P,A){this.name=y,P?typeof P=="string"?(this.message="".concat(P).concat(A?`
 `+A:""),this.inner=A||null):typeof P=="object"&&(this.message="".concat(P.name," ").concat(P.message),this.inner=P):(this.message=ye[f]||y,this.inner=null)}return R(b).from(ve),c[f]=b,c},{});pe.Syntax=SyntaxError,pe.Type=TypeError,pe.Range=RangeError;var xt=ks.reduce(function(c,f){return c[f+"Error"]=pe[f],c},{}),$e=an.reduce(function(c,f){return["Syntax","Type","Range"].indexOf(f)===-1&&(c[f+"Error"]=pe[f]),c},{});function He(){}function Et(c){return c}function kr(c,f){return c==null||c===Et?f:function(y){return f(c(y))}}function wt(c,f){return function(){c.apply(this,arguments),f.apply(this,arguments)}}function Wr(c,f){return c===He?f:function(){var y=c.apply(this,arguments);y!==void 0&&(arguments[0]=y);var b=this.onsuccess,P=this.onerror;this.onsuccess=null,this.onerror=null;var A=f.apply(this,arguments);return b&&(this.onsuccess=this.onsuccess?wt(b,this.onsuccess):b),P&&(this.onerror=this.onerror?wt(P,this.onerror):P),A!==void 0?A:y}}function dr(c,f){return c===He?f:function(){c.apply(this,arguments);var y=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,f.apply(this,arguments),y&&(this.onsuccess=this.onsuccess?wt(y,this.onsuccess):y),b&&(this.onerror=this.onerror?wt(b,this.onerror):b)}}function Cr(c,f){return c===He?f:function(y){var b=c.apply(this,arguments);d(y,b);var P=this.onsuccess,A=this.onerror;return this.onsuccess=null,this.onerror=null,y=f.apply(this,arguments),P&&(this.onsuccess=this.onsuccess?wt(P,this.onsuccess):P),A&&(this.onerror=this.onerror?wt(A,this.onerror):A),b===void 0?y===void 0?void 0:y:d(b,y)}}function dc(c,f){return c===He?f:function(){return f.apply(this,arguments)!==!1&&c.apply(this,arguments)}}function ri(c,f){return c===He?f:function(){var y=c.apply(this,arguments);if(y&&typeof y.then=="function"){for(var b=this,P=arguments.length,A=new Array(P);P--;)A[P]=arguments[P];return y.then(function(){return f.apply(b,A)})}return f.apply(this,arguments)}}$e.ModifyError=ct,$e.DexieError=Be,$e.BulkError=pt;var Dn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ko(c){Dn=c}var hr={},qi=100,sn=typeof Promise>"u"?[]:function(){var c=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[c,m(c),c];var f=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[f,m(f),c]}(),ks=sn[0],an=sn[1],sn=sn[2],an=an&&an.then,Jn=ks&&ks.constructor,Co=!!sn,Cs=function(c,f){Xi.push([c,f]),ua&&(queueMicrotask(It),ua=!1)},Qi=!0,ua=!0,ii=[],Yi=[],si=Et,Hr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:He,pgp:!1,env:{},finalize:He},Ie=Hr,Xi=[],Ci=0,Es=[];function je(c){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var f=this._PSD=Ie;if(typeof c!="function"){if(c!==hr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Er(this,this._value))}this._state=null,this._value=null,++f.ref,function y(b,P){try{P(function(A){if(b._state===null){if(A===b)throw new TypeError("A promise cannot be resolved with itself.");var L=b._lib&&hn();A&&typeof A.then=="function"?y(b,function(z,H){A instanceof je?A._then(z,H):A.then(z,H)}):(b._state=!0,b._value=A,No(b)),L&&fn()}},Er.bind(null,b))}catch(A){Er(b,A)}}(this,c)}var Eo={get:function(){var c=Ie,f=Ns;function y(b,P){var A=this,L=!c.global&&(c!==Ie||f!==Ns),z=L&&!Ji(),H=new je(function(q,Y){Ye(A,new ca(Vd(b,c,L,z),Vd(P,c,L,z),q,Y,c))});return this._consoleTask&&(H._consoleTask=this._consoleTask),H}return y.prototype=hr,y},set:function(c){k(this,"then",c&&c.prototype===hr?Eo:{get:function(){return c},set:Eo.set})}};function ca(c,f,y,b,P){this.onFulfilled=typeof c=="function"?c:null,this.onRejected=typeof f=="function"?f:null,this.resolve=y,this.reject=b,this.psd=P}function Er(c,f){var y,b;Yi.push(f),c._state===null&&(y=c._lib&&hn(),f=si(f),c._state=!1,c._value=f,b=c,ii.some(function(P){return P._value===b._value})||ii.push(b),No(c),y&&fn())}function No(c){var f=c._listeners;c._listeners=[];for(var y=0,b=f.length;y<b;++y)Ye(c,f[y]);var P=c._PSD;--P.ref||P.finalize(),Ci===0&&(++Ci,Cs(function(){--Ci==0&&Nr()},[]))}function Ye(c,f){if(c._state!==null){var y=c._state?f.onFulfilled:f.onRejected;if(y===null)return(c._state?f.resolve:f.reject)(c._value);++f.psd.ref,++Ci,Cs(Tt,[y,c,f])}else c._listeners.push(f)}function Tt(c,f,y){try{var b,P=f._value;!f._state&&Yi.length&&(Yi=[]),b=Dn&&f._consoleTask?f._consoleTask.run(function(){return c(P)}):c(P),f._state||Yi.indexOf(P)!==-1||function(A){for(var L=ii.length;L;)if(ii[--L]._value===A._value)return ii.splice(L,1)}(f),y.resolve(b)}catch(A){y.reject(A)}finally{--Ci==0&&Nr(),--y.psd.ref||y.psd.finalize()}}function It(){Ps(Hr,function(){hn()&&fn()})}function hn(){var c=Qi;return ua=Qi=!1,c}function fn(){var c,f,y;do for(;0<Xi.length;)for(c=Xi,Xi=[],y=c.length,f=0;f<y;++f){var b=c[f];b[0].apply(null,b[1])}while(0<Xi.length);ua=Qi=!0}function Nr(){var c=ii;ii=[],c.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)});for(var f=Es.slice(0),y=f.length;y;)f[--y]()}function Pr(c){return new je(hr,!1,c)}function mt(c,f){var y=Ie;return function(){var b=hn(),P=Ie;try{return es(y,!0),c.apply(this,arguments)}catch(A){f&&f(A)}finally{es(P,!1),b&&fn()}}}S(je.prototype,{then:Eo,_then:function(c,f){Ye(this,new ca(null,null,c,f,Ie))},catch:function(c){if(arguments.length===1)return this.then(null,c);var f=c,y=arguments[1];return typeof f=="function"?this.then(null,function(b){return(b instanceof f?y:Pr)(b)}):this.then(null,function(b){return(b&&b.name===f?y:Pr)(b)})},finally:function(c){return this.then(function(f){return je.resolve(c()).then(function(){return f})},function(f){return je.resolve(c()).then(function(){return Pr(f)})})},timeout:function(c,f){var y=this;return c<1/0?new je(function(b,P){var A=setTimeout(function(){return P(new pe.Timeout(f))},c);y.then(b,P).finally(clearTimeout.bind(null,A))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&k(je.prototype,Symbol.toStringTag,"Dexie.Promise"),Hr.env=Gd(),S(je,{all:function(){var c=me.apply(null,arguments).map(Il);return new je(function(f,y){c.length===0&&f([]);var b=c.length;c.forEach(function(P,A){return je.resolve(P).then(function(L){c[A]=L,--b||f(c)},y)})})},resolve:function(c){return c instanceof je?c:c&&typeof c.then=="function"?new je(function(f,y){c.then(f,y)}):new je(hr,!0,c)},reject:Pr,race:function(){var c=me.apply(null,arguments).map(Il);return new je(function(f,y){c.map(function(b){return je.resolve(b).then(f,y)})})},PSD:{get:function(){return Ie},set:function(c){return Ie=c}},totalEchoes:{get:function(){return Ns}},newPSD:Zi,usePSD:Ps,scheduler:{get:function(){return Cs},set:function(c){Cs=c}},rejectionMapper:{get:function(){return si},set:function(c){si=c}},follow:function(c,f){return new je(function(y,b){return Zi(function(P,A){var L=Ie;L.unhandleds=[],L.onunhandled=A,L.finalize=wt(function(){var z,H=this;z=function(){H.unhandleds.length===0?P():A(H.unhandleds[0])},Es.push(function q(){z(),Es.splice(Es.indexOf(q),1)}),++Ci,Cs(function(){--Ci==0&&Nr()},[])},L.finalize),c()},f,y,b)})}}),Jn&&(Jn.allSettled&&k(je,"allSettled",function(){var c=me.apply(null,arguments).map(Il);return new je(function(f){c.length===0&&f([]);var y=c.length,b=new Array(y);c.forEach(function(P,A){return je.resolve(P).then(function(L){return b[A]={status:"fulfilled",value:L}},function(L){return b[A]={status:"rejected",reason:L}}).then(function(){return--y||f(b)})})})}),Jn.any&&typeof AggregateError<"u"&&k(je,"any",function(){var c=me.apply(null,arguments).map(Il);return new je(function(f,y){c.length===0&&y(new AggregateError([]));var b=c.length,P=new Array(b);c.forEach(function(A,L){return je.resolve(A).then(function(z){return f(z)},function(z){P[L]=z,--b||y(new AggregateError(P))})})})}),Jn.withResolvers&&(je.withResolvers=Jn.withResolvers));var Lt={awaits:0,echoes:0,id:0},hc=0,Ml=[],Dl=0,Ns=0,gp=0;function Zi(c,f,y,b){var P=Ie,A=Object.create(P);return A.parent=P,A.ref=0,A.global=!1,A.id=++gp,Hr.env,A.env=Co?{Promise:je,PromiseProp:{value:je,configurable:!0,writable:!0},all:je.all,race:je.race,allSettled:je.allSettled,any:je.any,resolve:je.resolve,reject:je.reject}:{},f&&d(A,f),++P.ref,A.finalize=function(){--this.parent.ref||this.parent.finalize()},b=Ps(A,c,y,b),A.ref===0&&A.finalize(),b}function da(){return Lt.id||(Lt.id=++hc),++Lt.awaits,Lt.echoes+=qi,Lt.id}function Ji(){return!!Lt.awaits&&(--Lt.awaits==0&&(Lt.id=0),Lt.echoes=Lt.awaits*qi,!0)}function Il(c){return Lt.echoes&&c&&c.constructor===Jn?(da(),c.then(function(f){return Ji(),f},function(f){return Ji(),Jt(f)})):c}function yp(){var c=Ml[Ml.length-1];Ml.pop(),es(c,!1)}function es(c,f){var y,b=Ie;(f?!Lt.echoes||Dl++&&c===Ie:!Dl||--Dl&&c===Ie)||queueMicrotask(f?(function(P){++Ns,Lt.echoes&&--Lt.echoes!=0||(Lt.echoes=Lt.awaits=Lt.id=0),Ml.push(Ie),es(P,!0)}).bind(null,c):yp),c!==Ie&&(Ie=c,b===Hr&&(Hr.env=Gd()),Co&&(y=Hr.env.Promise,f=c.env,(b.global||c.global)&&(Object.defineProperty(s,"Promise",f.PromiseProp),y.all=f.all,y.race=f.race,y.resolve=f.resolve,y.reject=f.reject,f.allSettled&&(y.allSettled=f.allSettled),f.any&&(y.any=f.any))))}function Gd(){var c=s.Promise;return Co?{Promise:c,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:c.all,race:c.race,allSettled:c.allSettled,any:c.any,resolve:c.resolve,reject:c.reject}:{}}function Ps(c,f,y,b,P){var A=Ie;try{return es(c,!0),f(y,b,P)}finally{es(A,!1)}}function Vd(c,f,y,b){return typeof c!="function"?c:function(){var P=Ie;y&&da(),es(f,!0);try{return c.apply(this,arguments)}finally{es(P,!1),b&&queueMicrotask(Ji)}}}function fc(c){Promise===Jn&&Lt.echoes===0?Dl===0?c():enqueueNativeMicroTask(c):setTimeout(c,0)}(""+an).indexOf("[native code]")===-1&&(da=Ji=He);var Jt=je.reject,Ts=String.fromCharCode(65535),Ei="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ll="String expected.",ai=[],ha="__dbnames",Po="readonly",pc="readwrite";function Ni(c,f){return c?f?function(){return c.apply(this,arguments)&&f.apply(this,arguments)}:c:f}var js={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Kr(c){return typeof c!="string"||/\./.test(c)?function(f){return f}:function(f){return f[c]===void 0&&c in f&&delete(f=ge(f))[c],f}}function zt(){throw pe.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Ve(c,f){try{var y=Pi(c),b=Pi(f);if(y!==b)return y==="Array"?1:b==="Array"?-1:y==="binary"?1:b==="binary"?-1:y==="string"?1:b==="string"?-1:y==="Date"?1:b!=="Date"?NaN:-1;switch(y){case"number":case"Date":case"string":return f<c?1:c<f?-1:0;case"binary":return function(P,A){for(var L=P.length,z=A.length,H=L<z?L:z,q=0;q<H;++q)if(P[q]!==A[q])return P[q]<A[q]?-1:1;return L===z?0:L<z?-1:1}(kn(c),kn(f));case"Array":return function(P,A){for(var L=P.length,z=A.length,H=L<z?L:z,q=0;q<H;++q){var Y=Ve(P[q],A[q]);if(Y!==0)return Y}return L===z?0:L<z?-1:1}(c,f)}}catch{}return NaN}function Pi(c){var f=typeof c;return f!="object"?f:ArrayBuffer.isView(c)?"binary":(c=ke(c),c==="ArrayBuffer"?"binary":c)}function kn(c){return c instanceof Uint8Array?c:ArrayBuffer.isView(c)?new Uint8Array(c.buffer,c.byteOffset,c.byteLength):new Uint8Array(c)}function Cn(c,f,y){var b=c.schema.yProps;return b?(f&&0<y.numFailures&&(f=f.filter(function(P,A){return!y.failures[A]})),Promise.all(b.map(function(P){return P=P.updatesTable,f?c.db.table(P).where("k").anyOf(f).delete():c.db.table(P).clear()})).then(function(){return y})):y}var ts=(jt.prototype._trans=function(c,f,y){var b=this._tx||Ie.trans,P=this.name,A=Dn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(c==="readonly"?"read":"write"," ").concat(this.name));function L(q,Y,B){if(!B.schema[P])throw new pe.NotFound("Table "+P+" not part of transaction");return f(B.idbtrans,B)}var z=hn();try{var H=b&&b.db._novip===this.db._novip?b===Ie.trans?b._promise(c,L,y):Zi(function(){return b._promise(c,L,y)},{trans:b,transless:Ie.transless||Ie}):function q(Y,B,Z,G){if(Y.idbdb&&(Y._state.openComplete||Ie.letThrough||Y._vip)){var $=Y._createTransaction(B,Z,Y._dbSchema);try{$.create(),Y._state.PR1398_maxLoop=3}catch(Q){return Q.name===K.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return q(Y,B,Z,G)})):Jt(Q)}return $._promise(B,function(Q,X){return Zi(function(){return Ie.trans=$,G(Q,X,$)})}).then(function(Q){if(B==="readwrite")try{$.idbtrans.commit()}catch{}return B==="readonly"?Q:$._completion.then(function(){return Q})})}if(Y._state.openComplete)return Jt(new pe.DatabaseClosed(Y._state.dbOpenError));if(!Y._state.isBeingOpened){if(!Y._state.autoOpen)return Jt(new pe.DatabaseClosed);Y.open().catch(He)}return Y._state.dbReadyPromise.then(function(){return q(Y,B,Z,G)})}(this.db,c,[this.name],L);return A&&(H._consoleTask=A,H=H.catch(function(q){return console.trace(q),Jt(q)})),H}finally{z&&fn()}},jt.prototype.get=function(c,f){var y=this;return c&&c.constructor===Object?this.where(c).first(f):c==null?Jt(new pe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return y.core.get({trans:b,key:c}).then(function(P){return y.hook.reading.fire(P)})}).then(f)},jt.prototype.where=function(c){if(typeof c=="string")return new this.db.WhereClause(this,c);if(u(c))return new this.db.WhereClause(this,"[".concat(c.join("+"),"]"));var f=l(c);if(f.length===1)return this.where(f[0]).equals(c[f[0]]);var y=this.schema.indexes.concat(this.schema.primKey).filter(function(z){if(z.compound&&f.every(function(q){return 0<=z.keyPath.indexOf(q)})){for(var H=0;H<f.length;++H)if(f.indexOf(z.keyPath[H])===-1)return!1;return!0}return!1}).sort(function(z,H){return z.keyPath.length-H.keyPath.length})[0];if(y&&this.db._maxKey!==Ts){var A=y.keyPath.slice(0,f.length);return this.where(A).equals(A.map(function(H){return c[H]}))}!y&&Dn&&console.warn("The query ".concat(JSON.stringify(c)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(f.join("+"),"]"));var b=this.schema.idxByName;function P(z,H){return Ve(z,H)===0}var L=f.reduce(function(B,H){var q=B[0],Y=B[1],B=b[H],Z=c[H];return[q||B,q||!B?Ni(Y,B&&B.multi?function(G){return G=M(G,H),u(G)&&G.some(function($){return P(Z,$)})}:function(G){return P(Z,M(G,H))}):Y]},[null,null]),A=L[0],L=L[1];return A?this.where(A.name).equals(c[A.keyPath]).filter(L):y?this.filter(L):this.where(f).equals("")},jt.prototype.filter=function(c){return this.toCollection().and(c)},jt.prototype.count=function(c){return this.toCollection().count(c)},jt.prototype.offset=function(c){return this.toCollection().offset(c)},jt.prototype.limit=function(c){return this.toCollection().limit(c)},jt.prototype.each=function(c){return this.toCollection().each(c)},jt.prototype.toArray=function(c){return this.toCollection().toArray(c)},jt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},jt.prototype.orderBy=function(c){return new this.db.Collection(new this.db.WhereClause(this,u(c)?"[".concat(c.join("+"),"]"):c))},jt.prototype.reverse=function(){return this.toCollection().reverse()},jt.prototype.mapToClass=function(c){var f,y=this.db,b=this.name;function P(){return f!==null&&f.apply(this,arguments)||this}(this.schema.mappedClass=c).prototype instanceof zt&&(function(H,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function Y(){this.constructor=H}n(H,q),H.prototype=q===null?Object.create(q):(Y.prototype=q.prototype,new Y)}(P,f=c),Object.defineProperty(P.prototype,"db",{get:function(){return y},enumerable:!1,configurable:!0}),P.prototype.table=function(){return b},c=P);for(var A=new Set,L=c.prototype;L;L=m(L))Object.getOwnPropertyNames(L).forEach(function(H){return A.add(H)});function z(H){if(!H)return H;var q,Y=Object.create(c.prototype);for(q in H)if(!A.has(q))try{Y[q]=H[q]}catch{}return Y}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=z,this.hook("reading",z),c},jt.prototype.defineClass=function(){return this.mapToClass(function(c){d(this,c)})},jt.prototype.add=function(c,f){var y=this,b=this.schema.primKey,P=b.auto,A=b.keyPath,L=c;return A&&P&&(L=Kr(A)(c)),this._trans("readwrite",function(z){return y.core.mutate({trans:z,type:"add",keys:f!=null?[f]:null,values:[L]})}).then(function(z){return z.numFailures?je.reject(z.failures[0]):z.lastResult}).then(function(z){if(A)try{V(c,A,z)}catch{}return z})},jt.prototype.update=function(c,f){return typeof c!="object"||u(c)?this.where(":id").equals(c).modify(f):(c=M(c,this.schema.primKey.keyPath),c===void 0?Jt(new pe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(c).modify(f))},jt.prototype.put=function(c,f){var y=this,b=this.schema.primKey,P=b.auto,A=b.keyPath,L=c;return A&&P&&(L=Kr(A)(c)),this._trans("readwrite",function(z){return y.core.mutate({trans:z,type:"put",values:[L],keys:f!=null?[f]:null})}).then(function(z){return z.numFailures?je.reject(z.failures[0]):z.lastResult}).then(function(z){if(A)try{V(c,A,z)}catch{}return z})},jt.prototype.delete=function(c){var f=this;return this._trans("readwrite",function(y){return f.core.mutate({trans:y,type:"delete",keys:[c]}).then(function(b){return Cn(f,[c],b)}).then(function(b){return b.numFailures?je.reject(b.failures[0]):void 0})})},jt.prototype.clear=function(){var c=this;return this._trans("readwrite",function(f){return c.core.mutate({trans:f,type:"deleteRange",range:js}).then(function(y){return Cn(c,null,y)})}).then(function(f){return f.numFailures?je.reject(f.failures[0]):void 0})},jt.prototype.bulkGet=function(c){var f=this;return this._trans("readonly",function(y){return f.core.getMany({keys:c,trans:y}).then(function(b){return b.map(function(P){return f.hook.reading.fire(P)})})})},jt.prototype.bulkAdd=function(c,f,y){var b=this,P=Array.isArray(f)?f:void 0,A=(y=y||(P?void 0:f))?y.allKeys:void 0;return this._trans("readwrite",function(L){var q=b.schema.primKey,z=q.auto,q=q.keyPath;if(q&&P)throw new pe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(P&&P.length!==c.length)throw new pe.InvalidArgument("Arguments objects and keys must have the same length");var H=c.length,q=q&&z?c.map(Kr(q)):c;return b.core.mutate({trans:L,type:"add",keys:P,values:q,wantResults:A}).then(function($){var B=$.numFailures,Z=$.results,G=$.lastResult,$=$.failures;if(B===0)return A?Z:G;throw new pt("".concat(b.name,".bulkAdd(): ").concat(B," of ").concat(H," operations failed"),$)})})},jt.prototype.bulkPut=function(c,f,y){var b=this,P=Array.isArray(f)?f:void 0,A=(y=y||(P?void 0:f))?y.allKeys:void 0;return this._trans("readwrite",function(L){var q=b.schema.primKey,z=q.auto,q=q.keyPath;if(q&&P)throw new pe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(P&&P.length!==c.length)throw new pe.InvalidArgument("Arguments objects and keys must have the same length");var H=c.length,q=q&&z?c.map(Kr(q)):c;return b.core.mutate({trans:L,type:"put",keys:P,values:q,wantResults:A}).then(function($){var B=$.numFailures,Z=$.results,G=$.lastResult,$=$.failures;if(B===0)return A?Z:G;throw new pt("".concat(b.name,".bulkPut(): ").concat(B," of ").concat(H," operations failed"),$)})})},jt.prototype.bulkUpdate=function(c){var f=this,y=this.core,b=c.map(function(L){return L.key}),P=c.map(function(L){return L.changes}),A=[];return this._trans("readwrite",function(L){return y.getMany({trans:L,keys:b,cache:"clone"}).then(function(z){var H=[],q=[];c.forEach(function(B,Z){var G=B.key,$=B.changes,Q=z[Z];if(Q){for(var X=0,ee=Object.keys($);X<ee.length;X++){var ie=ee[X],ce=$[ie];if(ie===f.schema.primKey.keyPath){if(Ve(ce,G)!==0)throw new pe.Constraint("Cannot update primary key in bulkUpdate()")}else V(Q,ie,ce)}A.push(Z),H.push(G),q.push(Q)}});var Y=H.length;return y.mutate({trans:L,type:"put",keys:H,values:q,updates:{keys:b,changeSpecs:P}}).then(function(B){var Z=B.numFailures,G=B.failures;if(Z===0)return Y;for(var $=0,Q=Object.keys(G);$<Q.length;$++){var X,ee=Q[$],ie=A[Number(ee)];ie!=null&&(X=G[ee],delete G[ee],G[ie]=X)}throw new pt("".concat(f.name,".bulkUpdate(): ").concat(Z," of ").concat(Y," operations failed"),G)})})})},jt.prototype.bulkDelete=function(c){var f=this,y=c.length;return this._trans("readwrite",function(b){return f.core.mutate({trans:b,type:"delete",keys:c}).then(function(P){return Cn(f,c,P)})}).then(function(L){var P=L.numFailures,A=L.lastResult,L=L.failures;if(P===0)return A;throw new pt("".concat(f.name,".bulkDelete(): ").concat(P," of ").concat(y," operations failed"),L)})},jt);function jt(){}function wn(c){function f(L,z){if(z){for(var H=arguments.length,q=new Array(H-1);--H;)q[H-1]=arguments[H];return y[L].subscribe.apply(null,q),c}if(typeof L=="string")return y[L]}var y={};f.addEventType=A;for(var b=1,P=arguments.length;b<P;++b)A(arguments[b]);return f;function A(L,z,H){if(typeof L!="object"){var q;z=z||dc;var Y={subscribers:[],fire:H=H||He,subscribe:function(B){Y.subscribers.indexOf(B)===-1&&(Y.subscribers.push(B),Y.fire=z(Y.fire,B))},unsubscribe:function(B){Y.subscribers=Y.subscribers.filter(function(Z){return Z!==B}),Y.fire=Y.subscribers.reduce(z,H)}};return y[L]=f[L]=Y}l(q=L).forEach(function(B){var Z=q[B];if(u(Z))A(B,q[B][0],q[B][1]);else{if(Z!=="asap")throw new pe.InvalidArgument("Invalid event config");var G=A(B,Et,function(){for(var $=arguments.length,Q=new Array($);$--;)Q[$]=arguments[$];G.subscribers.forEach(function(X){D(function(){X.apply(null,Q)})})})}})}}function ns(c,f){return R(f).from({prototype:c}),f}function Rs(c,f){return!(c.filter||c.algorithm||c.or)&&(f?c.justLimit:!c.replayFilter)}function Fl(c,f){c.filter=Ni(c.filter,f)}function fa(c,f,y){var b=c.replayFilter;c.replayFilter=b?function(){return Ni(b(),f())}:f,c.justLimit=y&&!b}function To(c,f){if(c.isPrimKey)return f.primaryKey;var y=f.getIndexByKeyPath(c.index);if(!y)throw new pe.Schema("KeyPath "+c.index+" on object store "+f.name+" is not indexed");return y}function Tr(c,f,y){var b=To(c,f.schema);return f.openCursor({trans:y,values:!c.keysOnly,reverse:c.dir==="prev",unique:!!c.unique,query:{index:b,range:c.range}})}function zl(c,f,y,b){var P=c.replayFilter?Ni(c.filter,c.replayFilter()):c.filter;if(c.or){var A={},L=function(z,H,q){var Y,B;P&&!P(H,q,function(Z){return H.stop(Z)},function(Z){return H.fail(Z)})||((B=""+(Y=H.primaryKey))=="[object ArrayBuffer]"&&(B=""+new Uint8Array(Y)),C(A,B)||(A[B]=!0,f(z,H,q)))};return Promise.all([c.or._iterate(L,y),Wd(Tr(c,b,y),c.algorithm,L,!c.keysOnly&&c.valueMapper)])}return Wd(Tr(c,b,y),Ni(c.algorithm,P),f,!c.keysOnly&&c.valueMapper)}function Wd(c,f,y,b){var P=mt(b?function(A,L,z){return y(b(A),L,z)}:y);return c.then(function(A){if(A)return A.start(function(){var L=function(){return A.continue()};f&&!f(A,function(z){return L=z},function(z){A.stop(z),L=He},function(z){A.fail(z),L=He})||P(A.value,A,function(z){return L=z}),L()})})}var jo=(Ro.prototype.execute=function(c){var f=this["@@propmod"];if(f.add!==void 0){var y=f.add;if(u(y))return i(i([],u(c)?c:[],!0),y,!0).sort();if(typeof y=="number")return(Number(c)||0)+y;if(typeof y=="bigint")try{return BigInt(c)+y}catch{return BigInt(0)+y}throw new TypeError("Invalid term ".concat(y))}if(f.remove!==void 0){var b=f.remove;if(u(b))return u(c)?c.filter(function(P){return!b.includes(P)}).sort():[];if(typeof b=="number")return Number(c)-b;if(typeof b=="bigint")try{return BigInt(c)-b}catch{return BigInt(0)-b}throw new TypeError("Invalid subtrahend ".concat(b))}return y=(y=f.replacePrefix)===null||y===void 0?void 0:y[0],y&&typeof c=="string"&&c.startsWith(y)?f.replacePrefix[1]+c.substring(y.length):c},Ro);function Ro(c){this["@@propmod"]=c}var Bl=(gt.prototype._read=function(c,f){var y=this._ctx;return y.error?y.table._trans(null,Jt.bind(null,y.error)):y.table._trans("readonly",c).then(f)},gt.prototype._write=function(c){var f=this._ctx;return f.error?f.table._trans(null,Jt.bind(null,f.error)):f.table._trans("readwrite",c,"locked")},gt.prototype._addAlgorithm=function(c){var f=this._ctx;f.algorithm=Ni(f.algorithm,c)},gt.prototype._iterate=function(c,f){return zl(this._ctx,c,f,this._ctx.table.core)},gt.prototype.clone=function(c){var f=Object.create(this.constructor.prototype),y=Object.create(this._ctx);return c&&d(y,c),f._ctx=y,f},gt.prototype.raw=function(){return this._ctx.valueMapper=null,this},gt.prototype.each=function(c){var f=this._ctx;return this._read(function(y){return zl(f,c,y,f.table.core)})},gt.prototype.count=function(c){var f=this;return this._read(function(y){var b=f._ctx,P=b.table.core;if(Rs(b,!0))return P.count({trans:y,query:{index:To(b,P.schema),range:b.range}}).then(function(L){return Math.min(L,b.limit)});var A=0;return zl(b,function(){return++A,!1},y,P).then(function(){return A})}).then(c)},gt.prototype.sortBy=function(c,f){var y=c.split(".").reverse(),b=y[0],P=y.length-1;function A(H,q){return q?A(H[y[q]],q-1):H[b]}var L=this._ctx.dir==="next"?1:-1;function z(H,q){return Ve(A(H,P),A(q,P))*L}return this.toArray(function(H){return H.sort(z)}).then(f)},gt.prototype.toArray=function(c){var f=this;return this._read(function(y){var b=f._ctx;if(b.dir==="next"&&Rs(b,!0)&&0<b.limit){var P=b.valueMapper,A=To(b,b.table.core.schema);return b.table.core.query({trans:y,limit:b.limit,values:!0,query:{index:A,range:b.range}}).then(function(z){return z=z.result,P?z.map(P):z})}var L=[];return zl(b,function(z){return L.push(z)},y,b.table.core).then(function(){return L})},c)},gt.prototype.offset=function(c){var f=this._ctx;return c<=0||(f.offset+=c,Rs(f)?fa(f,function(){var y=c;return function(b,P){return y===0||(y===1?--y:P(function(){b.advance(y),y=0}),!1)}}):fa(f,function(){var y=c;return function(){return--y<0}})),this},gt.prototype.limit=function(c){return this._ctx.limit=Math.min(this._ctx.limit,c),fa(this._ctx,function(){var f=c;return function(y,b,P){return--f<=0&&b(P),0<=f}},!0),this},gt.prototype.until=function(c,f){return Fl(this._ctx,function(y,b,P){return!c(y.value)||(b(P),f)}),this},gt.prototype.first=function(c){return this.limit(1).toArray(function(f){return f[0]}).then(c)},gt.prototype.last=function(c){return this.reverse().first(c)},gt.prototype.filter=function(c){var f;return Fl(this._ctx,function(y){return c(y.value)}),(f=this._ctx).isMatch=Ni(f.isMatch,c),this},gt.prototype.and=function(c){return this.filter(c)},gt.prototype.or=function(c){return new this.db.WhereClause(this._ctx.table,c,this)},gt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},gt.prototype.desc=function(){return this.reverse()},gt.prototype.eachKey=function(c){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(y,b){c(b.key,b)})},gt.prototype.eachUniqueKey=function(c){return this._ctx.unique="unique",this.eachKey(c)},gt.prototype.eachPrimaryKey=function(c){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(y,b){c(b.primaryKey,b)})},gt.prototype.keys=function(c){var f=this._ctx;f.keysOnly=!f.isMatch;var y=[];return this.each(function(b,P){y.push(P.key)}).then(function(){return y}).then(c)},gt.prototype.primaryKeys=function(c){var f=this._ctx;if(f.dir==="next"&&Rs(f,!0)&&0<f.limit)return this._read(function(b){var P=To(f,f.table.core.schema);return f.table.core.query({trans:b,values:!1,limit:f.limit,query:{index:P,range:f.range}})}).then(function(b){return b.result}).then(c);f.keysOnly=!f.isMatch;var y=[];return this.each(function(b,P){y.push(P.primaryKey)}).then(function(){return y}).then(c)},gt.prototype.uniqueKeys=function(c){return this._ctx.unique="unique",this.keys(c)},gt.prototype.firstKey=function(c){return this.limit(1).keys(function(f){return f[0]}).then(c)},gt.prototype.lastKey=function(c){return this.reverse().firstKey(c)},gt.prototype.distinct=function(){var c=this._ctx,c=c.index&&c.table.schema.idxByName[c.index];if(!c||!c.multi)return this;var f={};return Fl(this._ctx,function(P){var b=P.primaryKey.toString(),P=C(f,b);return f[b]=!0,!P}),this},gt.prototype.modify=function(c){var f=this,y=this._ctx;return this._write(function(b){var P,A,L;L=typeof c=="function"?c:(P=l(c),A=P.length,function(ee){for(var ie=!1,ce=0;ce<A;++ce){var se=P[ce],xe=c[se],Pe=M(ee,se);xe instanceof jo?(V(ee,se,xe.execute(Pe)),ie=!0):Pe!==xe&&(V(ee,se,xe),ie=!0)}return ie});var z=y.table.core,B=z.schema.primaryKey,H=B.outbound,q=B.extractKey,Y=200,B=f.db._options.modifyChunkSize;B&&(Y=typeof B=="object"?B[z.name]||B["*"]||200:B);function Z(ee,se){var ce=se.failures,se=se.numFailures;$+=ee-se;for(var xe=0,Pe=l(ce);xe<Pe.length;xe++){var _e=Pe[xe];G.push(ce[_e])}}var G=[],$=0,Q=[],X=c===Oo;return f.clone().primaryKeys().then(function(ee){function ie(se){var xe=Math.min(Y,ee.length-se),Pe=ee.slice(se,se+xe);return(X?Promise.resolve([]):z.getMany({trans:b,keys:Pe,cache:"immutable"})).then(function(_e){var we=[],Ne=[],Te=H?[]:null,Re=X?Pe:[];if(!X)for(var nt=0;nt<xe;++nt){var _t=_e[nt],tt={value:ge(_t),primKey:ee[se+nt]};L.call(tt,tt.value,tt)!==!1&&(tt.value==null?Re.push(ee[se+nt]):H||Ve(q(_t),q(tt.value))===0?(Ne.push(tt.value),H&&Te.push(ee[se+nt])):(Re.push(ee[se+nt]),we.push(tt.value)))}return Promise.resolve(0<we.length&&z.mutate({trans:b,type:"add",values:we}).then(function(Ht){for(var Je in Ht.failures)Re.splice(parseInt(Je),1);Z(we.length,Ht)})).then(function(){return(0<Ne.length||ce&&typeof c=="object")&&z.mutate({trans:b,type:"put",keys:Te,values:Ne,criteria:ce,changeSpec:typeof c!="function"&&c,isAdditionalChunk:0<se}).then(function(Ht){return Z(Ne.length,Ht)})}).then(function(){return(0<Re.length||ce&&X)&&z.mutate({trans:b,type:"delete",keys:Re,criteria:ce,isAdditionalChunk:0<se}).then(function(Ht){return Cn(y.table,Re,Ht)}).then(function(Ht){return Z(Re.length,Ht)})}).then(function(){return ee.length>se+xe&&ie(se+Y)})})}var ce=Rs(y)&&y.limit===1/0&&(typeof c!="function"||X)&&{index:y.index,range:y.range};return ie(0).then(function(){if(0<G.length)throw new ct("Error modifying one or more objects",G,$,Q);return ee.length})})})},gt.prototype.delete=function(){var c=this._ctx,f=c.range;return!Rs(c)||c.table.schema.yProps||!c.isPrimKey&&f.type!==3?this.modify(Oo):this._write(function(y){var b=c.table.core.schema.primaryKey,P=f;return c.table.core.count({trans:y,query:{index:b,range:P}}).then(function(A){return c.table.core.mutate({trans:y,type:"deleteRange",range:P}).then(function(H){var z=H.failures,H=H.numFailures;if(H)throw new ct("Could not delete some values",Object.keys(z).map(function(q){return z[q]}),A-H);return A-H})})})},gt);function gt(){}var Oo=function(c,f){return f.value=null};function vp(c,f){return c<f?-1:c===f?0:1}function xp(c,f){return f<c?-1:c===f?0:1}function Vn(c,f,y){return c=c instanceof Ul?new c.Collection(c):c,c._ctx.error=new(y||TypeError)(f),c}function Os(c){return new c.Collection(c,function(){return Hd("")}).limit(0)}function pa(c,f,y,b){var P,A,L,z,H,q,Y,B=y.length;if(!y.every(function($){return typeof $=="string"}))return Vn(c,Ll);function Z($){P=$==="next"?function(X){return X.toUpperCase()}:function(X){return X.toLowerCase()},A=$==="next"?function(X){return X.toLowerCase()}:function(X){return X.toUpperCase()},L=$==="next"?vp:xp;var Q=y.map(function(X){return{lower:A(X),upper:P(X)}}).sort(function(X,ee){return L(X.lower,ee.lower)});z=Q.map(function(X){return X.upper}),H=Q.map(function(X){return X.lower}),Y=(q=$)==="next"?"":b}Z("next"),c=new c.Collection(c,function(){return jr(z[0],H[B-1]+b)}),c._ondirectionchange=function($){Z($)};var G=0;return c._addAlgorithm(function($,Q,X){var ee=$.key;if(typeof ee!="string")return!1;var ie=A(ee);if(f(ie,H,G))return!0;for(var ce=null,se=G;se<B;++se){var xe=function(Pe,_e,we,Ne,Te,Re){for(var nt=Math.min(Pe.length,Ne.length),_t=-1,tt=0;tt<nt;++tt){var Ht=_e[tt];if(Ht!==Ne[tt])return Te(Pe[tt],we[tt])<0?Pe.substr(0,tt)+we[tt]+we.substr(tt+1):Te(Pe[tt],Ne[tt])<0?Pe.substr(0,tt)+Ne[tt]+we.substr(tt+1):0<=_t?Pe.substr(0,_t)+_e[_t]+we.substr(_t+1):null;Te(Pe[tt],Ht)<0&&(_t=tt)}return nt<Ne.length&&Re==="next"?Pe+we.substr(Pe.length):nt<Pe.length&&Re==="prev"?Pe.substr(0,we.length):_t<0?null:Pe.substr(0,_t)+Ne[_t]+we.substr(_t+1)}(ee,ie,z[se],H[se],L,q);xe===null&&ce===null?G=se+1:(ce===null||0<L(ce,xe))&&(ce=xe)}return Q(ce!==null?function(){$.continue(ce+Y)}:X),!1}),c}function jr(c,f,y,b){return{type:2,lower:c,upper:f,lowerOpen:y,upperOpen:b}}function Hd(c){return{type:1,lower:c,upper:c}}var Ul=(Object.defineProperty(Qe.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Qe.prototype.between=function(c,f,y,b){y=y!==!1,b=b===!0;try{return 0<this._cmp(c,f)||this._cmp(c,f)===0&&(y||b)&&(!y||!b)?Os(this):new this.Collection(this,function(){return jr(c,f,!y,!b)})}catch{return Vn(this,Ei)}},Qe.prototype.equals=function(c){return c==null?Vn(this,Ei):new this.Collection(this,function(){return Hd(c)})},Qe.prototype.above=function(c){return c==null?Vn(this,Ei):new this.Collection(this,function(){return jr(c,void 0,!0)})},Qe.prototype.aboveOrEqual=function(c){return c==null?Vn(this,Ei):new this.Collection(this,function(){return jr(c,void 0,!1)})},Qe.prototype.below=function(c){return c==null?Vn(this,Ei):new this.Collection(this,function(){return jr(void 0,c,!1,!0)})},Qe.prototype.belowOrEqual=function(c){return c==null?Vn(this,Ei):new this.Collection(this,function(){return jr(void 0,c)})},Qe.prototype.startsWith=function(c){return typeof c!="string"?Vn(this,Ll):this.between(c,c+Ts,!0,!0)},Qe.prototype.startsWithIgnoreCase=function(c){return c===""?this.startsWith(c):pa(this,function(f,y){return f.indexOf(y[0])===0},[c],Ts)},Qe.prototype.equalsIgnoreCase=function(c){return pa(this,function(f,y){return f===y[0]},[c],"")},Qe.prototype.anyOfIgnoreCase=function(){var c=me.apply(fe,arguments);return c.length===0?Os(this):pa(this,function(f,y){return y.indexOf(f)!==-1},c,"")},Qe.prototype.startsWithAnyOfIgnoreCase=function(){var c=me.apply(fe,arguments);return c.length===0?Os(this):pa(this,function(f,y){return y.some(function(b){return f.indexOf(b)===0})},c,Ts)},Qe.prototype.anyOf=function(){var c=this,f=me.apply(fe,arguments),y=this._cmp;try{f.sort(y)}catch{return Vn(this,Ei)}if(f.length===0)return Os(this);var b=new this.Collection(this,function(){return jr(f[0],f[f.length-1])});b._ondirectionchange=function(A){y=A==="next"?c._ascending:c._descending,f.sort(y)};var P=0;return b._addAlgorithm(function(A,L,z){for(var H=A.key;0<y(H,f[P]);)if(++P===f.length)return L(z),!1;return y(H,f[P])===0||(L(function(){A.continue(f[P])}),!1)}),b},Qe.prototype.notEqual=function(c){return this.inAnyRange([[-1/0,c],[c,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Qe.prototype.noneOf=function(){var c=me.apply(fe,arguments);if(c.length===0)return new this.Collection(this);try{c.sort(this._ascending)}catch{return Vn(this,Ei)}var f=c.reduce(function(y,b){return y?y.concat([[y[y.length-1][1],b]]):[[-1/0,b]]},null);return f.push([c[c.length-1],this.db._maxKey]),this.inAnyRange(f,{includeLowers:!1,includeUppers:!1})},Qe.prototype.inAnyRange=function(ee,f){var y=this,b=this._cmp,P=this._ascending,A=this._descending,L=this._min,z=this._max;if(ee.length===0)return Os(this);if(!ee.every(function(ie){return ie[0]!==void 0&&ie[1]!==void 0&&P(ie[0],ie[1])<=0}))return Vn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",pe.InvalidArgument);var H=!f||f.includeLowers!==!1,q=f&&f.includeUppers===!0,Y,B=P;function Z(ie,ce){return B(ie[0],ce[0])}try{(Y=ee.reduce(function(ie,ce){for(var se=0,xe=ie.length;se<xe;++se){var Pe=ie[se];if(b(ce[0],Pe[1])<0&&0<b(ce[1],Pe[0])){Pe[0]=L(Pe[0],ce[0]),Pe[1]=z(Pe[1],ce[1]);break}}return se===xe&&ie.push(ce),ie},[])).sort(Z)}catch{return Vn(this,Ei)}var G=0,$=q?function(ie){return 0<P(ie,Y[G][1])}:function(ie){return 0<=P(ie,Y[G][1])},Q=H?function(ie){return 0<A(ie,Y[G][0])}:function(ie){return 0<=A(ie,Y[G][0])},X=$,ee=new this.Collection(this,function(){return jr(Y[0][0],Y[Y.length-1][1],!H,!q)});return ee._ondirectionchange=function(ie){B=ie==="next"?(X=$,P):(X=Q,A),Y.sort(Z)},ee._addAlgorithm(function(ie,ce,se){for(var xe,Pe=ie.key;X(Pe);)if(++G===Y.length)return ce(se),!1;return!$(xe=Pe)&&!Q(xe)||(y._cmp(Pe,Y[G][1])===0||y._cmp(Pe,Y[G][0])===0||ce(function(){B===P?ie.continue(Y[G][0]):ie.continue(Y[G][1])}),!1)}),ee},Qe.prototype.startsWithAnyOf=function(){var c=me.apply(fe,arguments);return c.every(function(f){return typeof f=="string"})?c.length===0?Os(this):this.inAnyRange(c.map(function(f){return[f,f+Ts]})):Vn(this,"startsWithAnyOf() only works with strings")},Qe);function Qe(){}function $r(c){return mt(function(f){return As(f),c(f.target.error),!1})}function As(c){c.stopPropagation&&c.stopPropagation(),c.preventDefault&&c.preventDefault()}var ma="storagemutated",mc="x-storagemutated-1",rs=wn(null,ma),_n=(Rr.prototype._lock=function(){return N(!Ie.global),++this._reculock,this._reculock!==1||Ie.global||(Ie.lockOwnerFor=this),this},Rr.prototype._unlock=function(){if(N(!Ie.global),--this._reculock==0)for(Ie.global||(Ie.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var c=this._blockedFuncs.shift();try{Ps(c[1],c[0])}catch{}}return this},Rr.prototype._locked=function(){return this._reculock&&Ie.lockOwnerFor!==this},Rr.prototype.create=function(c){var f=this;if(!this.mode)return this;var y=this.db.idbdb,b=this.db._state.dbOpenError;if(N(!this.idbtrans),!c&&!y)switch(b&&b.name){case"DatabaseClosedError":throw new pe.DatabaseClosed(b);case"MissingAPIError":throw new pe.MissingAPI(b.message,b);default:throw new pe.OpenFailed(b)}if(!this.active)throw new pe.TransactionInactive;return N(this._completion._state===null),(c=this.idbtrans=c||(this.db.core||y).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=mt(function(P){As(P),f._reject(c.error)}),c.onabort=mt(function(P){As(P),f.active&&f._reject(new pe.Abort(c.error)),f.active=!1,f.on("abort").fire(P)}),c.oncomplete=mt(function(){f.active=!1,f._resolve(),"mutatedParts"in c&&rs.storagemutated.fire(c.mutatedParts)}),this},Rr.prototype._promise=function(c,f,y){var b=this;if(c==="readwrite"&&this.mode!=="readwrite")return Jt(new pe.ReadOnly("Transaction is readonly"));if(!this.active)return Jt(new pe.TransactionInactive);if(this._locked())return new je(function(A,L){b._blockedFuncs.push([function(){b._promise(c,f,y).then(A,L)},Ie])});if(y)return Zi(function(){var A=new je(function(L,z){b._lock();var H=f(L,z,b);H&&H.then&&H.then(L,z)});return A.finally(function(){return b._unlock()}),A._lib=!0,A});var P=new je(function(A,L){var z=f(A,L,b);z&&z.then&&z.then(A,L)});return P._lib=!0,P},Rr.prototype._root=function(){return this.parent?this.parent._root():this},Rr.prototype.waitFor=function(c){var f,y=this._root(),b=je.resolve(c);y._waitingFor?y._waitingFor=y._waitingFor.then(function(){return b}):(y._waitingFor=b,y._waitingQueue=[],f=y.idbtrans.objectStore(y.storeNames[0]),function A(){for(++y._spinCount;y._waitingQueue.length;)y._waitingQueue.shift()();y._waitingFor&&(f.get(-1/0).onsuccess=A)}());var P=y._waitingFor;return new je(function(A,L){b.then(function(z){return y._waitingQueue.push(mt(A.bind(null,z)))},function(z){return y._waitingQueue.push(mt(L.bind(null,z)))}).finally(function(){y._waitingFor===P&&(y._waitingFor=null)})})},Rr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new pe.Abort))},Rr.prototype.table=function(c){var f=this._memoizedTables||(this._memoizedTables={});if(C(f,c))return f[c];var y=this.schema[c];if(!y)throw new pe.NotFound("Table "+c+" not part of transaction");return y=new this.db.Table(c,y,this),y.core=this.db.core.table(c),f[c]=y},Rr);function Rr(){}function gc(c,f,y,b,P,A,L,z){return{name:c,keyPath:f,unique:y,multi:b,auto:P,compound:A,src:(y&&!L?"&":"")+(b?"*":"")+(P?"++":"")+Gl(f),type:z}}function Gl(c){return typeof c=="string"?c:c?"["+[].join.call(c,"+")+"]":""}function yc(c,f,y){return{name:c,primKey:f,indexes:y,mappedClass:null,idxByName:(b=function(P){return[P.name,P]},y.reduce(function(P,A,L){return L=b(A,L),L&&(P[L[0]]=L[1]),P},{}))};var b}var is=function(c){try{return c.only([[]]),is=function(){return[[]]},[[]]}catch{return is=function(){return Ts},Ts}};function Or(c){return c==null?function(){}:typeof c=="string"?(f=c).split(".").length===1?function(y){return y[f]}:function(y){return M(y,f)}:function(y){return M(y,c)};var f}function Kd(c){return[].slice.call(c)}var wp=0;function Wn(c){return c==null?":id":typeof c=="string"?c:"[".concat(c.join("+"),"]")}function Ti(c,f,H){function b(X){if(X.type===3)return null;if(X.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var G=X.lower,$=X.upper,Q=X.lowerOpen,X=X.upperOpen;return G===void 0?$===void 0?null:f.upperBound($,!!X):$===void 0?f.lowerBound(G,!!Q):f.bound(G,$,!!Q,!!X)}function P(Z){var G,$=Z.name;return{name:$,schema:Z,mutate:function(Q){var X=Q.trans,ee=Q.type,ie=Q.keys,ce=Q.values,se=Q.range;return new Promise(function(xe,Pe){xe=mt(xe);var _e=X.objectStore($),we=_e.keyPath==null,Ne=ee==="put"||ee==="add";if(!Ne&&ee!=="delete"&&ee!=="deleteRange")throw new Error("Invalid operation type: "+ee);var Te,Re=(ie||ce||{length:1}).length;if(ie&&ce&&ie.length!==ce.length)throw new Error("Given keys array must have same length as given values array.");if(Re===0)return xe({numFailures:0,failures:{},results:[],lastResult:void 0});function nt(Ln){++Ht,As(Ln)}var _t=[],tt=[],Ht=0;if(ee==="deleteRange"){if(se.type===4)return xe({numFailures:Ht,failures:tt,results:[],lastResult:void 0});se.type===3?_t.push(Te=_e.clear()):_t.push(Te=_e.delete(b(se)))}else{var we=Ne?we?[ce,ie]:[ce,null]:[ie,null],Je=we[0],En=we[1];if(Ne)for(var Nn=0;Nn<Re;++Nn)_t.push(Te=En&&En[Nn]!==void 0?_e[ee](Je[Nn],En[Nn]):_e[ee](Je[Nn])),Te.onerror=nt;else for(Nn=0;Nn<Re;++Nn)_t.push(Te=_e[ee](Je[Nn])),Te.onerror=nt}function Wo(Ln){Ln=Ln.target.result,_t.forEach(function(qr,Jl){return qr.error!=null&&(tt[Jl]=qr.error)}),xe({numFailures:Ht,failures:tt,results:ee==="delete"?ie:_t.map(function(qr){return qr.result}),lastResult:Ln})}Te.onerror=function(Ln){nt(Ln),Wo(Ln)},Te.onsuccess=Wo})},getMany:function(Q){var X=Q.trans,ee=Q.keys;return new Promise(function(ie,ce){ie=mt(ie);for(var se,xe=X.objectStore($),Pe=ee.length,_e=new Array(Pe),we=0,Ne=0,Te=function(_t){_t=_t.target,_e[_t._pos]=_t.result,++Ne===we&&ie(_e)},Re=$r(ce),nt=0;nt<Pe;++nt)ee[nt]!=null&&((se=xe.get(ee[nt]))._pos=nt,se.onsuccess=Te,se.onerror=Re,++we);we===0&&ie(_e)})},get:function(Q){var X=Q.trans,ee=Q.key;return new Promise(function(ie,ce){ie=mt(ie);var se=X.objectStore($).get(ee);se.onsuccess=function(xe){return ie(xe.target.result)},se.onerror=$r(ce)})},query:(G=q,function(Q){return new Promise(function(X,ee){X=mt(X);var ie,ce,se,we=Q.trans,xe=Q.values,Pe=Q.limit,Te=Q.query,_e=Pe===1/0?void 0:Pe,Ne=Te.index,Te=Te.range,we=we.objectStore($),Ne=Ne.isPrimaryKey?we:we.index(Ne.name),Te=b(Te);if(Pe===0)return X({result:[]});G?((_e=xe?Ne.getAll(Te,_e):Ne.getAllKeys(Te,_e)).onsuccess=function(Re){return X({result:Re.target.result})},_e.onerror=$r(ee)):(ie=0,ce=!xe&&"openKeyCursor"in Ne?Ne.openKeyCursor(Te):Ne.openCursor(Te),se=[],ce.onsuccess=function(Re){var nt=ce.result;return nt?(se.push(xe?nt.value:nt.primaryKey),++ie===Pe?X({result:se}):void nt.continue()):X({result:se})},ce.onerror=$r(ee))})}),openCursor:function(Q){var X=Q.trans,ee=Q.values,ie=Q.query,ce=Q.reverse,se=Q.unique;return new Promise(function(xe,Pe){xe=mt(xe);var Ne=ie.index,_e=ie.range,we=X.objectStore($),we=Ne.isPrimaryKey?we:we.index(Ne.name),Ne=ce?se?"prevunique":"prev":se?"nextunique":"next",Te=!ee&&"openKeyCursor"in we?we.openKeyCursor(b(_e),Ne):we.openCursor(b(_e),Ne);Te.onerror=$r(Pe),Te.onsuccess=mt(function(Re){var nt,_t,tt,Ht,Je=Te.result;Je?(Je.___id=++wp,Je.done=!1,nt=Je.continue.bind(Je),_t=(_t=Je.continuePrimaryKey)&&_t.bind(Je),tt=Je.advance.bind(Je),Ht=function(){throw new Error("Cursor not stopped")},Je.trans=X,Je.stop=Je.continue=Je.continuePrimaryKey=Je.advance=function(){throw new Error("Cursor not started")},Je.fail=mt(Pe),Je.next=function(){var En=this,Nn=1;return this.start(function(){return Nn--?En.continue():En.stop()}).then(function(){return En})},Je.start=function(En){function Nn(){if(Te.result)try{En()}catch(Ln){Je.fail(Ln)}else Je.done=!0,Je.start=function(){throw new Error("Cursor behind last entry")},Je.stop()}var Wo=new Promise(function(Ln,qr){Ln=mt(Ln),Te.onerror=$r(qr),Je.fail=qr,Je.stop=function(Jl){Je.stop=Je.continue=Je.continuePrimaryKey=Je.advance=Ht,Ln(Jl)}});return Te.onsuccess=mt(function(Ln){Te.onsuccess=Nn,Nn()}),Je.continue=nt,Je.continuePrimaryKey=_t,Je.advance=tt,Nn(),Wo},xe(Je)):xe(null)},Pe)})},count:function(Q){var X=Q.query,ee=Q.trans,ie=X.index,ce=X.range;return new Promise(function(se,xe){var Pe=ee.objectStore($),_e=ie.isPrimaryKey?Pe:Pe.index(ie.name),Pe=b(ce),_e=Pe?_e.count(Pe):_e.count();_e.onsuccess=mt(function(we){return se(we.target.result)}),_e.onerror=$r(xe)})}}}var A,L,z,Y=(L=H,z=Kd((A=c).objectStoreNames),{schema:{name:A.name,tables:z.map(function(Z){return L.objectStore(Z)}).map(function(Z){var G=Z.keyPath,X=Z.autoIncrement,$=u(G),Q={},X={name:Z.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:G==null,compound:$,keyPath:G,autoIncrement:X,unique:!0,extractKey:Or(G)},indexes:Kd(Z.indexNames).map(function(ee){return Z.index(ee)}).map(function(se){var ie=se.name,ce=se.unique,xe=se.multiEntry,se=se.keyPath,xe={name:ie,compound:u(se),keyPath:se,unique:ce,multiEntry:xe,extractKey:Or(se)};return Q[Wn(se)]=xe}),getIndexByKeyPath:function(ee){return Q[Wn(ee)]}};return Q[":id"]=X.primaryKey,G!=null&&(Q[Wn(G)]=X.primaryKey),X})},hasGetAll:0<z.length&&"getAll"in L.objectStore(z[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),H=Y.schema,q=Y.hasGetAll,Y=H.tables.map(P),B={};return Y.forEach(function(Z){return B[Z.name]=Z}),{stack:"dbcore",transaction:c.transaction.bind(c),table:function(Z){if(!B[Z])throw new Error("Table '".concat(Z,"' not found"));return B[Z]},MIN_KEY:-1/0,MAX_KEY:is(f),schema:H}}function Vl(c,f,y,b){var P=y.IDBKeyRange;return y.indexedDB,{dbcore:(b=Ti(f,P,b),c.dbcore.reduce(function(A,L){return L=L.create,r(r({},A),L(A))},b))}}function ga(c,b){var y=b.db,b=Vl(c._middlewares,y,c._deps,b);c.core=b.dbcore,c.tables.forEach(function(P){var A=P.name;c.core.schema.tables.some(function(L){return L.name===A})&&(P.core=c.core.table(A),c[A]instanceof c.Table&&(c[A].core=P.core))})}function Ao(c,f,y,b){y.forEach(function(P){var A=b[P];f.forEach(function(L){var z=function H(q,Y){return O(q,Y)||(q=m(q))&&H(q,Y)}(L,P);(!z||"value"in z&&z.value===void 0)&&(L===c.Transaction.prototype||L instanceof c.Transaction?k(L,P,{get:function(){return this.table(P)},set:function(H){_(this,P,{value:H,writable:!0,configurable:!0,enumerable:!0})}}):L[P]=new c.Table(P,A))})})}function vc(c,f){f.forEach(function(y){for(var b in y)y[b]instanceof c.Table&&delete y[b]})}function oi(c,f){return c._cfg.version-f._cfg.version}function ya(c,f,y,b){var P=c._dbSchema;y.objectStoreNames.contains("$meta")&&!P.$meta&&(P.$meta=yc("$meta",ui("")[0],[]),c._storeNames.push("$meta"));var A=c._createTransaction("readwrite",c._storeNames,P);A.create(y),A._completion.catch(b);var L=A._reject.bind(A),z=Ie.transless||Ie;Zi(function(){return Ie.trans=A,Ie.transless=z,f!==0?(ga(c,y),q=f,((H=A).storeNames.includes("$meta")?H.table("$meta").get("version").then(function(Y){return Y??q}):je.resolve(q)).then(function(Y){return Z=Y,G=A,$=y,Q=[],Y=(B=c)._versions,X=B._dbSchema=li(0,B.idbdb,$),(Y=Y.filter(function(ee){return ee._cfg.version>=Z})).length!==0?(Y.forEach(function(ee){Q.push(function(){var ie=X,ce=ee._cfg.dbschema;Ar(B,ie,$),Ar(B,ce,$),X=B._dbSchema=ce;var se=xa(ie,ce);se.add.forEach(function(Ne){wa($,Ne[0],Ne[1].primKey,Ne[1].indexes)}),se.change.forEach(function(Ne){if(Ne.recreate)throw new pe.Upgrade("Not yet support for changing primary key");var Te=$.objectStore(Ne.name);Ne.add.forEach(function(Re){return Hn(Te,Re)}),Ne.change.forEach(function(Re){Te.deleteIndex(Re.name),Hn(Te,Re)}),Ne.del.forEach(function(Re){return Te.deleteIndex(Re)})});var xe=ee._cfg.contentUpgrade;if(xe&&ee._cfg.version>Z){ga(B,$),G._memoizedTables={};var Pe=F(ce);se.del.forEach(function(Ne){Pe[Ne]=ie[Ne]}),vc(B,[B.Transaction.prototype]),Ao(B,[B.Transaction.prototype],l(Pe),Pe),G.schema=Pe;var _e,we=Le(xe);return we&&da(),se=je.follow(function(){var Ne;(_e=xe(G))&&we&&(Ne=Ji.bind(null,null),_e.then(Ne,Ne))}),_e&&typeof _e.then=="function"?je.resolve(_e):se.then(function(){return _e})}}),Q.push(function(ie){var ce,se,xe=ee._cfg.dbschema;ce=xe,se=ie,[].slice.call(se.db.objectStoreNames).forEach(function(Pe){return ce[Pe]==null&&se.db.deleteObjectStore(Pe)}),vc(B,[B.Transaction.prototype]),Ao(B,[B.Transaction.prototype],B._storeNames,B._dbSchema),G.schema=B._dbSchema}),Q.push(function(ie){B.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(B.idbdb.version/10)===ee._cfg.version?(B.idbdb.deleteObjectStore("$meta"),delete B._dbSchema.$meta,B._storeNames=B._storeNames.filter(function(ce){return ce!=="$meta"})):ie.objectStore("$meta").put(ee._cfg.version,"version"))})}),function ee(){return Q.length?je.resolve(Q.shift()(G.idbtrans)).then(ee):je.resolve()}().then(function(){fr(X,$)})):je.resolve();var B,Z,G,$,Q,X}).catch(L)):(l(P).forEach(function(Y){wa(y,Y,P[Y].primKey,P[Y].indexes)}),ga(c,y),void je.follow(function(){return c.on.populate.fire(A)}).catch(L));var H,q})}function va(c,f){fr(c._dbSchema,f),f.db.version%10!=0||f.objectStoreNames.contains("$meta")||f.db.createObjectStore("$meta").add(Math.ceil(f.db.version/10-1),"version");var y=li(0,c.idbdb,f);Ar(c,c._dbSchema,f);for(var b=0,P=xa(y,c._dbSchema).change;b<P.length;b++){var A=function(L){if(L.change.length||L.recreate)return console.warn("Unable to patch indexes of table ".concat(L.name," because it has changes on the type of index or primary key.")),{value:void 0};var z=f.objectStore(L.name);L.add.forEach(function(H){Dn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(L.name,".").concat(H.src)),Hn(z,H)})}(P[b]);if(typeof A=="object")return A.value}}function xa(c,f){var y,b={del:[],add:[],change:[]};for(y in c)f[y]||b.del.push(y);for(y in f){var P=c[y],A=f[y];if(P){var L={name:y,def:A,recreate:!1,del:[],add:[],change:[]};if(""+(P.primKey.keyPath||"")!=""+(A.primKey.keyPath||"")||P.primKey.auto!==A.primKey.auto)L.recreate=!0,b.change.push(L);else{var z=P.idxByName,H=A.idxByName,q=void 0;for(q in z)H[q]||L.del.push(q);for(q in H){var Y=z[q],B=H[q];Y?Y.src!==B.src&&L.change.push(B):L.add.push(B)}(0<L.del.length||0<L.add.length||0<L.change.length)&&b.change.push(L)}}else b.add.push([y,A])}return b}function wa(c,f,y,b){var P=c.db.createObjectStore(f,y.keyPath?{keyPath:y.keyPath,autoIncrement:y.auto}:{autoIncrement:y.auto});return b.forEach(function(A){return Hn(P,A)}),P}function fr(c,f){l(c).forEach(function(y){f.db.objectStoreNames.contains(y)||(Dn&&console.debug("Dexie: Creating missing table",y),wa(f,y,c[y].primKey,c[y].indexes))})}function Hn(c,f){c.createIndex(f.name,f.keyPath,{unique:f.unique,multiEntry:f.multi})}function li(c,f,y){var b={};return j(f.objectStoreNames,0).forEach(function(P){for(var A=y.objectStore(P),L=gc(Gl(q=A.keyPath),q||"",!0,!1,!!A.autoIncrement,q&&typeof q!="string",!0),z=[],H=0;H<A.indexNames.length;++H){var Y=A.index(A.indexNames[H]),q=Y.keyPath,Y=gc(Y.name,q,!!Y.unique,!!Y.multiEntry,!1,q&&typeof q!="string",!1);z.push(Y)}b[P]=yc(P,L,z)}),b}function Ar(c,f,y){for(var b=y.db.objectStoreNames,P=0;P<b.length;++P){var A=b[P],L=y.objectStore(A);c._hasGetAll="getAll"in L;for(var z=0;z<L.indexNames.length;++z){var H=L.indexNames[z],q=L.index(H).keyPath,Y=typeof q=="string"?q:"["+j(q).join("+")+"]";!f[A]||(q=f[A].idxByName[Y])&&(q.name=H,delete f[A].idxByName[Y],f[A].idxByName[H]=q)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(c._hasGetAll=!1)}function ui(c){return c.split(",").map(function(f,y){var A=f.split(":"),b=(P=A[1])===null||P===void 0?void 0:P.trim(),P=(f=A[0].trim()).replace(/([&*]|\+\+)/g,""),A=/^\[/.test(P)?P.match(/^\[(.*)\]$/)[1].split("+"):P;return gc(P,A||null,/\&/.test(f),/\*/.test(f),/\+\+/.test(f),u(A),y===0,b)})}var Ms=(Ds.prototype._createTableSchema=yc,Ds.prototype._parseIndexSyntax=ui,Ds.prototype._parseStoresSpec=function(c,f){var y=this;l(c).forEach(function(b){if(c[b]!==null){var P=y._parseIndexSyntax(c[b]),A=P.shift();if(!A)throw new pe.Schema("Invalid schema for table "+b+": "+c[b]);if(A.unique=!0,A.multi)throw new pe.Schema("Primary key cannot be multiEntry*");P.forEach(function(L){if(L.auto)throw new pe.Schema("Only primary key can be marked as autoIncrement (++)");if(!L.keyPath)throw new pe.Schema("Index must have a name and cannot be an empty string")}),P=y._createTableSchema(b,A,P),f[b]=P}})},Ds.prototype.stores=function(y){var f=this.db;this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,y):y;var y=f._versions,b={},P={};return y.forEach(function(A){d(b,A._cfg.storesSource),P=A._cfg.dbschema={},A._parseStoresSpec(b,P)}),f._dbSchema=P,vc(f,[f._allTables,f,f.Transaction.prototype]),Ao(f,[f._allTables,f,f.Transaction.prototype,this._cfg.tables],l(P),P),f._storeNames=l(P),this},Ds.prototype.upgrade=function(c){return this._cfg.contentUpgrade=ri(this._cfg.contentUpgrade||He,c),this},Ds);function Ds(){}function Mo(c,f){var y=c._dbNamesDB;return y||(y=c._dbNamesDB=new In(ha,{addons:[],indexedDB:c,IDBKeyRange:f})).version(1).stores({dbnames:"name"}),y.table("dbnames")}function Do(c){return c&&typeof c.databases=="function"}function Kn(c){return Zi(function(){return Ie.letThrough=!0,c()})}function er(c){return!("from"in c)}var ut=function(c,f){if(!this){var y=new ut;return c&&"d"in c&&d(y,c),y}d(this,arguments.length?{d:1,from:c,to:1<arguments.length?f:c}:{d:0})};function ji(c,f,y){var b=Ve(f,y);if(!isNaN(b)){if(0<b)throw RangeError();if(er(c))return d(c,{from:f,to:y,d:1});var P=c.l,b=c.r;if(Ve(y,c.from)<0)return P?ji(P,f,y):c.l={from:f,to:y,d:1,l:null,r:null},Wl(c);if(0<Ve(f,c.to))return b?ji(b,f,y):c.r={from:f,to:y,d:1,l:null,r:null},Wl(c);Ve(f,c.from)<0&&(c.from=f,c.l=null,c.d=b?b.d+1:1),0<Ve(y,c.to)&&(c.to=y,c.r=null,c.d=c.l?c.l.d+1:1),y=!c.r,P&&!c.l&&$n(c,P),b&&y&&$n(c,b)}}function $n(c,f){er(f)||function y(b,H){var A=H.from,L=H.to,z=H.l,H=H.r;ji(b,A,L),z&&y(b,z),H&&y(b,H)}(c,f)}function xc(c,f){var y=Io(f),b=y.next();if(b.done)return!1;for(var P=b.value,A=Io(c),L=A.next(P.from),z=L.value;!b.done&&!L.done;){if(Ve(z.from,P.to)<=0&&0<=Ve(z.to,P.from))return!0;Ve(P.from,z.from)<0?P=(b=y.next(z.from)).value:z=(L=A.next(P.from)).value}return!1}function Io(c){var f=er(c)?null:{s:0,n:c};return{next:function(y){for(var b=0<arguments.length;f;)switch(f.s){case 0:if(f.s=1,b)for(;f.n.l&&Ve(y,f.n.from)<0;)f={up:f,n:f.n.l,s:1};else for(;f.n.l;)f={up:f,n:f.n.l,s:1};case 1:if(f.s=2,!b||Ve(y,f.n.to)<=0)return{value:f.n,done:!1};case 2:if(f.n.r){f.s=3,f={up:f,n:f.n.r,s:0};continue}case 3:f=f.up}return{done:!0}}}}function Wl(c){var f,y,b=(((f=c.r)===null||f===void 0?void 0:f.d)||0)-(((y=c.l)===null||y===void 0?void 0:y.d)||0),P=1<b?"r":b<-1?"l":"";P&&(f=P=="r"?"l":"r",y=r({},c),b=c[P],c.from=b.from,c.to=b.to,c[P]=b[P],y[P]=b[f],(c[f]=y).d=Hl(y)),c.d=Hl(c)}function Hl(y){var f=y.r,y=y.l;return(f?y?Math.max(f.d,y.d):f.d:y?y.d:0)+1}function Lo(c,f){return l(f).forEach(function(y){c[y]?$n(c[y],f[y]):c[y]=function b(P){var A,L,z={};for(A in P)C(P,A)&&(L=P[A],z[A]=!L||typeof L!="object"||re.has(L.constructor)?L:b(L));return z}(f[y])}),c}function _a(c,f){return c.all||f.all||Object.keys(c).some(function(y){return f[y]&&xc(f[y],c[y])})}S(ut.prototype,((an={add:function(c){return $n(this,c),this},addKey:function(c){return ji(this,c,c),this},addKeys:function(c){var f=this;return c.forEach(function(y){return ji(f,y,y)}),this},hasKey:function(c){var f=Io(this).next(c).value;return f&&Ve(f.from,c)<=0&&0<=Ve(f.to,c)}})[Ke]=function(){return Io(this)},an));var ss={},as={},Fo=!1;function Kl(c){Lo(as,c),Fo||(Fo=!0,setTimeout(function(){Fo=!1,Sa(as,!(as={}))},0))}function Sa(c,f){f===void 0&&(f=!1);var y=new Set;if(c.all)for(var b=0,P=Object.values(ss);b<P.length;b++)$d(L=P[b],c,y,f);else for(var A in c){var L,z=/^idb\:\/\/(.*)\/(.*)\//.exec(A);z&&(A=z[1],z=z[2],(L=ss["idb://".concat(A,"/").concat(z)])&&$d(L,c,y,f))}y.forEach(function(H){return H()})}function $d(c,f,y,b){for(var P=[],A=0,L=Object.entries(c.queries.query);A<L.length;A++){for(var z=L[A],H=z[0],q=[],Y=0,B=z[1];Y<B.length;Y++){var Z=B[Y];_a(f,Z.obsSet)?Z.subscribers.forEach(function(X){return y.add(X)}):b&&q.push(Z)}b&&P.push([H,q])}if(b)for(var G=0,$=P;G<$.length;G++){var Q=$[G],H=Q[0],q=Q[1];c.queries.query[H]=q}}function zo(c){var f=c._state,y=c._deps.indexedDB;if(f.isBeingOpened||c.idbdb)return f.dbReadyPromise.then(function(){return f.dbOpenError?Jt(f.dbOpenError):c});f.isBeingOpened=!0,f.dbOpenError=null,f.openComplete=!1;var b=f.openCanceller,P=Math.round(10*c.verno),A=!1;function L(){if(f.openCanceller!==b)throw new pe.DatabaseClosed("db.open() was cancelled")}function z(){return new je(function(Z,G){if(L(),!y)throw new pe.MissingAPI;var $=c.name,Q=f.autoSchema||!P?y.open($):y.open($,P);if(!Q)throw new pe.MissingAPI;Q.onerror=$r(G),Q.onblocked=mt(c._fireOnBlocked),Q.onupgradeneeded=mt(function(X){var ee;Y=Q.transaction,f.autoSchema&&!c._options.allowEmptyDB?(Q.onerror=As,Y.abort(),Q.result.close(),(ee=y.deleteDatabase($)).onsuccess=ee.onerror=mt(function(){G(new pe.NoSuchDatabase("Database ".concat($," doesnt exist")))})):(Y.onerror=$r(G),X=X.oldVersion>Math.pow(2,62)?0:X.oldVersion,B=X<1,c.idbdb=Q.result,A&&va(c,Y),ya(c,X/10,Y,G))},G),Q.onsuccess=mt(function(){Y=null;var X,ee,ie,ce,se,xe=c.idbdb=Q.result,Pe=j(xe.objectStoreNames);if(0<Pe.length)try{var _e=xe.transaction((ce=Pe).length===1?ce[0]:ce,"readonly");if(f.autoSchema)ee=xe,ie=_e,(X=c).verno=ee.version/10,ie=X._dbSchema=li(0,ee,ie),X._storeNames=j(ee.objectStoreNames,0),Ao(X,[X._allTables],l(ie),ie);else if(Ar(c,c._dbSchema,_e),((se=xa(li(0,(se=c).idbdb,_e),se._dbSchema)).add.length||se.change.some(function(we){return we.add.length||we.change.length}))&&!A)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),xe.close(),P=xe.version+1,A=!0,Z(z());ga(c,_e)}catch{}ai.push(c),xe.onversionchange=mt(function(we){f.vcFired=!0,c.on("versionchange").fire(we)}),xe.onclose=mt(function(we){c.on("close").fire(we)}),B&&(se=c._deps,_e=$,xe=se.indexedDB,se=se.IDBKeyRange,Do(xe)||_e===ha||Mo(xe,se).put({name:_e}).catch(He)),Z()},G)}).catch(function(Z){switch(Z==null?void 0:Z.name){case"UnknownError":if(0<f.PR1398_maxLoop)return f.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),z();break;case"VersionError":if(0<P)return P=0,z()}return je.reject(Z)})}var H,q=f.dbReadyResolve,Y=null,B=!1;return je.race([b,(typeof navigator>"u"?je.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Z){function G(){return indexedDB.databases().finally(Z)}H=setInterval(G,100),G()}).finally(function(){return clearInterval(H)}):Promise.resolve()).then(z)]).then(function(){return L(),f.onReadyBeingFired=[],je.resolve(Kn(function(){return c.on.ready.fire(c.vip)})).then(function Z(){if(0<f.onReadyBeingFired.length){var G=f.onReadyBeingFired.reduce(ri,He);return f.onReadyBeingFired=[],je.resolve(Kn(function(){return G(c.vip)})).then(Z)}})}).finally(function(){f.openCanceller===b&&(f.onReadyBeingFired=null,f.isBeingOpened=!1)}).catch(function(Z){f.dbOpenError=Z;try{Y&&Y.abort()}catch{}return b===f.openCanceller&&c._close(),Jt(Z)}).finally(function(){f.openComplete=!0,q()}).then(function(){var Z;return B&&(Z={},c.tables.forEach(function(G){G.schema.indexes.forEach(function($){$.name&&(Z["idb://".concat(c.name,"/").concat(G.name,"/").concat($.name)]=new ut(-1/0,[[[]]]))}),Z["idb://".concat(c.name,"/").concat(G.name,"/")]=Z["idb://".concat(c.name,"/").concat(G.name,"/:dels")]=new ut(-1/0,[[[]]])}),rs(ma).fire(Z),Sa(Z,!0)),c})}function ba(c){function f(A){return c.next(A)}var y=P(f),b=P(function(A){return c.throw(A)});function P(A){return function(H){var z=A(H),H=z.value;return z.done?H:H&&typeof H.then=="function"?H.then(y,b):u(H)?Promise.all(H).then(y,b):y(H)}}return P(f)()}function Bo(c,f,y){for(var b=u(c)?c.slice():[c],P=0;P<y;++P)b.push(f);return b}var qd={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(c){return r(r({},c),{table:function(f){var y=c.table(f),b=y.schema,P={},A=[];function L(B,Z,G){var $=Wn(B),Q=P[$]=P[$]||[],X=B==null?0:typeof B=="string"?1:B.length,ee=0<Z,ee=r(r({},G),{name:ee?"".concat($,"(virtual-from:").concat(G.name,")"):G.name,lowLevelIndex:G,isVirtual:ee,keyTail:Z,keyLength:X,extractKey:Or(B),unique:!ee&&G.unique});return Q.push(ee),ee.isPrimaryKey||A.push(ee),1<X&&L(X===2?B[0]:B.slice(0,X-1),Z+1,G),Q.sort(function(ie,ce){return ie.keyTail-ce.keyTail}),ee}f=L(b.primaryKey.keyPath,0,b.primaryKey),P[":id"]=[f];for(var z=0,H=b.indexes;z<H.length;z++){var q=H[z];L(q.keyPath,0,q)}function Y(B){var Z,G=B.query.index;return G.isVirtual?r(r({},B),{query:{index:G.lowLevelIndex,range:(Z=B.query.range,G=G.keyTail,{type:Z.type===1?2:Z.type,lower:Bo(Z.lower,Z.lowerOpen?c.MAX_KEY:c.MIN_KEY,G),lowerOpen:!0,upper:Bo(Z.upper,Z.upperOpen?c.MIN_KEY:c.MAX_KEY,G),upperOpen:!0})}}):B}return r(r({},y),{schema:r(r({},b),{primaryKey:f,indexes:A,getIndexByKeyPath:function(B){return(B=P[Wn(B)])&&B[0]}}),count:function(B){return y.count(Y(B))},query:function(B){return y.query(Y(B))},openCursor:function(B){var Z=B.query.index,G=Z.keyTail,$=Z.isVirtual,Q=Z.keyLength;return $?y.openCursor(Y(B)).then(function(ee){return ee&&X(ee)}):y.openCursor(B);function X(ee){return Object.create(ee,{continue:{value:function(ie){ie!=null?ee.continue(Bo(ie,B.reverse?c.MAX_KEY:c.MIN_KEY,G)):B.unique?ee.continue(ee.key.slice(0,Q).concat(B.reverse?c.MIN_KEY:c.MAX_KEY,G)):ee.continue()}},continuePrimaryKey:{value:function(ie,ce){ee.continuePrimaryKey(Bo(ie,c.MAX_KEY,G),ce)}},primaryKey:{get:function(){return ee.primaryKey}},key:{get:function(){var ie=ee.key;return Q===1?ie[0]:ie.slice(0,Q)}},value:{get:function(){return ee.value}}})}}})}})}};function os(c,f,y,b){return y=y||{},b=b||"",l(c).forEach(function(P){var A,L,z;C(f,P)?(A=c[P],L=f[P],typeof A=="object"&&typeof L=="object"&&A&&L?(z=ke(A))!==ke(L)?y[b+P]=f[P]:z==="Object"?os(A,L,y,b+P+"."):A!==L&&(y[b+P]=f[P]):A!==L&&(y[b+P]=f[P])):y[b+P]=void 0}),l(f).forEach(function(P){C(c,P)||(y[b+P]=f[P])}),y}function $l(c,f){return f.type==="delete"?f.keys:f.keys||f.values.map(c.extractKey)}var ql={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(c){return r(r({},c),{table:function(f){var y=c.table(f),b=y.schema.primaryKey;return r(r({},y),{mutate:function(P){var A=Ie.trans,L=A.table(f).hook,z=L.deleting,H=L.creating,q=L.updating;switch(P.type){case"add":if(H.fire===He)break;return A._promise("readwrite",function(){return Y(P)},!0);case"put":if(H.fire===He&&q.fire===He)break;return A._promise("readwrite",function(){return Y(P)},!0);case"delete":if(z.fire===He)break;return A._promise("readwrite",function(){return Y(P)},!0);case"deleteRange":if(z.fire===He)break;return A._promise("readwrite",function(){return function B(Z,G,$){return y.query({trans:Z,values:!1,query:{index:b,range:G},limit:$}).then(function(Q){var X=Q.result;return Y({type:"delete",keys:X,trans:Z}).then(function(ee){return 0<ee.numFailures?Promise.reject(ee.failures[0]):X.length<$?{failures:[],numFailures:0,lastResult:void 0}:B(Z,r(r({},G),{lower:X[X.length-1],lowerOpen:!0}),$)})})}(P.trans,P.range,1e4)},!0)}return y.mutate(P);function Y(B){var Z,G,$,Q=Ie.trans,X=B.keys||$l(b,B);if(!X)throw new Error("Keys missing");return(B=B.type==="add"||B.type==="put"?r(r({},B),{keys:X}):r({},B)).type!=="delete"&&(B.values=i([],B.values,!0)),B.keys&&(B.keys=i([],B.keys,!0)),Z=y,$=X,((G=B).type==="add"?Promise.resolve([]):Z.getMany({trans:G.trans,keys:$,cache:"immutable"})).then(function(ee){var ie=X.map(function(ce,se){var xe,Pe,_e,we=ee[se],Ne={onerror:null,onsuccess:null};return B.type==="delete"?z.fire.call(Ne,ce,we,Q):B.type==="add"||we===void 0?(xe=H.fire.call(Ne,ce,B.values[se],Q),ce==null&&xe!=null&&(B.keys[se]=ce=xe,b.outbound||V(B.values[se],b.keyPath,ce))):(xe=os(we,B.values[se]),(Pe=q.fire.call(Ne,xe,ce,we,Q))&&(_e=B.values[se],Object.keys(Pe).forEach(function(Te){C(_e,Te)?_e[Te]=Pe[Te]:V(_e,Te,Pe[Te])}))),Ne});return y.mutate(B).then(function(ce){for(var se=ce.failures,xe=ce.results,Pe=ce.numFailures,ce=ce.lastResult,_e=0;_e<X.length;++_e){var we=(xe||X)[_e],Ne=ie[_e];we==null?Ne.onerror&&Ne.onerror(se[_e]):Ne.onsuccess&&Ne.onsuccess(B.type==="put"&&ee[_e]?B.values[_e]:we)}return{failures:se,results:xe,numFailures:Pe,lastResult:ce}}).catch(function(ce){return ie.forEach(function(se){return se.onerror&&se.onerror(ce)}),Promise.reject(ce)})})}}})}})}};function Uo(c,f,y){try{if(!f||f.keys.length<c.length)return null;for(var b=[],P=0,A=0;P<f.keys.length&&A<c.length;++P)Ve(f.keys[P],c[A])===0&&(b.push(y?ge(f.values[P]):f.values[P]),++A);return b.length===c.length?b:null}catch{return null}}var ka={stack:"dbcore",level:-1,create:function(c){return{table:function(f){var y=c.table(f);return r(r({},y),{getMany:function(b){if(!b.cache)return y.getMany(b);var P=Uo(b.keys,b.trans._cache,b.cache==="clone");return P?je.resolve(P):y.getMany(b).then(function(A){return b.trans._cache={keys:b.keys,values:b.cache==="clone"?ge(A):A},A})},mutate:function(b){return b.type!=="add"&&(b.trans._cache=null),y.mutate(b)}})}}}};function Ql(c,f){return c.trans.mode==="readonly"&&!!c.subscr&&!c.trans.explicit&&c.trans.db._options.cache!=="disabled"&&!f.schema.primaryKey.outbound}function Yl(c,f){switch(c){case"query":return f.values&&!f.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Qd={stack:"dbcore",level:0,name:"Observability",create:function(c){var f=c.schema.name,y=new ut(c.MIN_KEY,c.MAX_KEY);return r(r({},c),{transaction:function(b,P,A){if(Ie.subscr&&P!=="readonly")throw new pe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ie.querier));return c.transaction(b,P,A)},table:function(b){var P=c.table(b),A=P.schema,L=A.primaryKey,B=A.indexes,z=L.extractKey,H=L.outbound,q=L.autoIncrement&&B.filter(function(G){return G.compound&&G.keyPath.includes(L.keyPath)}),Y=r(r({},P),{mutate:function(G){function $(Te){return Te="idb://".concat(f,"/").concat(b,"/").concat(Te),ce[Te]||(ce[Te]=new ut)}var Q,X,ee,ie=G.trans,ce=G.mutatedParts||(G.mutatedParts={}),se=$(""),xe=$(":dels"),Pe=G.type,Ne=G.type==="deleteRange"?[G.range]:G.type==="delete"?[G.keys]:G.values.length<50?[$l(L,G).filter(function(Te){return Te}),G.values]:[],_e=Ne[0],we=Ne[1],Ne=G.trans._cache;return u(_e)?(se.addKeys(_e),(Ne=Pe==="delete"||_e.length===we.length?Uo(_e,Ne):null)||xe.addKeys(_e),(Ne||we)&&(Q=$,X=Ne,ee=we,A.indexes.forEach(function(Te){var Re=Q(Te.name||"");function nt(tt){return tt!=null?Te.extractKey(tt):null}function _t(tt){return Te.multiEntry&&u(tt)?tt.forEach(function(Ht){return Re.addKey(Ht)}):Re.addKey(tt)}(X||ee).forEach(function(tt,En){var Je=X&&nt(X[En]),En=ee&&nt(ee[En]);Ve(Je,En)!==0&&(Je!=null&&_t(Je),En!=null&&_t(En))})}))):_e?(we={from:(we=_e.lower)!==null&&we!==void 0?we:c.MIN_KEY,to:(we=_e.upper)!==null&&we!==void 0?we:c.MAX_KEY},xe.add(we),se.add(we)):(se.add(y),xe.add(y),A.indexes.forEach(function(Te){return $(Te.name).add(y)})),P.mutate(G).then(function(Te){return!_e||G.type!=="add"&&G.type!=="put"||(se.addKeys(Te.results),q&&q.forEach(function(Re){for(var nt=G.values.map(function(Je){return Re.extractKey(Je)}),_t=Re.keyPath.findIndex(function(Je){return Je===L.keyPath}),tt=0,Ht=Te.results.length;tt<Ht;++tt)nt[tt][_t]=Te.results[tt];$(Re.name).addKeys(nt)})),ie.mutatedParts=Lo(ie.mutatedParts||{},ce),Te})}}),B=function($){var Q=$.query,$=Q.index,Q=Q.range;return[$,new ut(($=Q.lower)!==null&&$!==void 0?$:c.MIN_KEY,(Q=Q.upper)!==null&&Q!==void 0?Q:c.MAX_KEY)]},Z={get:function(G){return[L,new ut(G.key)]},getMany:function(G){return[L,new ut().addKeys(G.keys)]},count:B,query:B,openCursor:B};return l(Z).forEach(function(G){Y[G]=function($){var Q=Ie.subscr,X=!!Q,ee=Ql(Ie,P)&&Yl(G,$)?$.obsSet={}:Q;if(X){var ie=function(we){return we="idb://".concat(f,"/").concat(b,"/").concat(we),ee[we]||(ee[we]=new ut)},ce=ie(""),se=ie(":dels"),Q=Z[G]($),X=Q[0],Q=Q[1];if((G==="query"&&X.isPrimaryKey&&!$.values?se:ie(X.name||"")).add(Q),!X.isPrimaryKey){if(G!=="count"){var xe=G==="query"&&H&&$.values&&P.query(r(r({},$),{values:!1}));return P[G].apply(this,arguments).then(function(we){if(G==="query"){if(H&&$.values)return xe.then(function(nt){return nt=nt.result,ce.addKeys(nt),we});var Ne=$.values?we.result.map(z):we.result;($.values?ce:se).addKeys(Ne)}else if(G==="openCursor"){var Te=we,Re=$.values;return Te&&Object.create(Te,{key:{get:function(){return se.addKey(Te.primaryKey),Te.key}},primaryKey:{get:function(){var nt=Te.primaryKey;return se.addKey(nt),nt}},value:{get:function(){return Re&&ce.addKey(Te.primaryKey),Te.value}}})}return we})}se.add(y)}}return P[G].apply(this,arguments)}}),Y}})}};function Xl(c,f,y){if(y.numFailures===0)return f;if(f.type==="deleteRange")return null;var b=f.keys?f.keys.length:"values"in f&&f.values?f.values.length:1;return y.numFailures===b?null:(f=r({},f),u(f.keys)&&(f.keys=f.keys.filter(function(P,A){return!(A in y.failures)})),"values"in f&&u(f.values)&&(f.values=f.values.filter(function(P,A){return!(A in y.failures)})),f)}function Go(c,f){return y=c,((b=f).lower===void 0||(b.lowerOpen?0<Ve(y,b.lower):0<=Ve(y,b.lower)))&&(c=c,(f=f).upper===void 0||(f.upperOpen?Ve(c,f.upper)<0:Ve(c,f.upper)<=0));var y,b}function Is(c,f,Z,b,P,A){if(!Z||Z.length===0)return c;var L=f.query.index,z=L.multiEntry,H=f.query.range,q=b.schema.primaryKey.extractKey,Y=L.extractKey,B=(L.lowLevelIndex||L).extractKey,Z=Z.reduce(function(G,$){var Q=G,X=[];if($.type==="add"||$.type==="put")for(var ee=new ut,ie=$.values.length-1;0<=ie;--ie){var ce,se=$.values[ie],xe=q(se);ee.hasKey(xe)||(ce=Y(se),(z&&u(ce)?ce.some(function(Te){return Go(Te,H)}):Go(ce,H))&&(ee.addKey(xe),X.push(se)))}switch($.type){case"add":var Pe=new ut().addKeys(f.values?G.map(function(Re){return q(Re)}):G),Q=G.concat(f.values?X.filter(function(Re){return Re=q(Re),!Pe.hasKey(Re)&&(Pe.addKey(Re),!0)}):X.map(function(Re){return q(Re)}).filter(function(Re){return!Pe.hasKey(Re)&&(Pe.addKey(Re),!0)}));break;case"put":var _e=new ut().addKeys($.values.map(function(Re){return q(Re)}));Q=G.filter(function(Re){return!_e.hasKey(f.values?q(Re):Re)}).concat(f.values?X:X.map(function(Re){return q(Re)}));break;case"delete":var we=new ut().addKeys($.keys);Q=G.filter(function(Re){return!we.hasKey(f.values?q(Re):Re)});break;case"deleteRange":var Ne=$.range;Q=G.filter(function(Re){return!Go(q(Re),Ne)})}return Q},c);return Z===c?c:(Z.sort(function(G,$){return Ve(B(G),B($))||Ve(q(G),q($))}),f.limit&&f.limit<1/0&&(Z.length>f.limit?Z.length=f.limit:c.length===f.limit&&Z.length<f.limit&&(P.dirty=!0)),A?Object.freeze(Z):Z)}function pr(c,f){return Ve(c.lower,f.lower)===0&&Ve(c.upper,f.upper)===0&&!!c.lowerOpen==!!f.lowerOpen&&!!c.upperOpen==!!f.upperOpen}function Ls(c,f){return function(y,b,P,A){if(y===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;if((b=Ve(y,b))===0){if(P&&A)return 0;if(P)return 1;if(A)return-1}return b}(c.lower,f.lower,c.lowerOpen,f.lowerOpen)<=0&&0<=function(y,b,P,A){if(y===void 0)return b!==void 0?1:0;if(b===void 0)return-1;if((b=Ve(y,b))===0){if(P&&A)return 0;if(P)return-1;if(A)return 1}return b}(c.upper,f.upper,c.upperOpen,f.upperOpen)}function wc(c,f,y,b){c.subscribers.add(y),b.addEventListener("abort",function(){var P,A;c.subscribers.delete(y),c.subscribers.size===0&&(P=c,A=f,setTimeout(function(){P.subscribers.size===0&&ue(A,P)},3e3))})}var Yd={stack:"dbcore",level:0,name:"Cache",create:function(c){var f=c.schema.name;return r(r({},c),{transaction:function(y,b,P){var A,L,z=c.transaction(y,b,P);return b==="readwrite"&&(L=(A=new AbortController).signal,P=function(H){return function(){if(A.abort(),b==="readwrite"){for(var q=new Set,Y=0,B=y;Y<B.length;Y++){var Z=B[Y],G=ss["idb://".concat(f,"/").concat(Z)];if(G){var $=c.table(Z),Q=G.optimisticOps.filter(function(Re){return Re.trans===z});if(z._explicit&&H&&z.mutatedParts)for(var X=0,ee=Object.values(G.queries.query);X<ee.length;X++)for(var ie=0,ce=(Pe=ee[X]).slice();ie<ce.length;ie++)_a((_e=ce[ie]).obsSet,z.mutatedParts)&&(ue(Pe,_e),_e.subscribers.forEach(function(Re){return q.add(Re)}));else if(0<Q.length){G.optimisticOps=G.optimisticOps.filter(function(Re){return Re.trans!==z});for(var se=0,xe=Object.values(G.queries.query);se<xe.length;se++)for(var Pe,_e,we,Ne=0,Te=(Pe=xe[se]).slice();Ne<Te.length;Ne++)(_e=Te[Ne]).res!=null&&z.mutatedParts&&(H&&!_e.dirty?(we=Object.isFrozen(_e.res),we=Is(_e.res,_e.req,Q,$,_e,we),_e.dirty?(ue(Pe,_e),_e.subscribers.forEach(function(Re){return q.add(Re)})):we!==_e.res&&(_e.res=we,_e.promise=je.resolve({result:we}))):(_e.dirty&&ue(Pe,_e),_e.subscribers.forEach(function(Re){return q.add(Re)})))}}}q.forEach(function(Re){return Re()})}}},z.addEventListener("abort",P(!1),{signal:L}),z.addEventListener("error",P(!1),{signal:L}),z.addEventListener("complete",P(!0),{signal:L})),z},table:function(y){var b=c.table(y),P=b.schema.primaryKey;return r(r({},b),{mutate:function(A){var L=Ie.trans;if(P.outbound||L.db._options.cache==="disabled"||L.explicit||L.idbtrans.mode!=="readwrite")return b.mutate(A);var z=ss["idb://".concat(f,"/").concat(y)];return z?(L=b.mutate(A),A.type!=="add"&&A.type!=="put"||!(50<=A.values.length||$l(P,A).some(function(H){return H==null}))?(z.optimisticOps.push(A),A.mutatedParts&&Kl(A.mutatedParts),L.then(function(H){0<H.numFailures&&(ue(z.optimisticOps,A),(H=Xl(0,A,H))&&z.optimisticOps.push(H),A.mutatedParts&&Kl(A.mutatedParts))}),L.catch(function(){ue(z.optimisticOps,A),A.mutatedParts&&Kl(A.mutatedParts)})):L.then(function(H){var q=Xl(0,r(r({},A),{values:A.values.map(function(Y,B){var Z;return H.failures[B]?Y:(Y=(Z=P.keyPath)!==null&&Z!==void 0&&Z.includes(".")?ge(Y):r({},Y),V(Y,P.keyPath,H.results[B]),Y)})}),H);z.optimisticOps.push(q),queueMicrotask(function(){return A.mutatedParts&&Kl(A.mutatedParts)})}),L):b.mutate(A)},query:function(A){if(!Ql(Ie,b)||!Yl("query",A))return b.query(A);var L=((q=Ie.trans)===null||q===void 0?void 0:q.db._options.cache)==="immutable",B=Ie,z=B.requery,H=B.signal,q=function($,Q,X,ee){var ie=ss["idb://".concat($,"/").concat(Q)];if(!ie)return[];if(!(Q=ie.queries[X]))return[null,!1,ie,null];var ce=Q[(ee.query?ee.query.index.name:null)||""];if(!ce)return[null,!1,ie,null];switch(X){case"query":var se=ce.find(function(xe){return xe.req.limit===ee.limit&&xe.req.values===ee.values&&pr(xe.req.query.range,ee.query.range)});return se?[se,!0,ie,ce]:[ce.find(function(xe){return("limit"in xe.req?xe.req.limit:1/0)>=ee.limit&&(!ee.values||xe.req.values)&&Ls(xe.req.query.range,ee.query.range)}),!1,ie,ce];case"count":return se=ce.find(function(xe){return pr(xe.req.query.range,ee.query.range)}),[se,!!se,ie,ce]}}(f,y,"query",A),Y=q[0],B=q[1],Z=q[2],G=q[3];return Y&&B?Y.obsSet=A.obsSet:(B=b.query(A).then(function($){var Q=$.result;if(Y&&(Y.res=Q),L){for(var X=0,ee=Q.length;X<ee;++X)Object.freeze(Q[X]);Object.freeze(Q)}else $.result=ge(Q);return $}).catch(function($){return G&&Y&&ue(G,Y),Promise.reject($)}),Y={obsSet:A.obsSet,promise:B,subscribers:new Set,type:"query",req:A,dirty:!1},G?G.push(Y):(G=[Y],(Z=Z||(ss["idb://".concat(f,"/").concat(y)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[A.query.index.name||""]=G)),wc(Y,G,z,H),Y.promise.then(function($){return{result:Is($.result,A,Z==null?void 0:Z.optimisticOps,b,Y,L)}})}})}})}};function mr(c,f){return new Proxy(c,{get:function(y,b,P){return b==="db"?f:Reflect.get(y,b,P)}})}var In=(Wt.prototype.version=function(c){if(isNaN(c)||c<.1)throw new pe.Type("Given version is not a positive number");if(c=Math.round(10*c)/10,this.idbdb||this._state.isBeingOpened)throw new pe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,c);var f=this._versions,y=f.filter(function(b){return b._cfg.version===c})[0];return y||(y=new this.Version(c),f.push(y),f.sort(oi),y.stores({}),this._state.autoSchema=!1,y)},Wt.prototype._whenReady=function(c){var f=this;return this.idbdb&&(this._state.openComplete||Ie.letThrough||this._vip)?c():new je(function(y,b){if(f._state.openComplete)return b(new pe.DatabaseClosed(f._state.dbOpenError));if(!f._state.isBeingOpened){if(!f._state.autoOpen)return void b(new pe.DatabaseClosed);f.open().catch(He)}f._state.dbReadyPromise.then(y,b)}).then(c)},Wt.prototype.use=function(c){var f=c.stack,y=c.create,b=c.level,P=c.name;return P&&this.unuse({stack:f,name:P}),c=this._middlewares[f]||(this._middlewares[f]=[]),c.push({stack:f,create:y,level:b??10,name:P}),c.sort(function(A,L){return A.level-L.level}),this},Wt.prototype.unuse=function(c){var f=c.stack,y=c.name,b=c.create;return f&&this._middlewares[f]&&(this._middlewares[f]=this._middlewares[f].filter(function(P){return b?P.create!==b:!!y&&P.name!==y})),this},Wt.prototype.open=function(){var c=this;return Ps(Hr,function(){return zo(c)})},Wt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var c=this._state,f=ai.indexOf(this);if(0<=f&&ai.splice(f,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}c.isBeingOpened||(c.dbReadyPromise=new je(function(y){c.dbReadyResolve=y}),c.openCanceller=new je(function(y,b){c.cancelOpen=b}))},Wt.prototype.close=function(y){var f=(y===void 0?{disableAutoOpen:!0}:y).disableAutoOpen,y=this._state;f?(y.isBeingOpened&&y.cancelOpen(new pe.DatabaseClosed),this._close(),y.autoOpen=!1,y.dbOpenError=new pe.DatabaseClosed):(this._close(),y.autoOpen=this._options.autoOpen||y.isBeingOpened,y.openComplete=!1,y.dbOpenError=null)},Wt.prototype.delete=function(c){var f=this;c===void 0&&(c={disableAutoOpen:!0});var y=0<arguments.length&&typeof arguments[0]!="object",b=this._state;return new je(function(P,A){function L(){f.close(c);var z=f._deps.indexedDB.deleteDatabase(f.name);z.onsuccess=mt(function(){var H,q,Y;H=f._deps,q=f.name,Y=H.indexedDB,H=H.IDBKeyRange,Do(Y)||q===ha||Mo(Y,H).delete(q).catch(He),P()}),z.onerror=$r(A),z.onblocked=f._fireOnBlocked}if(y)throw new pe.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(L):L()})},Wt.prototype.backendDB=function(){return this.idbdb},Wt.prototype.isOpen=function(){return this.idbdb!==null},Wt.prototype.hasBeenClosed=function(){var c=this._state.dbOpenError;return c&&c.name==="DatabaseClosed"},Wt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Wt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Wt.prototype,"tables",{get:function(){var c=this;return l(this._allTables).map(function(f){return c._allTables[f]})},enumerable:!1,configurable:!0}),Wt.prototype.transaction=function(){var c=(function(f,y,b){var P=arguments.length;if(P<2)throw new pe.InvalidArgument("Too few arguments");for(var A=new Array(P-1);--P;)A[P-1]=arguments[P];return b=A.pop(),[f,W(A),b]}).apply(this,arguments);return this._transaction.apply(this,c)},Wt.prototype._transaction=function(c,f,y){var b=this,P=Ie.trans;P&&P.db===this&&c.indexOf("!")===-1||(P=null);var A,L,z=c.indexOf("?")!==-1;c=c.replace("!","").replace("?","");try{if(L=f.map(function(q){if(q=q instanceof b.Table?q.name:q,typeof q!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return q}),c=="r"||c===Po)A=Po;else{if(c!="rw"&&c!=pc)throw new pe.InvalidArgument("Invalid transaction mode: "+c);A=pc}if(P){if(P.mode===Po&&A===pc){if(!z)throw new pe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");P=null}P&&L.forEach(function(q){if(P&&P.storeNames.indexOf(q)===-1){if(!z)throw new pe.SubTransaction("Table "+q+" not included in parent transaction.");P=null}}),z&&P&&!P.active&&(P=null)}}catch(q){return P?P._promise(null,function(Y,B){B(q)}):Jt(q)}var H=(function q(Y,B,Z,G,$){return je.resolve().then(function(){var Q=Ie.transless||Ie,X=Y._createTransaction(B,Z,Y._dbSchema,G);if(X.explicit=!0,Q={trans:X,transless:Q},G)X.idbtrans=G.idbtrans;else try{X.create(),X.idbtrans._explicit=!0,Y._state.PR1398_maxLoop=3}catch(ce){return ce.name===K.InvalidState&&Y.isOpen()&&0<--Y._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Y.close({disableAutoOpen:!1}),Y.open().then(function(){return q(Y,B,Z,null,$)})):Jt(ce)}var ee,ie=Le($);return ie&&da(),Q=je.follow(function(){var ce;(ee=$.call(X,X))&&(ie?(ce=Ji.bind(null,null),ee.then(ce,ce)):typeof ee.next=="function"&&typeof ee.throw=="function"&&(ee=ba(ee)))},Q),(ee&&typeof ee.then=="function"?je.resolve(ee).then(function(ce){return X.active?ce:Jt(new pe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Q.then(function(){return ee})).then(function(ce){return G&&X._resolve(),X._completion.then(function(){return ce})}).catch(function(ce){return X._reject(ce),Jt(ce)})})}).bind(null,this,A,L,P,y);return P?P._promise(A,H,"lock"):Ie.trans?Ps(Ie.transless,function(){return b._whenReady(H)}):this._whenReady(H)},Wt.prototype.table=function(c){if(!C(this._allTables,c))throw new pe.InvalidTable("Table ".concat(c," does not exist"));return this._allTables[c]},Wt);function Wt(c,f){var y=this;this._middlewares={},this.verno=0;var b=Wt.dependencies;this._options=f=r({addons:Wt.addons,autoOpen:!0,indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange,cache:"cloned"},f),this._deps={indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange},b=f.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var P,A,L,z,H,q={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:He,dbReadyPromise:null,cancelOpen:He,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:f.autoOpen};q.dbReadyPromise=new je(function(B){q.dbReadyResolve=B}),q.openCanceller=new je(function(B,Z){q.cancelOpen=Z}),this._state=q,this.name=c,this.on=wn(this,"populate","blocked","versionchange","close",{ready:[ri,He]}),this.once=function(B,Z){var G=function(){for(var $=[],Q=0;Q<arguments.length;Q++)$[Q]=arguments[Q];y.on(B).unsubscribe(G),Z.apply(y,$)};return y.on(B,G)},this.on.ready.subscribe=x(this.on.ready.subscribe,function(B){return function(Z,G){Wt.vip(function(){var $,Q=y._state;Q.openComplete?(Q.dbOpenError||je.resolve().then(Z),G&&B(Z)):Q.onReadyBeingFired?(Q.onReadyBeingFired.push(Z),G&&B(Z)):(B(Z),$=y,G||B(function X(){$.on.ready.unsubscribe(Z),$.on.ready.unsubscribe(X)}))})}}),this.Collection=(P=this,ns(Bl.prototype,function(ee,X){this.db=P;var G=js,$=null;if(X)try{G=X()}catch(ie){$=ie}var Q=ee._ctx,X=Q.table,ee=X.hook.reading.fire;this._ctx={table:X,index:Q.index,isPrimKey:!Q.index||X.schema.primKey.keyPath&&Q.index===X.schema.primKey.name,range:G,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:$,or:Q.or,valueMapper:ee!==Et?ee:null}})),this.Table=(A=this,ns(ts.prototype,function(B,Z,G){this.db=A,this._tx=G,this.name=B,this.schema=Z,this.hook=A._allTables[B]?A._allTables[B].hook:wn(null,{creating:[Wr,He],reading:[kr,Et],updating:[Cr,He],deleting:[dr,He]})})),this.Transaction=(L=this,ns(_n.prototype,function(B,Z,G,$,Q){var X=this;B!=="readonly"&&Z.forEach(function(ee){ee=(ee=G[ee])===null||ee===void 0?void 0:ee.yProps,ee&&(Z=Z.concat(ee.map(function(ie){return ie.updatesTable})))}),this.db=L,this.mode=B,this.storeNames=Z,this.schema=G,this.chromeTransactionDurability=$,this.idbtrans=null,this.on=wn(this,"complete","error","abort"),this.parent=Q||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new je(function(ee,ie){X._resolve=ee,X._reject=ie}),this._completion.then(function(){X.active=!1,X.on.complete.fire()},function(ee){var ie=X.active;return X.active=!1,X.on.error.fire(ee),X.parent?X.parent._reject(ee):ie&&X.idbtrans&&X.idbtrans.abort(),Jt(ee)})})),this.Version=(z=this,ns(Ms.prototype,function(B){this.db=z,this._cfg={version:B,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(H=this,ns(Ul.prototype,function(B,Z,G){if(this.db=H,this._ctx={table:B,index:Z===":id"?null:Z,or:G},this._cmp=this._ascending=Ve,this._descending=function($,Q){return Ve(Q,$)},this._max=function($,Q){return 0<Ve($,Q)?$:Q},this._min=function($,Q){return Ve($,Q)<0?$:Q},this._IDBKeyRange=H._deps.IDBKeyRange,!this._IDBKeyRange)throw new pe.MissingAPI})),this.on("versionchange",function(B){0<B.newVersion?console.warn("Another connection wants to upgrade database '".concat(y.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(y.name,"'. Closing db now to resume the delete request.")),y.close({disableAutoOpen:!1})}),this.on("blocked",function(B){!B.newVersion||B.newVersion<B.oldVersion?console.warn("Dexie.delete('".concat(y.name,"') was blocked")):console.warn("Upgrade '".concat(y.name,"' blocked by other connection holding version ").concat(B.oldVersion/10))}),this._maxKey=is(f.IDBKeyRange),this._createTransaction=function(B,Z,G,$){return new y.Transaction(B,Z,G,y._options.chromeTransactionDurability,$)},this._fireOnBlocked=function(B){y.on("blocked").fire(B),ai.filter(function(Z){return Z.name===y.name&&Z!==y&&!Z._state.vcFired}).map(function(Z){return Z.on("versionchange").fire(B)})},this.use(ka),this.use(Yd),this.use(Qd),this.use(qd),this.use(ql);var Y=new Proxy(this,{get:function(B,Z,G){if(Z==="_vip")return!0;if(Z==="table")return function(Q){return mr(y.table(Q),Y)};var $=Reflect.get(B,Z,G);return $ instanceof ts?mr($,Y):Z==="tables"?$.map(function(Q){return mr(Q,Y)}):Z==="_createTransaction"?function(){return mr($.apply(this,arguments),Y)}:$}});this.vip=Y,b.forEach(function(B){return B(y)})}var Vo,an=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ls=(Ca.prototype.subscribe=function(c,f,y){return this._subscribe(c&&typeof c!="function"?c:{next:c,error:f,complete:y})},Ca.prototype[an]=function(){return this},Ca);function Ca(c){this._subscribe=c}try{Vo={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Vo={indexedDB:null,IDBKeyRange:null}}function _c(c){var f,y=!1,b=new ls(function(P){var A=Le(c),L,z=!1,H={},q={},Y={get closed(){return z},unsubscribe:function(){z||(z=!0,L&&L.abort(),B&&rs.storagemutated.unsubscribe(G))}};P.start&&P.start(Y);var B=!1,Z=function(){return fc($)},G=function(Q){Lo(H,Q),_a(q,H)&&Z()},$=function(){var Q,X,ee;!z&&Vo.indexedDB&&(H={},Q={},L&&L.abort(),L=new AbortController,ee=function(ie){var ce=hn();try{A&&da();var se=Zi(c,ie);return se=A?se.finally(Ji):se}finally{ce&&fn()}}(X={subscr:Q,signal:L.signal,requery:Z,querier:c,trans:null}),Promise.resolve(ee).then(function(ie){y=!0,f=ie,z||X.signal.aborted||(H={},function(ce){for(var se in ce)if(C(ce,se))return;return 1}(q=Q)||B||(rs(ma,G),B=!0),fc(function(){return!z&&P.next&&P.next(ie)}))},function(ie){y=!1,["DatabaseClosedError","AbortError"].includes(ie==null?void 0:ie.name)||z||fc(function(){z||P.error&&P.error(ie)})}))};return setTimeout(Z,0),Y});return b.hasValue=function(){return y},b.getValue=function(){return f},b}var ci=In;function Zl(c){var f=pn;try{pn=!0,rs.storagemutated.fire(c),Sa(c,!0)}finally{pn=f}}S(ci,r(r({},$e),{delete:function(c){return new ci(c,{addons:[]}).delete()},exists:function(c){return new ci(c,{addons:[]}).open().then(function(f){return f.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(c){try{return f=ci.dependencies,y=f.indexedDB,f=f.IDBKeyRange,(Do(y)?Promise.resolve(y.databases()).then(function(b){return b.map(function(P){return P.name}).filter(function(P){return P!==ha})}):Mo(y,f).toCollection().primaryKeys()).then(c)}catch{return Jt(new pe.MissingAPI)}var f,y},defineClass:function(){return function(c){d(this,c)}},ignoreTransaction:function(c){return Ie.trans?Ps(Ie.transless,c):c()},vip:Kn,async:function(c){return function(){try{var f=ba(c.apply(this,arguments));return f&&typeof f.then=="function"?f:je.resolve(f)}catch(y){return Jt(y)}}},spawn:function(c,f,y){try{var b=ba(c.apply(y,f||[]));return b&&typeof b.then=="function"?b:je.resolve(b)}catch(P){return Jt(P)}},currentTransaction:{get:function(){return Ie.trans||null}},waitFor:function(c,f){return f=je.resolve(typeof c=="function"?ci.ignoreTransaction(c):c).timeout(f||6e4),Ie.trans?Ie.trans.waitFor(f):f},Promise:je,debug:{get:function(){return Dn},set:function(c){ko(c)}},derive:R,extend:d,props:S,override:x,Events:wn,on:rs,liveQuery:_c,extendObservabilitySet:Lo,getByKeyPath:M,setByKeyPath:V,delByKeyPath:function(c,f){typeof f=="string"?V(c,f,void 0):"length"in f&&[].map.call(f,function(y){V(c,y,void 0)})},shallowClone:F,deepClone:ge,getObjectDiff:os,cmp:Ve,asap:D,minKey:-1/0,addons:[],connections:ai,errnames:K,dependencies:Vo,cache:ss,semVer:"4.2.0",version:"4.2.0".split(".").map(function(c){return parseInt(c)}).reduce(function(c,f,y){return c+f/Math.pow(10,2*y)})})),ci.maxKey=is(ci.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(rs(ma,function(c){pn||(c=new CustomEvent(mc,{detail:c}),pn=!0,dispatchEvent(c),pn=!1)}),addEventListener(mc,function(c){c=c.detail,pn||Zl(c)}));var di,pn=!1,Ea=function(){};return typeof BroadcastChannel<"u"&&((Ea=function(){(di=new BroadcastChannel(mc)).onmessage=function(c){return c.data&&Zl(c.data)}})(),typeof di.unref=="function"&&di.unref(),rs(ma,function(c){pn||di.postMessage(c)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(c){if(!In.disableBfCache&&c.persisted){Dn&&console.debug("Dexie: handling persisted pagehide"),di!=null&&di.close();for(var f=0,y=ai;f<y.length;f++)y[f].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(c){!In.disableBfCache&&c.persisted&&(Dn&&console.debug("Dexie: handling persisted pageshow"),Ea(),Zl({all:new ut(-1/0,[[]])}))})),je.rejectionMapper=function(c,f){return!c||c instanceof Be||c instanceof TypeError||c instanceof SyntaxError||!c.name||!xt[c.name]?c:(f=new xt[c.name](f||c.message,c),"stack"in c&&k(f,"stack",{get:function(){return this.inner.stack}}),f)},ko(Dn),r(In,Object.freeze({__proto__:null,Dexie:In,liveQuery:_c,Entity:zt,cmp:Ve,PropModification:jo,replacePrefix:function(c,f){return new jo({replacePrefix:[c,f]})},add:function(c){return new jo({add:c})},remove:function(c){return new jo({remove:c})},default:In,RangeSet:ut,mergeRanges:$n,rangesOverlap:xc}),{default:In}),In})})(L6);var qk=L6.exports;const m1=Ju(qk),z5=Symbol.for("Dexie"),g1=globalThis[z5]||(globalThis[z5]=m1);if(m1.semVer!==g1.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${m1.semVer} and ${g1.semVer}`);class Qk extends g1{constructor(){super("LightWorksDB");bh(this,"tables");bh(this,"components");bh(this,"connections");this.version(1).stores({tables:"id, name, updatedAt, createdAt",components:"id, tableId, type, [tableId+type]",connections:"id, tableId, fromComponentId, toComponentId, [tableId+fromComponentId]"}),this.version(2).stores({tables:"id, name, updatedAt, createdAt, version",components:"id, tableId, type, [tableId+type], locked",connections:"id, tableId, fromComponentId, toComponentId, [tableId+fromComponentId], wavelengthNm"}).upgrade(n=>n.table("tables").toCollection().modify(r=>{r.version||(r.version=1)}))}}const Yt=new Qk;async function F6(){try{await Yt.open()}catch(t){throw console.error("Failed to open database:",t),t}}async function cf(t){return await Yt.components.where("tableId").equals(t.table.id).delete(),await Yt.connections.where("tableId").equals(t.table.id).delete(),Yt.transaction("readwrite",["tables","components","connections"],async()=>{await Yt.tables.get(t.table.id)?await Yt.tables.update(t.table.id,t.table):await Yt.tables.add(t.table),t.components.length>0&&await Yt.components.bulkAdd(t.components),t.connections.length>0&&await Yt.connections.bulkAdd(t.connections)})}async function y1(t){const[e,n,r]=await Promise.all([Yt.tables.get(t),Yt.components.where("tableId").equals(t).toArray(),Yt.connections.where("tableId").equals(t).toArray()]);if(!e)throw new Error(`Table with id ${t} not found`);return{table:e,components:n,connections:r}}async function Yk(){return Yt.tables.orderBy("updatedAt").reverse().toArray()}async function Xk(t){return Yt.transaction("readwrite",["tables","components","connections"],async()=>{await Yt.tables.delete(t),await Yt.components.where("tableId").equals(t).delete(),await Yt.connections.where("tableId").equals(t).delete()})}async function Zk(){const[t,e,n]=await Promise.all([Yt.tables.toArray(),Yt.components.toArray(),Yt.connections.toArray()]),r=t.length,i=e.length,s=n.length,l=r*200+i*100+s*50;return{tableCount:r,componentCount:i,connectionCount:s,totalSize:l}}async function Jk(){await Yt.transaction("readwrite",["tables","components","connections"],async()=>{await Yt.tables.toCollection().delete(),await Yt.components.toCollection().delete(),await Yt.connections.toCollection().delete()})}const kl=_0()(S0((t,e)=>({currentSnapshot:null,isDirty:!1,lastSaved:null,availableTables:[],isLoading:!1,error:null,stats:null,loadTable:async n=>{t({isLoading:!0,error:null});try{const r=await y1(n);t({currentSnapshot:r,isDirty:!1,lastSaved:new Date,isLoading:!1})}catch(r){const i=r instanceof Error?r.message:"Failed to load table";throw t({error:i,isLoading:!1}),r}},saveCurrentTable:async()=>{const{currentSnapshot:n}=e();if(n){t({isLoading:!0,error:null});try{await cf(n),t({isDirty:!1,lastSaved:new Date,isLoading:!1})}catch(r){const i=r instanceof Error?r.message:"Failed to save table";throw t({error:i,isLoading:!1}),r}}},createNewTable:async n=>{t({isLoading:!0,error:null});try{const r={id:crypto.randomUUID(),name:n,createdAt:Date.now(),updatedAt:Date.now(),units:"mm",width:900,height:600,holePitch:25,threadType:"1/4-20",origin:{x:0,y:0},gridEnabled:!0,snapToHoles:!0,version:1};return await cf({table:r,components:[],connections:[]}),await e().refreshTableList(),t({isLoading:!1}),r.id}catch(r){const i=r instanceof Error?r.message:"Failed to create table";throw t({error:i,isLoading:!1}),r}},duplicateTable:async(n,r)=>{t({isLoading:!0,error:null});try{const i=await y1(n),s={...i.table,id:crypto.randomUUID(),name:r,createdAt:Date.now(),updatedAt:Date.now()},l={table:s,components:i.components.map(u=>({...u,id:crypto.randomUUID(),tableId:s.id})),connections:i.connections.map(u=>({...u,id:crypto.randomUUID(),tableId:s.id}))};return await cf(l),await e().refreshTableList(),t({isLoading:!1}),s.id}catch(i){const s=i instanceof Error?i.message:"Failed to duplicate table";throw t({error:s,isLoading:!1}),i}},deleteTableById:async n=>{t({isLoading:!0,error:null});try{await Xk(n),await e().refreshTableList();const{currentSnapshot:r}=e();(r==null?void 0:r.table.id)===n&&t({currentSnapshot:null,isDirty:!1,lastSaved:null}),t({isLoading:!1})}catch(r){const i=r instanceof Error?r.message:"Failed to delete table";throw t({error:i,isLoading:!1}),r}},refreshTableList:async()=>{try{const n=await Yk();t({availableTables:n,error:null})}catch(n){const r=n instanceof Error?n.message:"Failed to refresh table list";t({error:r})}},markDirty:()=>t({isDirty:!0}),markClean:()=>t({isDirty:!1}),clearError:()=>t({error:null}),addComponent:n=>{const{currentSnapshot:r}=e();if(!r)return;const i={...r,components:[...r.components,n],table:{...r.table,updatedAt:Date.now()}};t({currentSnapshot:i,isDirty:!0})},updateComponent:(n,r)=>{const{currentSnapshot:i}=e();if(!i)return;const s={...i,components:i.components.map(l=>l.id===n?{...l,...r}:l),table:{...i.table,updatedAt:Date.now()}};t({currentSnapshot:s,isDirty:!0})},removeComponent:n=>{const{currentSnapshot:r}=e();if(!r)return;const i={...r,components:r.components.filter(s=>s.id!==n),connections:r.connections.filter(s=>s.fromComponentId!==n&&s.toComponentId!==n),table:{...r.table,updatedAt:Date.now()}};t({currentSnapshot:i,isDirty:!0})},moveComponent:(n,r)=>{const{currentSnapshot:i}=e();if(!i)return;const s={...i,components:i.components.map(l=>l.id===n?{...l,pose:{...l.pose,...r}}:l),table:{...i.table,updatedAt:Date.now()}};t({currentSnapshot:s,isDirty:!0})},addConnection:n=>{const{currentSnapshot:r}=e();if(!r)return;const i={...r,connections:[...r.connections,n],table:{...r.table,updatedAt:Date.now()}};t({currentSnapshot:i,isDirty:!0})},updateConnection:(n,r)=>{const{currentSnapshot:i}=e();if(!i)return;const s={...i,connections:i.connections.map(l=>l.id===n?{...l,...r}:l),table:{...i.table,updatedAt:Date.now()}};t({currentSnapshot:s,isDirty:!0})},removeConnection:n=>{const{currentSnapshot:r}=e();if(!r)return;const i={...r,connections:r.connections.filter(s=>s.id!==n),table:{...r.table,updatedAt:Date.now()}};t({currentSnapshot:i,isDirty:!0})},updateTable:n=>{const{currentSnapshot:r}=e();if(!r)return;const i={...r,table:{...r.table,...n,updatedAt:Date.now()}};t({currentSnapshot:i,isDirty:!0})},refreshStats:async()=>{try{const n=await Zk();t({stats:n})}catch(n){const r=n instanceof Error?n.message:"Failed to refresh stats";t({error:r})}}}),{name:"storage-store"}));function z6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=z6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=z6(t))&&(r&&(r+=" "),r+=e);return r}const At=U.forwardRef(({variant:t="primary",size:e="md",className:n,children:r,...i},s)=>{const l="inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"text-gray-600 hover:bg-gray-100 focus:ring-gray-500"},d={sm:"px-2 py-1 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-2 text-base"};return v.jsx("button",{ref:s,className:lr(l,u[t],d[e],n),...i,children:r})});At.displayName="Button";function eC({isOpen:t,onClose:e,title:n,children:r,size:i="md",className:s}){const l=U.useRef(null);if(U.useEffect(()=>{const d=m=>{m.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",d),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",d),document.body.style.overflow="unset"}},[t,e]),U.useEffect(()=>{t&&l.current&&l.current.focus()},[t]),!t)return null;const u={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return ky.createPortal(v.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),v.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:v.jsxs("div",{ref:l,className:lr("relative bg-white rounded-lg shadow-xl w-full",u[i],s),onClick:d=>d.stopPropagation(),children:[n&&v.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[v.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n}),v.jsx(At,{variant:"ghost",size:"sm",onClick:e,className:"p-1",children:v.jsx(qg,{className:"w-5 h-5"})})]}),v.jsx("div",{className:"p-6",children:r})]})})]}),document.body)}const gn={NEW:"Ctrl+N",OPEN:"Ctrl+O",SAVE:"Ctrl+S",SAVE_AS:"Ctrl+Shift+S",UNDO:"Ctrl+Z",REDO:"Ctrl+Shift+Z",CUT:"Ctrl+X",COPY:"Ctrl+C",PASTE:"Ctrl+V",DELETE:"Delete",DUPLICATE:"Ctrl+D",ZOOM_IN:"Ctrl+=",ZOOM_OUT:"Ctrl+-",ZOOM_FIT:"Ctrl+0",ZOOM_100:"Ctrl+1",TOGGLE_GRID:"Ctrl+G",TOGGLE_SNAP:"Ctrl+Shift+S",TOGGLE_LEFT_SIDEBAR:"Ctrl+B",TOGGLE_RIGHT_SIDEBAR:"Ctrl+Shift+B",SELECT_ALL:"Ctrl+A",DESELECT:"Escape",ROTATE:"R",ROTATE_REVERSE:"Shift+R",COMMAND_PALETTE:"Ctrl+K",RUN_WORKFLOW:"F5",STOP_WORKFLOW:"Escape",PAUSE_WORKFLOW:"F6"};function tC(t){const e=[];t.ctrlKey&&e.push("Ctrl"),t.shiftKey&&e.push("Shift"),t.altKey&&e.push("Alt"),t.metaKey&&e.push("Meta");let n=t.key;return n===" "&&(n="Space"),n==="ArrowUp"&&(n="Up"),n==="ArrowDown"&&(n="Down"),n==="ArrowLeft"&&(n="Left"),n==="ArrowRight"&&(n="Right"),e.push(n),e.join("+")}function nC(t){return e=>{const n=tC(e),r=t[n];r&&(e.preventDefault(),r())}}const rC=[{id:"new-project",title:"New Project",description:"Create a new project",shortcut:gn.NEW,icon:"",category:"File",action:()=>{}},{id:"open-project",title:"Open Project",description:"Open an existing project",shortcut:gn.OPEN,icon:"",category:"File",action:()=>{}},{id:"save-project",title:"Save Project",description:"Save the current project",shortcut:gn.SAVE,icon:"",category:"File",action:()=>{}},{id:"undo",title:"Undo",description:"Undo last action",shortcut:gn.UNDO,icon:"",category:"Edit",action:()=>{}},{id:"redo",title:"Redo",description:"Redo last action",shortcut:gn.REDO,icon:"",category:"Edit",action:()=>{}},{id:"duplicate",title:"Duplicate",description:"Duplicate selected devices",shortcut:gn.DUPLICATE,icon:"",category:"Edit",action:()=>{}},{id:"zoom-fit",title:"Fit to Screen",description:"Fit all devices to screen",shortcut:gn.ZOOM_FIT,icon:"",category:"View",action:()=>{}},{id:"toggle-grid",title:"Toggle Grid",description:"Show/hide grid",shortcut:gn.TOGGLE_GRID,icon:"",category:"View",action:()=>{}},{id:"toggle-snap",title:"Toggle Snap",description:"Enable/disable grid snapping",shortcut:gn.TOGGLE_SNAP,icon:"",category:"View",action:()=>{}},{id:"toggle-left-sidebar",title:"Toggle Left Sidebar",description:"Show/hide left sidebar",shortcut:gn.TOGGLE_LEFT_SIDEBAR,icon:"",category:"View",action:()=>{}},{id:"toggle-right-sidebar",title:"Toggle Right Sidebar",description:"Show/hide right sidebar",shortcut:gn.TOGGLE_RIGHT_SIDEBAR,icon:"",category:"View",action:()=>{}},{id:"run-workflow",title:"Run Workflow",description:"Start workflow execution",shortcut:gn.RUN_WORKFLOW,icon:"",category:"Workflow",action:()=>{}},{id:"stop-workflow",title:"Stop Workflow",description:"Stop workflow execution",shortcut:gn.STOP_WORKFLOW,icon:"",category:"Workflow",action:()=>{}}];function iC(t,e){if(!e.trim())return t;const n=e.toLowerCase();return t.filter(r=>{var i;return r.title.toLowerCase().includes(n)||((i=r.description)==null?void 0:i.toLowerCase().includes(n))||r.category.toLowerCase().includes(n)})}function sC(t){return t.reduce((e,n)=>(e[n.category]||(e[n.category]=[]),e[n.category].push(n),e),{})}function aC({isOpen:t,onClose:e}){const[n,r]=U.useState(""),[i,s]=U.useState(0),l=U.useRef(null),u=U.useRef(null),d=iC(rC,n),m=sC(d);U.useEffect(()=>{t&&l.current&&l.current.focus()},[t]),U.useEffect(()=>{r(""),s(0)},[t]),U.useEffect(()=>{const C=S=>{if(t)switch(S.key){case"ArrowDown":S.preventDefault(),s(_=>Math.min(_+1,d.length-1));break;case"ArrowUp":S.preventDefault(),s(_=>Math.max(_-1,0));break;case"Enter":S.preventDefault(),d[i]&&(d[i].action(),e());break;case"Escape":S.preventDefault(),e();break}};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[t,d,i,e]),U.useEffect(()=>{if(u.current){const C=u.current.querySelector(`[data-index="${i}"]`);C&&C.scrollIntoView({block:"nearest"})}},[i]);const w=C=>{C.action(),e()};return v.jsx(eC,{isOpen:t,onClose:e,size:"lg",className:"max-w-2xl",children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx(Eb,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),v.jsx("input",{ref:l,type:"text",placeholder:"Type a command or search...",value:n,onChange:C=>r(C.target.value),className:"w-full pl-10 pr-4 py-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),v.jsx("div",{className:"max-h-96 overflow-y-auto",ref:u,children:Object.keys(m).length===0?v.jsxs("div",{className:"text-center py-8 text-gray-500",children:[v.jsx(C6,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),v.jsx("p",{children:"No commands found"})]}):Object.entries(m).map(([C,S])=>v.jsxs("div",{className:"mb-4",children:[v.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:C}),v.jsx("div",{className:"space-y-1",children:S.map(_=>{const k=d.findIndex(O=>O.id===_.id),R=k===i;return v.jsxs("button",{"data-index":k,onClick:()=>w(_),className:lr("w-full flex items-center gap-3 px-3 py-2 text-left rounded-lg transition-colors",R?"bg-brand-50 text-brand-700":"hover:bg-gray-50 text-gray-700"),children:[v.jsx("div",{className:"flex-shrink-0",children:_.icon&&v.jsx("span",{className:"text-lg",children:_.icon})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"font-medium",children:_.title}),_.description&&v.jsx("div",{className:"text-sm text-gray-500 truncate",children:_.description})]}),_.shortcut&&v.jsx("div",{className:"flex-shrink-0 text-xs text-gray-400 font-mono",children:_.shortcut}),v.jsx(BS,{className:"w-4 h-4 text-gray-400"})]},_.id)})})]},C))}),v.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-2 border-t border-gray-200",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("span",{children:" Navigate"}),v.jsx("span",{children:" Select"}),v.jsx("span",{children:" Close"})]}),v.jsxs("div",{children:[d.length," command",d.length!==1?"s":""]})]})]})})}function oC(){const[t,e]=U.useState(!1),n=y0(),{project:r,isDirty:i,markClean:s}=b0(),{lastSaved:l}=kl(),{zoomIn:u,zoomOut:d,zoomToFit:m,toggleSnapToGrid:w,snapToGrid:C,openCommandPalette:S,sidebarLeftCollapsed:_,sidebarRightCollapsed:k,toggleSidebarLeft:R,toggleSidebarRight:O}=jy(),T=()=>{n("/")},j=async()=>{console.log("Saving project:",r),s()},x=()=>{console.log("Undo")},N=()=>{console.log("Redo")},D=()=>{console.log("Run workflow")},M=()=>{console.log("Stop workflow")},V=()=>{console.log("EMERGENCY STOP")};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"h-12 bg-white border-b border-gray-200 flex items-center px-4 gap-2",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(At,{variant:"ghost",size:"sm",onClick:T,title:"Home (Ctrl+H)",children:v.jsx(yb,{className:"w-4 h-4"})}),v.jsx(At,{variant:"ghost",size:"sm",onClick:j,disabled:!i,title:"Save Project (Ctrl+S)",children:v.jsx(hb,{className:"w-4 h-4"})})]}),v.jsx("div",{className:"w-px h-6 bg-gray-300"}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(At,{variant:"ghost",size:"sm",onClick:x,title:"Undo (Ctrl+Z)",children:v.jsx(VS,{className:"w-4 h-4"})}),v.jsx(At,{variant:"ghost",size:"sm",onClick:N,title:"Redo (Ctrl+Shift+Z)",children:v.jsx(KS,{className:"w-4 h-4"})})]}),v.jsx("div",{className:"w-px h-6 bg-gray-300"}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(At,{variant:"ghost",size:"sm",onClick:u,title:"Zoom In (Ctrl+=)",children:v.jsx(bb,{className:"w-4 h-4"})}),v.jsx(At,{variant:"ghost",size:"sm",onClick:d,title:"Zoom Out (Ctrl+-)",children:v.jsx(wb,{className:"w-4 h-4"})}),v.jsx(At,{variant:"ghost",size:"sm",onClick:m,title:"Fit to Screen (Ctrl+0)",children:v.jsx(QS,{className:"w-4 h-4"})})]}),v.jsx("div",{className:"w-px h-6 bg-gray-300"}),v.jsx("div",{className:"flex items-center gap-1",children:v.jsx(At,{variant:C?"primary":"ghost",size:"sm",onClick:w,title:"Toggle Snap to Grid (Ctrl+Shift+S)",children:"Snap"})}),v.jsx("div",{className:"w-px h-6 bg-gray-300"}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(At,{variant:_?"ghost":"secondary",size:"sm",onClick:R,title:"Toggle Left Sidebar (Ctrl+B)",children:_?v.jsx(T5,{className:"w-4 h-4"}):v.jsx(qg,{className:"w-4 h-4"})}),v.jsx(At,{variant:k?"ghost":"secondary",size:"sm",onClick:O,title:"Toggle Right Sidebar (Ctrl+Shift+B)",children:k?v.jsx(T5,{className:"w-4 h-4"}):v.jsx(qg,{className:"w-4 h-4"})})]}),v.jsx("div",{className:"flex-1"}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsxs(At,{variant:"primary",size:"sm",onClick:D,title:"Run Workflow (F5)",children:[v.jsx(N6,{className:"w-4 h-4"}),"Run"]}),v.jsxs(At,{variant:"secondary",size:"sm",onClick:M,title:"Stop Workflow (Escape)",children:[v.jsx(Lb,{className:"w-4 h-4"}),"Stop"]}),v.jsxs(At,{variant:"danger",size:"sm",onClick:V,title:"Emergency Stop",children:[v.jsx(E6,{className:"w-4 h-4"}),"E-STOP"]})]}),v.jsx("div",{className:"w-px h-6 bg-gray-300"}),v.jsx("div",{className:"flex items-center gap-1",children:v.jsx(At,{variant:"ghost",size:"sm",onClick:S,title:"Command Palette (Ctrl+K)",children:v.jsx(C6,{className:"w-4 h-4"})})}),v.jsx("div",{className:"flex-1"}),v.jsx("div",{className:"flex items-center text-sm text-gray-500",children:l?v.jsxs("span",{children:["Autosaved at ",l.toLocaleTimeString()]}):v.jsx("span",{children:"Not saved yet"})})]}),t&&v.jsx(aC,{isOpen:t,onClose:()=>e(!1)})]})}function Ry({tabs:t,activeTab:e,onTabChange:n,className:r}){return v.jsx("div",{className:lr("flex",r),children:t.map(i=>{const s=i.icon,l=e===i.id;return v.jsxs("button",{onClick:()=>n(i.id),className:lr("flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors",l?"border-brand-500 text-brand-600 bg-brand-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[s&&v.jsx(s,{className:"w-4 h-4"}),i.label]},i.id)})})}const lC=[{type:"laser.generic",label:"Laser",color:"#1d4ed8"},{type:"mirror.generic",label:"Mirror",color:"#047857"},{type:"splitter.generic",label:"Splitter",color:"#7c3aed"},{type:"camera.andor",label:"Camera",color:"#0ea5e9"},{type:"spectrograph.andor.sr750",label:"SR-750",color:"#a855f7"},{type:"motor.thorlabs.kdc101",label:"Motor",color:"#f59e0b"},{type:"stage.newport.esp",label:"Stage",color:"#ef4444"},{type:"sensor.generic",label:"Sensor",color:"#10b981"}];function B5(){const t=(e,n)=>{e.dataTransfer.setData("application/json",JSON.stringify({type:"device",deviceType:n})),e.dataTransfer.effectAllowed="copy"};return v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:v.jsx("div",{className:"space-y-2",children:lC.map(e=>v.jsxs("button",{className:"w-full flex items-center gap-3 p-2 rounded-lg bg-slate-800 hover:bg-slate-700 border border-slate-700",draggable:!0,onDragStart:n=>t(n,e.type),children:[v.jsx("div",{className:"w-6 h-6 rounded-md",style:{backgroundColor:e.color},"aria-hidden":!0}),v.jsx("div",{className:"text-slate-100 text-sm",children:e.label})]},e.type))})}),v.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:v.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Drag devices to the canvas to add them to your project"})})]})}const uC=[{name:"thorlabs-kinesis",version:"1.2.3",type:["driver"],os:["windows"],sizeMB:45.2,devices:[{kind:"motor.thorlabs.kdc101",commands:{enable:{args:[]},disable:{args:[]},home:{args:[]},move_abs:{args:[{name:"position",type:"number"}]},move_rel:{args:[{name:"distance",type:"number"}]},get_position:{args:[]}},telemetry:["position","velocity","status"]}],badges:["Windows-only","Driver"],description:"Thorlabs Kinesis motor control driver",author:"Thorlabs Inc.",license:"Proprietary"},{name:"andor-sdk",version:"2.1.0",type:["driver"],os:["windows","linux"],sizeMB:128.5,devices:[{kind:"camera.andor",commands:{initialize:{args:[]},start_acquisition:{args:[]},stop_acquisition:{args:[]},set_exposure:{args:[{name:"time_ms",type:"number"}]},get_image:{args:[]}},telemetry:["temperature","exposure_time","frame_count"]},{kind:"spectrograph.andor.sr750",commands:{initialize:{args:[]},set_wavelength:{args:[{name:"wavelength",type:"number"}]},acquire_spectrum:{args:[{name:"exposure_ms",type:"number"}]}},telemetry:["wavelength","grating_position","temperature"]}],badges:["Multi-platform","Driver"],description:"Andor SDK for scientific cameras and spectrographs",author:"Andor Technology",license:"Proprietary"},{name:"basic-analysis",version:"0.5.1",type:["analysis"],os:["windows","linux","mac"],sizeMB:12.3,badges:["Cross-platform","Analysis"],description:"Basic image analysis and data processing tools",author:"LightWork Team",license:"MIT",repository:"https://github.com/lightwork/analysis-tools"}],Xr=U.forwardRef(({label:t,error:e,helperText:n,className:r,id:i,...s},l)=>{const u=i||`input-${Math.random().toString(36).substr(2,9)}`;return v.jsxs("div",{className:"w-full",children:[t&&v.jsx("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700 mb-1",children:t}),v.jsx("input",{ref:l,id:u,className:lr("block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-0 sm:text-sm",e?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-brand-500 focus:border-brand-500",r),...s}),e&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:e}),n&&!e&&v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})});Xr.displayName="Input";function Ed({variant:t="default",size:e="md",children:n,className:r}){const i="inline-flex items-center font-medium rounded-full",s={default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"},l={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"};return v.jsx("span",{className:lr(i,s[t],l[e],r),children:n})}function B6(){const[t,e]=U.useState(""),[n,r]=U.useState("all"),[i,s]=U.useState("all"),[l,u]=U.useState(null),d=uC.filter(S=>{var O;const _=S.name.toLowerCase().includes(t.toLowerCase())||((O=S.description)==null?void 0:O.toLowerCase().includes(t.toLowerCase())),k=n==="all"||S.type.includes(n),R=i==="all"||S.os.includes(i);return _&&k&&R}),m=async S=>{u(S),await new Promise(_=>setTimeout(_,2e3)),u(null)},w=S=>{switch(S){case"windows":return"";case"linux":return"";case"mac":return"";default:return""}},C=S=>{switch(S){case"driver":return"bg-blue-100 text-blue-800";case"analysis":return"bg-green-100 text-green-800";case"workflow":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-4",children:[v.jsx(Xr,{placeholder:"Search extensions...",value:t,onChange:S=>e(S.target.value)}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("select",{value:n,onChange:S=>r(S.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:ring-brand-500 focus:border-brand-500",children:[v.jsx("option",{value:"all",children:"All Types"}),v.jsx("option",{value:"driver",children:"Drivers"}),v.jsx("option",{value:"analysis",children:"Analysis"}),v.jsx("option",{value:"workflow",children:"Workflows"})]}),v.jsxs("select",{value:i,onChange:S=>s(S.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:ring-brand-500 focus:border-brand-500",children:[v.jsx("option",{value:"all",children:"All Platforms"}),v.jsx("option",{value:"windows",children:"Windows"}),v.jsx("option",{value:"linux",children:"Linux"}),v.jsx("option",{value:"mac",children:"macOS"})]})]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[v.jsx("div",{className:"space-y-4",children:d.map(S=>{var _;return v.jsx("div",{className:"card",children:v.jsx("div",{className:"card-body",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("h3",{className:"font-medium text-gray-900 truncate",children:S.name}),v.jsxs("span",{className:"text-sm text-gray-500",children:["v",S.version]})]}),v.jsx("p",{className:"text-sm text-gray-600 mb-3",children:S.description}),v.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[S.type.map(k=>v.jsx(Ed,{className:C(k),children:k},k)),(_=S.badges)==null?void 0:_.map(k=>v.jsx(Ed,{variant:"default",children:k},k))]}),v.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("span",{children:"OS:"}),v.jsx("div",{className:"flex gap-1",children:S.os.map(k=>v.jsx("span",{title:k,children:w(k)},k))})]}),S.sizeMB&&v.jsxs("span",{children:["Size: ",S.sizeMB," MB"]}),S.author&&v.jsxs("span",{children:["By ",S.author]})]})]}),v.jsx("div",{className:"ml-4 flex-shrink-0",children:v.jsx(At,{variant:"primary",size:"sm",onClick:()=>m(S.name),disabled:l===S.name,children:l===S.name?"Installing...":"Install"})})]})})},S.name)})}),d.length===0&&v.jsx("div",{className:"text-center py-8 text-gray-500",children:v.jsx("p",{children:"No extensions found matching your criteria"})})]})]})}const cC=[{id:"basic-alignment",name:"Basic Mirror Alignment",entry:"move1",description:"Simple workflow to align a mirror and capture an image",created:"2024-01-15T10:00:00Z",modified:"2024-01-15T10:00:00Z",nodes:{move1:{id:"move1",kind:"MoveMirror",params:{deviceId:"mirrorA",angle:45},next:"acquire1",position:{x:100,y:100}},acquire1:{id:"acquire1",kind:"AcquireFrame",params:{deviceId:"cam1",exposure:100},next:"save1",position:{x:300,y:100}},save1:{id:"save1",kind:"Save",params:{filename:"alignment_{timestamp}.fits",format:"fits"},position:{x:500,y:100}}}},{id:"spectrum-scan",name:"Wavelength Scan",entry:"loop1",description:"Scan through wavelengths and capture spectra",created:"2024-01-16T14:30:00Z",modified:"2024-01-16T14:30:00Z",nodes:{loop1:{id:"loop1",kind:"Loop",params:{count:10},next:"acquire2",position:{x:100,y:200}},acquire2:{id:"acquire2",kind:"AcquireSpectrum",params:{deviceId:"sr750",wavelength:400,exposure:2e3},next:"delay1",position:{x:300,y:200}},delay1:{id:"delay1",kind:"Delay",params:{duration:500},next:"save2",position:{x:500,y:200}},save2:{id:"save2",kind:"Save",params:{filename:"spectrum_{wavelength}_{timestamp}.fits",format:"fits"},position:{x:700,y:200}}}}],dC=[{id:"calibrate-camera",name:"Camera Calibration",description:"Calibrate camera gain and offset",code:`# Camera calibration script
import numpy as np
from lightwork.devices import Camera

def calibrate_camera(camera_id, dark_frames=10):
    """Calibrate camera using dark frames"""
    camera = Camera(camera_id)
    
    # Acquire dark frames
    dark_data = []
    for i in range(dark_frames):
        frame = camera.acquire(exposure=1000, gain=1.0)
        dark_data.append(frame)
    
    # Calculate dark frame average
    dark_avg = np.mean(dark_data, axis=0)
    
    # Save calibration data
    np.save(f'calibration_{camera_id}_dark.npy', dark_avg)
    
    return dark_avg`},{id:"analyze-spectrum",name:"Spectrum Analysis",description:"Analyze acquired spectrum data",code:`# Spectrum analysis script
import numpy as np
import matplotlib.pyplot as plt
from lightwork.devices import Spectrograph

def analyze_spectrum(spectrum_data, wavelength_range):
    """Analyze spectrum and find peaks"""
    wavelengths = np.linspace(wavelength_range[0], wavelength_range[1], len(spectrum_data))
    
    # Find peaks
    from scipy.signal import find_peaks
    peaks, properties = find_peaks(spectrum_data, height=0.1)
    
    # Calculate peak properties
    peak_wavelengths = wavelengths[peaks]
    peak_intensities = spectrum_data[peaks]
    
    return {
        'wavelengths': wavelengths,
        'intensities': spectrum_data,
        'peaks': peak_wavelengths,
        'peak_intensities': peak_intensities
    }`}],hC=[{id:"workflows",label:"Workflows"},{id:"scripts",label:"Scripts"}];function U6(){const[t,e]=U.useState("workflows"),[n,r]=U.useState(null),i=async u=>{r(u),await new Promise(d=>setTimeout(d,5e3)),r(null)},s=()=>v.jsx("div",{className:"space-y-4",children:cC.map(u=>v.jsx("div",{className:"card",children:v.jsx("div",{className:"card-body",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:u.name}),u.description&&v.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u.description}),v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[v.jsxs(Ed,{variant:"info",children:[Object.keys(u.nodes).length," steps"]}),v.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(u.created).toLocaleDateString()]})]}),v.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:Object.values(u.nodes).map((d,m)=>v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center text-xs",children:m+1}),v.jsx("span",{children:d.kind}),m<Object.values(u.nodes).length-1&&v.jsx("span",{children:""})]},d.id))})]}),v.jsx("div",{className:"ml-4 flex-shrink-0",children:v.jsx(At,{variant:"primary",size:"sm",onClick:()=>i(u.id),disabled:n===u.id,children:n===u.id?"Running...":"Run"})})]})})},u.id))}),l=()=>v.jsx("div",{className:"space-y-4",children:dC.map(u=>v.jsx("div",{className:"card",children:v.jsxs("div",{className:"card-body",children:[v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:u.name}),u.description&&v.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u.description}),v.jsx(Ed,{variant:"info",children:"Python Script"})]}),v.jsx("div",{className:"ml-4 flex-shrink-0",children:v.jsx(At,{variant:"secondary",size:"sm",onClick:()=>{},children:"Edit"})})]}),v.jsx("div",{className:"mt-4 bg-gray-900 rounded-lg p-4 overflow-x-auto",children:v.jsxs("pre",{className:"text-sm text-green-400 font-mono",children:[v.jsx("code",{children:u.code.split(`
`).slice(0,10).join(`
`)}),u.code.split(`
`).length>10&&v.jsx("div",{className:"text-gray-500",children:"..."})]})})]})},u.id))});return v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsx("div",{className:"p-4 border-b border-gray-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"font-medium text-gray-900",children:"Workflows & Scripts"}),v.jsx("p",{className:"text-sm text-gray-500",children:"Manage automated workflows and scripts"})]}),v.jsx(At,{variant:"primary",size:"sm",onClick:()=>{},children:"New Workflow"})]})}),v.jsx("div",{className:"border-b border-gray-200",children:v.jsx(Ry,{tabs:hC,activeTab:t,onTabChange:e})}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[t==="workflows"&&s(),t==="scripts"&&l()]})]})}const fC=[{id:"palette",label:"Palette",icon:Mb},{id:"extensions",label:"Extensions",icon:Rb},{id:"workflows",label:"Workflows",icon:N6},{id:"settings",label:"Settings",icon:ob}];function pC(){const[t,e]=U.useState("palette"),n=()=>{switch(t){case"palette":return v.jsx(B5,{});case"extensions":return v.jsx(B6,{});case"workflows":return v.jsx(U6,{});case"settings":return v.jsx("div",{className:"p-4 text-gray-500",children:"Settings panel coming soon..."});default:return v.jsx(B5,{})}};return v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsx("div",{className:"border-b border-gray-200",children:v.jsx(Ry,{tabs:fC,activeTab:t,onTabChange:e})}),v.jsx("div",{className:"flex-1 overflow-hidden",children:n()})]})}const Oy=_0()(S0((t,e)=>({selectedIds:[],lastSelectedId:null,isMultiSelect:!1,setSelection:n=>t({selectedIds:n,lastSelectedId:n.length>0?n[n.length-1]:null,isMultiSelect:n.length>1}),addToSelection:n=>t(r=>r.selectedIds.includes(n)?r:{selectedIds:[...r.selectedIds,n],lastSelectedId:n,isMultiSelect:r.selectedIds.length>0}),removeFromSelection:n=>t(r=>{const i=r.selectedIds.filter(s=>s!==n);return{selectedIds:i,lastSelectedId:i.length>0?i[i.length-1]:null,isMultiSelect:i.length>1}}),toggleSelection:n=>t(r=>{if(r.selectedIds.includes(n)){const i=r.selectedIds.filter(s=>s!==n);return{selectedIds:i,lastSelectedId:i.length>0?i[i.length-1]:null,isMultiSelect:i.length>1}}else return{selectedIds:[...r.selectedIds,n],lastSelectedId:n,isMultiSelect:r.selectedIds.length>0}}),clearSelection:()=>t({selectedIds:[],lastSelectedId:null,isMultiSelect:!1}),selectAll:()=>{t({selectedIds:[],lastSelectedId:null,isMultiSelect:!1})},isSelected:n=>e().selectedIds.includes(n),hasSelection:()=>e().selectedIds.length>0,getSelectionCount:()=>e().selectedIds.length}),{name:"selection-store"})),mC={"laser.generic":{type:"laser.generic",label:"Laser",icon:"",color:"bg-red-500",category:"laser",description:"Generic laser source",size:{width:2,height:2},commands:[{name:"enable",label:"Enable",description:"Turn on the laser",args:[]},{name:"disable",label:"Disable",description:"Turn off the laser",args:[]},{name:"set_power",label:"Set Power",description:"Set laser power percentage",args:[{name:"power",type:"number",required:!0,default:50}]}],telemetry:[{name:"power",label:"Power",unit:"%",type:"number"},{name:"temperature",label:"Temperature",unit:"C",type:"number"},{name:"status",label:"Status",type:"string"}],properties:[{name:"wavelength",label:"Wavelength",type:"number",default:632.8},{name:"max_power",label:"Max Power",type:"number",default:100},{name:"enabled",label:"Enabled",type:"boolean",default:!1}]},"mirror.generic":{type:"mirror.generic",label:"Mirror",icon:"",color:"bg-gray-400",category:"optics",description:"Generic mirror for beam steering",size:{width:1,height:1},commands:[{name:"set_angle",label:"Set Angle",description:"Set mirror angle",args:[{name:"angle",type:"number",required:!0,default:0}]}],telemetry:[{name:"angle",label:"Angle",unit:"",type:"number"}],properties:[{name:"reflectivity",label:"Reflectivity",type:"number",default:.99},{name:"coating",label:"Coating",type:"select",default:"aluminum",options:["aluminum","silver","gold","dielectric"]}]},"splitter.generic":{type:"splitter.generic",label:"Beam Splitter",icon:"",color:"bg-blue-400",category:"optics",description:"Beam splitter for power division",size:{width:1,height:1},commands:[],telemetry:[],properties:[{name:"split_ratio",label:"Split Ratio",type:"number",default:.5},{name:"wavelength",label:"Design Wavelength",type:"number",default:632.8}]},"camera.andor":{type:"camera.andor",label:"Andor Camera",icon:"",color:"bg-green-500",category:"detection",description:"Andor scientific camera",size:{width:2,height:2},commands:[{name:"initialize",label:"Initialize",description:"Initialize camera",args:[]},{name:"start_acquisition",label:"Start Acquisition",description:"Start image acquisition",args:[]},{name:"stop_acquisition",label:"Stop Acquisition",description:"Stop image acquisition",args:[]},{name:"set_exposure",label:"Set Exposure",description:"Set exposure time",args:[{name:"time_ms",type:"number",required:!0,default:100}]},{name:"acquire_frame",label:"Acquire Frame",description:"Acquire single frame",args:[]}],telemetry:[{name:"temperature",label:"Temperature",unit:"C",type:"number"},{name:"exposure_time",label:"Exposure Time",unit:"ms",type:"number"},{name:"frame_count",label:"Frame Count",type:"number"},{name:"image",label:"Image",type:"image"}],properties:[{name:"pixel_size",label:"Pixel Size",type:"number",default:6.5},{name:"resolution",label:"Resolution",type:"select",default:"1024x1024",options:["512x512","1024x1024","2048x2048"]},{name:"cooling",label:"Cooling",type:"boolean",default:!0}]},"motor.thorlabs.kdc101":{type:"motor.thorlabs.kdc101",label:"Thorlabs KDC101",icon:"",color:"bg-purple-500",category:"motion",description:"Thorlabs KDC101 motor controller",size:{width:2,height:1},commands:[{name:"enable",label:"Enable",description:"Enable motor",args:[]},{name:"disable",label:"Disable",description:"Disable motor",args:[]},{name:"home",label:"Home",description:"Home motor",args:[]},{name:"move_abs",label:"Move Absolute",description:"Move to absolute position",args:[{name:"position",type:"number",required:!0,default:0}]},{name:"move_rel",label:"Move Relative",description:"Move relative distance",args:[{name:"distance",type:"number",required:!0,default:0}]}],telemetry:[{name:"position",label:"Position",unit:"mm",type:"number"},{name:"velocity",label:"Velocity",unit:"mm/s",type:"number"},{name:"status",label:"Status",type:"string"}],properties:[{name:"max_velocity",label:"Max Velocity",type:"number",default:10},{name:"acceleration",label:"Acceleration",type:"number",default:5},{name:"enabled",label:"Enabled",type:"boolean",default:!1}]},"stage.newport.esp":{type:"stage.newport.esp",label:"Newport ESP Stage",icon:"",color:"bg-orange-500",category:"motion",description:"Newport ESP precision stage",size:{width:3,height:2},commands:[{name:"enable",label:"Enable",description:"Enable stage",args:[]},{name:"disable",label:"Disable",description:"Disable stage",args:[]},{name:"home",label:"Home",description:"Home stage",args:[]},{name:"move_abs",label:"Move Absolute",description:"Move to absolute position",args:[{name:"x",type:"number",required:!0,default:0},{name:"y",type:"number",required:!0,default:0}]},{name:"move_rel",label:"Move Relative",description:"Move relative distance",args:[{name:"dx",type:"number",required:!0,default:0},{name:"dy",type:"number",required:!0,default:0}]}],telemetry:[{name:"x",label:"X Position",unit:"mm",type:"number"},{name:"y",label:"Y Position",unit:"mm",type:"number"},{name:"status",label:"Status",type:"string"}],properties:[{name:"max_velocity",label:"Max Velocity",type:"number",default:5},{name:"resolution",label:"Resolution",type:"number",default:.1},{name:"enabled",label:"Enabled",type:"boolean",default:!1}]},"sensor.generic":{type:"sensor.generic",label:"Generic Sensor",icon:"",color:"bg-yellow-500",category:"detection",description:"Generic sensor device",size:{width:1,height:1},commands:[{name:"read",label:"Read",description:"Read sensor value",args:[]}],telemetry:[{name:"value",label:"Value",type:"number"},{name:"unit",label:"Unit",type:"string"}],properties:[{name:"sensor_type",label:"Sensor Type",type:"select",default:"voltage",options:["voltage","current","temperature","pressure"]},{name:"range_min",label:"Min Range",type:"number",default:0},{name:"range_max",label:"Max Range",type:"number",default:10}]},"spectrograph.andor.sr750":{type:"spectrograph.andor.sr750",label:"SR-750 Spectrograph",icon:"",color:"bg-indigo-500",category:"analysis",description:"Andor SR-750 spectrograph",size:{width:3,height:2},commands:[{name:"initialize",label:"Initialize",description:"Initialize spectrograph",args:[]},{name:"set_wavelength",label:"Set Wavelength",description:"Set center wavelength",args:[{name:"wavelength",type:"number",required:!0,default:500}]},{name:"acquire_spectrum",label:"Acquire Spectrum",description:"Acquire spectrum",args:[{name:"exposure_ms",type:"number",required:!0,default:1e3}]}],telemetry:[{name:"wavelength",label:"Wavelength",unit:"nm",type:"number"},{name:"grating_position",label:"Grating Position",type:"number"},{name:"temperature",label:"Temperature",unit:"C",type:"number"},{name:"spectrum",label:"Spectrum",type:"image"}],properties:[{name:"wavelength_range",label:"Wavelength Range",type:"select",default:"200-1000",options:["200-1000","300-800","400-700"]},{name:"resolution",label:"Resolution",type:"number",default:.1},{name:"cooling",label:"Cooling",type:"boolean",default:!0}]}};function U5(t){return mC[t]}const gC={green:{bg:"bg-green-100",border:"border-green-300",text:"text-green-800",dot:"bg-green-500",ring:"ring-green-500"},red:{bg:"bg-red-100",border:"border-red-300",text:"text-red-800",dot:"bg-red-500",ring:"ring-red-500"},gray:{bg:"bg-gray-100",border:"border-gray-300",text:"text-gray-800",dot:"bg-gray-500",ring:"ring-gray-500"}};function G5(t){return gC[t]}function Hf(t,e){var u,d;const n=e.pitch??25,r=((u=e.origin)==null?void 0:u.x)??0,i=((d=e.origin)==null?void 0:d.y)??0,s=Math.round((t.x-r)/n)*n+r,l=Math.round((t.y-i)/n)*n+i;return{x:s,y:l}}function yC(t,e){return Math.max(1,t.pitch*e*.1)}function vC(t,e){const n=[],{pitch:r,origin:i,width:s,height:l}=t;for(let u=i.x;u<=i.x+s;u+=r)u>=e.x-r&&u<=e.x+e.width+r&&n.push({start:{x:u,y:i.y},end:{x:u,y:i.y+l},type:"major"});for(let u=i.y;u<=i.y+l;u+=r)u>=e.y-r&&u<=e.y+e.height+r&&n.push({start:{x:i.x,y:u},end:{x:i.x+s,y:u},type:"major"});return n}const xC=[{id:"properties",label:"Properties"},{id:"commands",label:"Commands"},{id:"telemetry",label:"Telemetry"},{id:"binding",label:"Binding"}];function V5({device:t,devices:e}){const[n,r]=U.useState("properties"),[i,s]=U.useState(!1),{project:l,updateDevicePos:u,rotateDevice:d,removeDevice:m}=b0(),{clearSelection:w}=Oy(),C=()=>{t&&(m(t.id),w())},S=(O,T)=>{if(t&&l){const j=l.table.pitch*T,x={...t.pos,[O]:t.pos[O]+j},N=Hf(x,{pitch:l.table.pitch,origin:l.table.origin});u(t.id,N)}},_=O=>{if(t){const T=t.pos.angle+O;d(t.id,T)}},k=(O,T)=>{if(t&&l){const j=parseFloat(T)||0,x={...t.pos,[O]:j},N=Hf(x,{pitch:l.table.pitch,origin:l.table.origin});u(t.id,N)}},R=O=>{if(t){const T=parseFloat(O)||0;d(t.id,T)}};if(t){const O=U5(t.type),T=G5(t.status),j=()=>v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),v.jsx(Xr,{value:t.name,onChange:()=>{},disabled:!i})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-2xl",children:O.icon}),v.jsx("span",{className:"text-sm text-gray-600",children:O.label})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),v.jsx(Ed,{variant:t.status==="green"?"success":t.status==="red"?"error":"default",children:t.status})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position X"}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(At,{size:"sm",variant:"ghost",onClick:()=>S("x",-1),className:"px-2 py-1",children:""}),v.jsx(Xr,{type:"number",value:t.pos.x,onChange:M=>k("x",M.target.value),className:"flex-1"}),v.jsx(At,{size:"sm",variant:"ghost",onClick:()=>S("x",1),className:"px-2 py-1",children:""})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position Y"}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(At,{size:"sm",variant:"ghost",onClick:()=>S("y",-1),className:"px-2 py-1",children:""}),v.jsx(Xr,{type:"number",value:t.pos.y,onChange:M=>k("y",M.target.value),className:"flex-1"}),v.jsx(At,{size:"sm",variant:"ghost",onClick:()=>S("y",1),className:"px-2 py-1",children:""})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Angle"}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(At,{size:"sm",variant:"ghost",onClick:()=>_(-15),className:"px-2 py-1",children:""}),v.jsx(Xr,{type:"number",value:t.pos.angle,onChange:M=>R(M.target.value),className:"flex-1"}),v.jsx(At,{size:"sm",variant:"ghost",onClick:()=>_(15),className:"px-2 py-1",children:""})]})]}),v.jsx("div",{className:"pt-4 border-t border-gray-200",children:v.jsx(At,{variant:"danger",onClick:C,className:"w-full",children:"Delete Device"})})]}),x=()=>v.jsx("div",{className:"space-y-2",children:O.commands.map(M=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-sm",children:M.label}),v.jsx("div",{className:"text-xs text-gray-500",children:M.description})]}),v.jsx(At,{size:"sm",variant:"secondary",onClick:()=>{},children:"Execute"})]},M.name))}),N=()=>v.jsx("div",{className:"space-y-4",children:O.telemetry.map(M=>v.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"font-medium text-sm",children:M.label}),M.unit&&v.jsx("span",{className:"text-xs text-gray-500",children:M.unit})]}),v.jsx("div",{className:"text-2xl font-mono",children:M.type==="number"?"--":"No data"})]},M.name))}),D=()=>{var M,V,F;return v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver Module"}),v.jsx(Xr,{value:((M=t.driver)==null?void 0:M.module)||"",onChange:()=>{},disabled:!i,placeholder:"No driver bound"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),v.jsx(Xr,{value:((V=t.driver)==null?void 0:V.address)||"",onChange:()=>{},disabled:!i,placeholder:"No address set"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parameters"}),v.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",value:JSON.stringify(((F=t.driver)==null?void 0:F.params)||{},null,2),onChange:()=>{},disabled:!i,rows:4,placeholder:"No parameters set"})]})]})};return v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsx("div",{className:"p-4 border-b border-gray-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-2xl",children:O.icon}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium text-gray-900",children:t.name}),v.jsx("p",{className:"text-sm text-gray-500",children:O.label})]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:`w-3 h-3 rounded-full ${T.dot}`}),v.jsx(At,{size:"sm",variant:"ghost",onClick:()=>s(!i),children:i?"Save":"Edit"})]})]})}),v.jsx("div",{className:"border-b border-gray-200",children:v.jsx(Ry,{tabs:xC,activeTab:n,onTabChange:r})}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[n==="properties"&&j(),n==="commands"&&x(),n==="telemetry"&&N(),n==="binding"&&D()]})]})}return e&&e.length>1?v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsx("div",{className:"p-4 border-b border-gray-200",children:v.jsxs("h3",{className:"font-medium text-gray-900",children:[e.length," devices selected"]})}),v.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:v.jsx("div",{className:"space-y-2",children:e.map(O=>{const T=U5(O.type),j=G5(O.status);return v.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[v.jsx("span",{className:"text-xl",children:T.icon}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"font-medium text-sm truncate",children:O.name}),v.jsx("div",{className:"text-xs text-gray-500",children:T.label})]}),v.jsx("div",{className:`w-2 h-2 rounded-full ${j.dot}`})]},O.id)})})})]}):null}function W5({table:t}){const[e,n]=U.useState(!1),[r,i]=U.useState({width:t.width,height:t.height,pitch:t.pitch,units:t.units,thread:t.thread,originX:t.origin.x,originY:t.origin.y}),s=()=>{console.log("Saving table:",r),n(!1)},l=()=>{i({width:t.width,height:t.height,pitch:t.pitch,units:t.units,thread:t.thread,originX:t.origin.x,originY:t.origin.y}),n(!1)};return v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsx("div",{className:"p-4 border-b border-gray-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Table Properties"}),v.jsx("p",{className:"text-sm text-gray-500",children:"Configure the optics bench table"})]}),v.jsx("div",{className:"flex items-center gap-2",children:e?v.jsxs(v.Fragment,{children:[v.jsx(At,{size:"sm",variant:"ghost",onClick:l,children:"Cancel"}),v.jsx(At,{size:"sm",variant:"primary",onClick:s,children:"Save"})]}):v.jsx(At,{size:"sm",variant:"ghost",onClick:()=>n(!0),children:"Edit"})})]})}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsx("h4",{className:"font-medium text-gray-900",children:"Dimensions"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx(Xr,{label:"Width",type:"number",value:r.width,onChange:u=>i(d=>({...d,width:Number(u.target.value)})),disabled:!e}),v.jsx(Xr,{label:"Height",type:"number",value:r.height,onChange:u=>i(d=>({...d,height:Number(u.target.value)})),disabled:!e})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Units"}),v.jsxs("select",{value:r.units,onChange:u=>i(d=>({...d,units:u.target.value})),disabled:!e,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-brand-500 focus:border-brand-500 disabled:bg-gray-50",children:[v.jsx("option",{value:"mm",children:"Millimeters (mm)"}),v.jsx("option",{value:"inch",children:"Inches (in)"})]})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h4",{className:"font-medium text-gray-900",children:"Grid Settings"}),v.jsx(Xr,{label:"Hole Pitch",type:"number",value:r.pitch,onChange:u=>i(d=>({...d,pitch:Number(u.target.value)})),disabled:!e,helperText:"Distance between grid holes"}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Thread Type"}),v.jsxs("select",{value:r.thread,onChange:u=>i(d=>({...d,thread:u.target.value})),disabled:!e,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-brand-500 focus:border-brand-500 disabled:bg-gray-50",children:[v.jsx("option",{value:"1/4-20",children:"1/4-20 (Imperial)"}),v.jsx("option",{value:"M6",children:"M6 (Metric)"})]})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h4",{className:"font-medium text-gray-900",children:"Origin"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx(Xr,{label:"Origin X",type:"number",value:r.originX,onChange:u=>i(d=>({...d,originX:Number(u.target.value)})),disabled:!e}),v.jsx(Xr,{label:"Origin Y",type:"number",value:r.originY,onChange:u=>i(d=>({...d,originY:Number(u.target.value)})),disabled:!e})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h4",{className:"font-medium text-gray-900",children:"Summary"}),v.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2 text-sm",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Table Size:"}),v.jsxs("span",{className:"font-medium",children:[r.width,"  ",r.height," ",r.units]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Hole Pitch:"}),v.jsxs("span",{className:"font-medium",children:[r.pitch," ",r.units]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Thread Type:"}),v.jsx("span",{className:"font-medium",children:r.thread})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Total Holes:"}),v.jsxs("span",{className:"font-medium",children:[Math.floor(r.width/r.pitch)+1,"  ",Math.floor(r.height/r.pitch)+1]})]})]})]})]})]})}function wC(){const{selectedIds:t,hasSelection:e}=Oy(),{project:n}=b0();if(!e())return v.jsx(W5,{table:n.table});if(t.length===1){const r=n.devices.find(i=>i.id===t[0]);if(r)return v.jsx(V5,{device:r})}if(t.length>1){const r=n.devices.filter(i=>t.includes(i.id));return v.jsx(V5,{devices:r})}return v.jsx(W5,{table:n.table})}function _C(){return v.jsx("div",{className:"h-full flex flex-col",children:v.jsx(wC,{})})}function SC(){const{project:t}=b0(),[e,n]=U.useState("connected"),[r,i]=U.useState(60);U.useEffect(()=>{const m=setInterval(()=>{const w=Math.random();w<.05?n("disconnected"):w<.1?n("error"):n("connected")},5e3);return()=>clearInterval(m)},[]),U.useEffect(()=>{const m=setInterval(()=>{i(Math.floor(55+Math.random()*10))},1e3);return()=>clearInterval(m)},[]);const s=()=>{switch(e){case"connected":return v.jsx(eb,{className:"w-4 h-4 text-green-500"});case"disconnected":return v.jsx(Bb,{className:"w-4 h-4 text-gray-400"});case"error":return v.jsx(E6,{className:"w-4 h-4 text-red-500"})}},l=()=>{switch(e){case"connected":return"Connected";case"disconnected":return"Disconnected";case"error":return"Connection Error"}},u=t.devices.length,d=t.devices.filter(m=>m.status==="green").length;return v.jsxs("div",{className:"h-6 bg-gray-100 border-t border-gray-200 flex items-center justify-between px-4 text-xs text-gray-600",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[s(),v.jsx("span",{children:l()})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("span",{children:["Devices: ",d,"/",u]}),v.jsxs("span",{children:["FPS: ",r]})]}),v.jsx("div",{className:"flex items-center gap-2",children:v.jsx("span",{children:"Press Ctrl+K for commands"})})]})}function H5({children:t,side:e,minWidth:n=200,maxWidth:r=600,defaultWidth:i=300,collapsedWidth:s=0,onWidthChange:l,onToggle:u,isCollapsed:d,className:m}){const[w,C]=U.useState(!1),[S,_]=U.useState(0),[k,R]=U.useState(0),O=U.useRef(null),T=U.useCallback(x=>{x.preventDefault(),C(!0),_(x.clientX),R(d?s:i);const N=M=>{const V=e==="left"?M.clientX-S:S-M.clientX,F=Math.max(n,Math.min(r,k+V));F<=n+20?l(s):l(F)},D=()=>{C(!1),document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",D)};document.addEventListener("mousemove",N),document.addEventListener("mouseup",D)},[e,S,k,n,r,s,i,l]),j=U.useCallback(x=>{x.stopPropagation(),u()},[u]);return v.jsxs("div",{ref:O,className:lr("relative bg-white border-r border-gray-200 flex flex-col transition-all duration-200 ease-in-out",e==="right"&&"border-l border-r-0",d&&"overflow-hidden",m),style:{width:d?s:i,minWidth:d?s:n},children:[v.jsx("div",{className:lr("absolute top-0 bottom-0 w-1 cursor-col-resize hover:bg-brand-500 hover:opacity-50 transition-colors",e==="left"?"right-0":"left-0",w&&"bg-brand-500"),onMouseDown:T}),v.jsx("button",{onClick:j,className:lr("absolute top-4 z-10 w-6 h-6 bg-white border border-gray-300 rounded-full flex items-center justify-center shadow-sm hover:shadow-md transition-all",e==="left"?"right-3":"left-3"),title:d?"Open sidebar":"Close sidebar",children:e==="left"?d?v.jsx(R5,{className:"w-4 h-4 text-gray-600"}):v.jsx(j5,{className:"w-4 h-4 text-gray-600"}):d?v.jsx(j5,{className:"w-4 h-4 text-gray-600"}):v.jsx(R5,{className:"w-4 h-4 text-gray-600"})}),v.jsx("div",{className:lr("flex-1 flex flex-col",d&&"opacity-0 pointer-events-none"),children:t})]})}function bC(){const{sidebarLeftWidth:t,sidebarRightWidth:e,sidebarLeftCollapsed:n,sidebarRightCollapsed:r,setSidebarLeftWidth:i,setSidebarRightWidth:s,toggleSidebarLeft:l,toggleSidebarRight:u}=jy();return v.jsxs("div",{className:"h-full flex flex-col",children:[v.jsx(oC,{}),v.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[v.jsx(H5,{side:"left",minWidth:200,maxWidth:600,defaultWidth:t,collapsedWidth:0,onWidthChange:i,onToggle:l,isCollapsed:n,children:v.jsx(pC,{})}),v.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:v.jsx("div",{className:"flex-1 overflow-hidden",children:v.jsx(P7,{})})}),v.jsx(H5,{side:"right",minWidth:200,maxWidth:600,defaultWidth:e,collapsedWidth:0,onWidthChange:s,onToggle:u,isCollapsed:r,children:v.jsx(_C,{})})]}),v.jsx(SC,{})]})}const Om=({icon:t,label:e,description:n,onClick:r,className:i,disabled:s=!1})=>v.jsx("button",{onClick:r,disabled:s,className:lr("group relative w-full max-w-sm p-6 bg-gray-100 border border-black rounded-xl","hover:bg-gray-200 hover:scale-105","transition-all duration-200 ease-out","focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 focus:ring-offset-white","text-left",s&&"opacity-50 cursor-not-allowed hover:scale-100 hover:bg-gray-100",i),children:v.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[v.jsx("div",{className:"w-12 h-12 flex items-center justify-center text-gray-700 group-hover:text-gray-900 transition-colors",children:t}),v.jsxs("div",{className:"text-center",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-gray-900 transition-colors",children:e}),n&&v.jsx("p",{className:"text-sm text-gray-600 group-hover:text-gray-700 transition-colors mt-1",children:n})]})]})}),kC=({tables:t,onViewAll:e,onTableClick:n,className:r,isLoading:i=!1,error:s=null})=>v.jsxs("div",{className:lr("w-full max-w-4xl",r),children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"My Tables"}),e&&v.jsx("button",{onClick:e,className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"View all"})]}),v.jsx("div",{className:"space-y-2",children:s?v.jsxs("div",{className:"text-center py-8",children:[v.jsxs("p",{className:"text-red-600",children:["Error loading tables: ",s]}),v.jsx("button",{onClick:()=>window.location.reload(),className:"text-sm text-blue-600 hover:text-blue-800 mt-2",children:"Retry"})]}):i?v.jsx("div",{className:"text-center py-8",children:v.jsx("p",{className:"text-gray-600",children:"Loading tables..."})}):t.length===0?v.jsx("div",{className:"text-center py-8",children:v.jsx("p",{className:"text-gray-600",children:"Create a table to get started!"})}):t.map(l=>v.jsx("div",{onClick:()=>n==null?void 0:n(l),className:"group p-4 bg-gray-100 border border-black rounded-lg hover:bg-gray-200 cursor-pointer transition-all duration-200",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"text-gray-900 font-medium truncate group-hover:text-gray-900 transition-colors",children:l.name}),l.description&&v.jsx("p",{className:"text-sm text-gray-600 group-hover:text-gray-700 transition-colors mt-1 truncate",children:l.description}),l.lastModified&&v.jsxs("p",{className:"text-xs text-gray-500 group-hover:text-gray-600 transition-colors mt-1",children:["Modified ",l.lastModified]})]}),v.jsx("div",{className:"ml-4 flex-shrink-0",children:v.jsx("svg",{className:"w-5 h-5 text-gray-500 group-hover:text-gray-700 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},l.id))})]}),sl=il().uuid(),CC=wi({x:yn().finite(),y:yn().finite(),theta:yn().finite()}),EC=wi({id:sl,name:il().min(1).max(100),createdAt:yn().positive(),updatedAt:yn().positive(),units:ho(["mm","inch"]).default("mm"),width:yn().positive(),height:yn().positive(),holePitch:yn().positive(),threadType:ho(["1/4-20","M6"]),origin:wi({x:yn(),y:yn()}),gridEnabled:f1().default(!0),snapToHoles:f1().default(!0),version:yn().positive().default(1)}),NC=ho(["Laser","Mirror","Splitter","Camera","SR-750","Motor","Stage","Sensor","BeamStop","Lens","Waveplate","PBS"]),PC=wi({id:sl,tableId:sl,type:NC,label:il().optional(),pose:CC,locked:f1().default(!1),meta:I6(D6()).optional()}),TC=wi({id:sl,tableId:sl,fromComponentId:sl,toComponentId:sl,wavelengthNm:yn().positive().optional(),polarization:ho(["H","V","D","A","R","L","unknown"]).optional(),powerMw:yn().positive().optional()}),jC=wi({table:EC,components:p1(PC),connections:p1(TC)}),Yo={id:crypto.randomUUID(),name:"New Table",createdAt:Date.now(),updatedAt:Date.now(),units:"mm",width:900,height:600,holePitch:25,threadType:"1/4-20",origin:{x:0,y:0},gridEnabled:!0,snapToHoles:!0,version:1},Am={table:{...Yo,name:"Sample Optics Setup"},components:[{id:crypto.randomUUID(),tableId:Yo.id,type:"Laser",label:"HeNe Laser",pose:{x:100,y:300,theta:0},locked:!1,meta:{wavelength:632.8,power:5}},{id:crypto.randomUUID(),tableId:Yo.id,type:"Mirror",label:"Mirror A",pose:{x:275,y:300,theta:45},locked:!1,meta:{reflectivity:.99}},{id:crypto.randomUUID(),tableId:Yo.id,type:"Splitter",label:"Beam Splitter",pose:{x:400,y:300,theta:0},locked:!1,meta:{splitRatio:.5}},{id:crypto.randomUUID(),tableId:Yo.id,type:"Camera",label:"Andor Cam",pose:{x:575,y:175,theta:0},locked:!1,meta:{model:"Andor iXon"}},{id:crypto.randomUUID(),tableId:Yo.id,type:"SR-750",label:"SR-750",pose:{x:750,y:300,theta:0},locked:!1,meta:{grating:"300 lines/mm"}}],connections:[{id:crypto.randomUUID(),tableId:Yo.id,fromComponentId:"",toComponentId:"",wavelengthNm:632.8,polarization:"H",powerMw:5}]};function RC(){return"showOpenFilePicker"in window&&"showSaveFilePicker"in window}async function K5(t){const e=await t.text(),n=JSON.parse(e);return jC.parse(n)}async function OC(){if(RC())try{const[t]=await window.showOpenFilePicker({types:[{description:"LightWorks Table Files",accept:{"application/json":[".lightworks.json"]}}]}),e=await t.getFile();return await K5(e)}catch(t){throw t instanceof Error&&t.name!=="AbortError"?new Error(`Failed to load table: ${t.message}`):t}else return new Promise((t,e)=>{const n=document.createElement("input");n.type="file",n.accept=".lightworks.json",n.onchange=async r=>{var s;const i=(s=r.target.files)==null?void 0:s[0];if(!i){e(new Error("No file selected"));return}try{const l=await K5(i);t(l)}catch(l){e(new Error(`Failed to load table: ${l instanceof Error?l.message:"Unknown error"}`))}},n.oncancel=()=>{e(new Error("File selection cancelled"))},n.click()})}const AC=()=>v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),MC=()=>v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),DC=()=>v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),IC=()=>{const t=y0(),{availableTables:e,isLoading:n,error:r,createNewTable:i,loadTable:s}=kl(),[l,u]=U.useState(!1),d=async()=>{try{u(!0);const k=await i("New Table");t(`/editor?table=${k}`)}catch(k){console.error("Failed to create table:",k)}finally{u(!1)}},m=async()=>{try{const k=await OC();await s(k.table.id),t(`/editor?table=${k.table.id}`)}catch(k){console.error("Failed to open table:",k)}},w=()=>{t("/explore")},C=()=>{console.log("View all tables")},S=async k=>{try{await s(k.id),t(`/editor?table=${k.id}`)}catch(R){console.error("Failed to open table:",R)}},_=e.map(k=>({id:k.id,name:k.name,description:`Last modified ${new Date(k.updatedAt).toLocaleDateString()}`,lastModified:new Date(k.updatedAt).toLocaleTimeString()}));return v.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[v.jsx("header",{className:"flex-shrink-0 pt-8 pb-4",children:v.jsxs("div",{className:"text-center relative",children:[v.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"LightWorks"}),v.jsx("div",{className:"relative w-full h-1 mt-4",children:v.jsxs("div",{className:"w-full h-1",children:[v.jsxs("div",{className:"h-1 bg-gradient-to-r from-transparent via-green-500 via-green-400 to-transparent rounded-full shadow-lg shadow-green-500/50 animate-pulse relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent animate-pulse"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-green-300/60 to-transparent animate-pulse"})]}),v.jsx("div",{className:"absolute inset-0 h-3 bg-gradient-to-r from-transparent via-green-500/20 via-green-400/30 to-transparent rounded-full -top-1 blur-sm"})]})}),v.jsx("p",{className:"text-gray-600 text-lg mt-6",children:"Quantum Optics Portal"})]})}),v.jsxs("main",{className:"flex-1 flex flex-col items-center justify-center px-4 py-8",children:[v.jsx("div",{className:"w-full max-w-4xl mb-16",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 justify-items-center",children:[v.jsx(Om,{icon:v.jsx(AC,{}),label:"Create Table",description:"Start a new quantum optics setup",onClick:d,disabled:l}),v.jsx(Om,{icon:v.jsx(MC,{}),label:"Open From File",description:"Import table from local file",onClick:m}),v.jsx(Om,{icon:v.jsx(DC,{}),label:"Explore Others' Tables",description:"Discover community creations",onClick:w})]})}),v.jsx(kC,{tables:_,onViewAll:C,onTableClick:S,isLoading:n,error:r})]}),v.jsx("footer",{className:"flex-shrink-0 py-6",children:v.jsx("div",{className:"text-center",children:v.jsx("p",{className:"text-gray-500 text-sm",children:"LightWorks  Quantum Optics Control & Design Platform"})})})]})},LC=[{id:"photon-counting",name:"Photon Counting Experiment",description:"Measure single photons with detectors and explore quantum statistics.",difficulty:"Beginner",popularity:128,thumbnail:"photon",tags:["photon","detection","statistics"]},{id:"quantum-gate",name:"Optical Quantum Computing Gate",description:"Simulate a CNOT gate using photons, beam splitters, and detectors.",difficulty:"Advanced",popularity:96,thumbnail:"quantum",tags:["quantum-computing","cnot-gate","simulation"]},{id:"raman-spectroscopy",name:"Raman Spectroscopy Setup",description:"Probe vibrational states in materials using Raman scattering.",difficulty:"Intermediate",popularity:84,thumbnail:"spectroscopy",tags:["spectroscopy","raman","materials"]},{id:"entanglement-lab",name:"Entanglement Lab",description:"Generate and analyze entangled photon pairs via SPDC.",difficulty:"Intermediate",popularity:143,thumbnail:"entanglement",tags:["entanglement","spdc","photon-pairs"]},{id:"bb84-qkd",name:"Quantum Cryptography Lab (BB84 QKD)",description:"Implement quantum key distribution with single photons.",difficulty:"Intermediate",popularity:201,thumbnail:"cryptography",tags:["cryptography","qkd","bb84","security"]}],FC=["All","Beginner","Intermediate","Advanced"],zC=["Popularity","Newest","Alphabetical"],$5=()=>v.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:v.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),BC=()=>v.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:v.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),UC=()=>v.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:v.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),GC=()=>v.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:v.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),VC=()=>v.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:v.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),WC=t=>{switch(t){case"photon":return v.jsx($5,{});case"quantum":return v.jsx(BC,{});case"spectroscopy":return v.jsx(UC,{});case"entanglement":return v.jsx(GC,{});case"cryptography":return v.jsx(VC,{});default:return v.jsx($5,{})}},HC=({lab:t,onClick:e})=>v.jsx("div",{onClick:()=>e(t),className:"group bg-white border border-gray-200 rounded-xl p-6 hover:border-gray-300 hover:shadow-lg cursor-pointer transition-all duration-200 hover:scale-105",children:v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[v.jsx("div",{className:"flex-shrink-0",children:WC(t.thumbnail)}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-gray-700 transition-colors",children:t.name}),v.jsx("div",{className:"flex items-center space-x-2 mt-1",children:v.jsx("span",{className:lr("px-2 py-1 text-xs font-medium rounded-full",t.difficulty==="Beginner"&&"bg-green-100 text-green-800",t.difficulty==="Intermediate"&&"bg-yellow-100 text-yellow-800",t.difficulty==="Advanced"&&"bg-red-100 text-red-800"),children:t.difficulty})})]})]}),v.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-1",children:t.description}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("div",{className:"flex items-center space-x-2",children:v.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 px-2 py-1 rounded-md",children:[v.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),v.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[t.popularity," users"]})]})}),v.jsx("div",{className:"text-gray-400 group-hover:text-gray-600 transition-colors",children:v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})}),KC=()=>{const t=y0(),[e,n]=U.useState(""),[r,i]=U.useState("All"),[s,l]=U.useState("Popularity"),u=U.useMemo(()=>{let w=LC.filter(C=>{const S=C.name.toLowerCase().includes(e.toLowerCase())||C.description.toLowerCase().includes(e.toLowerCase())||C.tags.some(k=>k.toLowerCase().includes(e.toLowerCase())),_=r==="All"||C.difficulty===r;return S&&_});return w.sort((C,S)=>{switch(s){case"Popularity":return S.popularity-C.popularity;case"Newest":return S.popularity-C.popularity;case"Alphabetical":return C.name.localeCompare(S.name);default:return 0}}),w},[e,r,s]),d=w=>{console.log("Loading lab:",w.name),t(`/editor?lab=${w.id}`)},m=()=>{t("/")};return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("header",{className:"bg-white border-b border-gray-200",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("div",{children:[v.jsxs("button",{onClick:m,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors mb-2",children:[v.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),v.jsx("span",{children:"Back to Dashboard"})]}),v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Explore Quantum Labs"})]})})})}),v.jsx("div",{className:"bg-white border-b border-gray-200",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[v.jsx("div",{className:"max-w-2xl mx-auto mb-6",children:v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),v.jsx("input",{type:"text",placeholder:"Search labs by name or concept (e.g. 'entanglement')",value:e,onChange:w=>n(w.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})}),v.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Difficulty:"}),v.jsx("div",{className:"flex space-x-1",children:FC.map(w=>v.jsx("button",{onClick:()=>i(w),className:lr("px-3 py-1 text-sm font-medium rounded-full transition-colors",r===w?"bg-blue-100 text-blue-800 border border-blue-200":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-200"),children:w},w))})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Sort by:"}),v.jsx("div",{className:"flex space-x-1",children:zC.map(w=>v.jsx("button",{onClick:()=>l(w),className:lr("px-3 py-1 text-sm font-medium rounded-full transition-colors",s===w?"bg-blue-100 text-blue-800 border border-blue-200":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-200"),children:w},w))})]})]})]})}),v.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.length===0?v.jsxs("div",{className:"text-center py-12",children:[v.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),v.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No labs found"}),v.jsx("p",{className:"text-gray-600",children:"Try adjusting your search terms or filters to find more labs."})]}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(w=>v.jsx(HC,{lab:w,onClick:d},w.id))})})]})};var G6={exports:{}},k0={},Kf={},ft={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof ff<"u"?ff:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.22",isBrowser:n(),isUnminified:/param/.test((function(i){}).toString()),dblClickWindow:400,getAngle(i){return t.Konva.angleDeg?i*e:i},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var i;return(i=t.Konva.Transformer)===null||i===void 0?void 0:i.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(i){t.glob.Konva=i}};const r=i=>{t.Konva[i.prototype.getClassName()]=i};t._registerNode=r,t.Konva._injectGlobal(t.Konva)})(ft);var rn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=ft;class n{constructor(N=[1,0,0,1,0,0]){this.dirty=!1,this.m=N&&N.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(N){N.m[0]=this.m[0],N.m[1]=this.m[1],N.m[2]=this.m[2],N.m[3]=this.m[3],N.m[4]=this.m[4],N.m[5]=this.m[5]}point(N){const D=this.m;return{x:D[0]*N.x+D[2]*N.y+D[4],y:D[1]*N.x+D[3]*N.y+D[5]}}translate(N,D){return this.m[4]+=this.m[0]*N+this.m[2]*D,this.m[5]+=this.m[1]*N+this.m[3]*D,this}scale(N,D){return this.m[0]*=N,this.m[1]*=N,this.m[2]*=D,this.m[3]*=D,this}rotate(N){const D=Math.cos(N),M=Math.sin(N),V=this.m[0]*D+this.m[2]*M,F=this.m[1]*D+this.m[3]*M,ne=this.m[0]*-M+this.m[2]*D,W=this.m[1]*-M+this.m[3]*D;return this.m[0]=V,this.m[1]=F,this.m[2]=ne,this.m[3]=W,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(N,D){const M=this.m[0]+this.m[2]*D,V=this.m[1]+this.m[3]*D,F=this.m[2]+this.m[0]*N,ne=this.m[3]+this.m[1]*N;return this.m[0]=M,this.m[1]=V,this.m[2]=F,this.m[3]=ne,this}multiply(N){const D=this.m[0]*N.m[0]+this.m[2]*N.m[1],M=this.m[1]*N.m[0]+this.m[3]*N.m[1],V=this.m[0]*N.m[2]+this.m[2]*N.m[3],F=this.m[1]*N.m[2]+this.m[3]*N.m[3],ne=this.m[0]*N.m[4]+this.m[2]*N.m[5]+this.m[4],W=this.m[1]*N.m[4]+this.m[3]*N.m[5]+this.m[5];return this.m[0]=D,this.m[1]=M,this.m[2]=V,this.m[3]=F,this.m[4]=ne,this.m[5]=W,this}invert(){const N=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),D=this.m[3]*N,M=-this.m[1]*N,V=-this.m[2]*N,F=this.m[0]*N,ne=N*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),W=N*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=D,this.m[1]=M,this.m[2]=V,this.m[3]=F,this.m[4]=ne,this.m[5]=W,this}getMatrix(){return this.m}decompose(){const N=this.m[0],D=this.m[1],M=this.m[2],V=this.m[3],F=this.m[4],ne=this.m[5],W=N*V-D*M,re={x:F,y:ne,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(N!=0||D!=0){const oe=Math.sqrt(N*N+D*D);re.rotation=D>0?Math.acos(N/oe):-Math.acos(N/oe),re.scaleX=oe,re.scaleY=W/oe,re.skewX=(N*M+D*V)/W,re.skewY=0}else if(M!=0||V!=0){const oe=Math.sqrt(M*M+V*V);re.rotation=Math.PI/2-(V>0?Math.acos(-M/oe):-Math.acos(M/oe)),re.scaleX=W/oe,re.scaleY=oe,re.skewX=0,re.skewY=(N*M+D*V)/W}return re.rotation=t.Util._getRotation(re.rotation),re}}t.Transform=n;const r="[object Array]",i="[object Number]",s="[object String]",l="[object Boolean]",u=Math.PI/180,d=180/Math.PI,m="#",w="",C="0",S="Konva warning: ",_="Konva error: ",k="rgb(",R={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},O=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let T=[];const j=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(x){setTimeout(x,60)};t.Util={_isElement(x){return!!(x&&x.nodeType==1)},_isFunction(x){return!!(x&&x.constructor&&x.call&&x.apply)},_isPlainObject(x){return!!x&&x.constructor===Object},_isArray(x){return Object.prototype.toString.call(x)===r},_isNumber(x){return Object.prototype.toString.call(x)===i&&!isNaN(x)&&isFinite(x)},_isString(x){return Object.prototype.toString.call(x)===s},_isBoolean(x){return Object.prototype.toString.call(x)===l},isObject(x){return x instanceof Object},isValidSelector(x){if(typeof x!="string")return!1;const N=x[0];return N==="#"||N==="."||N===N.toUpperCase()},_sign(x){return x===0||x>0?1:-1},requestAnimFrame(x){T.push(x),T.length===1&&j(function(){const N=T;T=[],N.forEach(function(D){D()})})},createCanvasElement(){const x=document.createElement("canvas");try{x.style=x.style||{}}catch{}return x},createImageElement(){return document.createElement("img")},_isInDocument(x){for(;x=x.parentNode;)if(x==document)return!0;return!1},_urlToImage(x,N){const D=t.Util.createImageElement();D.onload=function(){N(D)},D.src=x},_rgbToHex(x,N,D){return((1<<24)+(x<<16)+(N<<8)+D).toString(16).slice(1)},_hexToRgb(x){x=x.replace(m,w);const N=parseInt(x,16);return{r:N>>16&255,g:N>>8&255,b:N&255}},getRandomColor(){let x=(Math.random()*16777215<<0).toString(16);for(;x.length<6;)x=C+x;return m+x},getRGB(x){let N;return x in R?(N=R[x],{r:N[0],g:N[1],b:N[2]}):x[0]===m?this._hexToRgb(x.substring(1)):x.substr(0,4)===k?(N=O.exec(x.replace(/ /g,"")),{r:parseInt(N[1],10),g:parseInt(N[2],10),b:parseInt(N[3],10)}):{r:0,g:0,b:0}},colorToRGBA(x){return x=x||"black",t.Util._namedColorToRBA(x)||t.Util._hex3ColorToRGBA(x)||t.Util._hex4ColorToRGBA(x)||t.Util._hex6ColorToRGBA(x)||t.Util._hex8ColorToRGBA(x)||t.Util._rgbColorToRGBA(x)||t.Util._rgbaColorToRGBA(x)||t.Util._hslColorToRGBA(x)},_namedColorToRBA(x){const N=R[x.toLowerCase()];return N?{r:N[0],g:N[1],b:N[2],a:1}:null},_rgbColorToRGBA(x){if(x.indexOf("rgb(")===0){x=x.match(/rgb\(([^)]+)\)/)[1];const N=x.split(/ *, */).map(Number);return{r:N[0],g:N[1],b:N[2],a:1}}},_rgbaColorToRGBA(x){if(x.indexOf("rgba(")===0){x=x.match(/rgba\(([^)]+)\)/)[1];const N=x.split(/ *, */).map((D,M)=>D.slice(-1)==="%"?M===3?parseInt(D)/100:parseInt(D)/100*255:Number(D));return{r:N[0],g:N[1],b:N[2],a:N[3]}}},_hex8ColorToRGBA(x){if(x[0]==="#"&&x.length===9)return{r:parseInt(x.slice(1,3),16),g:parseInt(x.slice(3,5),16),b:parseInt(x.slice(5,7),16),a:parseInt(x.slice(7,9),16)/255}},_hex6ColorToRGBA(x){if(x[0]==="#"&&x.length===7)return{r:parseInt(x.slice(1,3),16),g:parseInt(x.slice(3,5),16),b:parseInt(x.slice(5,7),16),a:1}},_hex4ColorToRGBA(x){if(x[0]==="#"&&x.length===5)return{r:parseInt(x[1]+x[1],16),g:parseInt(x[2]+x[2],16),b:parseInt(x[3]+x[3],16),a:parseInt(x[4]+x[4],16)/255}},_hex3ColorToRGBA(x){if(x[0]==="#"&&x.length===4)return{r:parseInt(x[1]+x[1],16),g:parseInt(x[2]+x[2],16),b:parseInt(x[3]+x[3],16),a:1}},_hslColorToRGBA(x){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(x)){const[N,...D]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(x),M=Number(D[0])/360,V=Number(D[1])/100,F=Number(D[2])/100;let ne,W,re;if(V===0)return re=F*255,{r:Math.round(re),g:Math.round(re),b:Math.round(re),a:1};F<.5?ne=F*(1+V):ne=F+V-F*V;const oe=2*F-ne,ge=[0,0,0];for(let Oe=0;Oe<3;Oe++)W=M+1/3*-(Oe-1),W<0&&W++,W>1&&W--,6*W<1?re=oe+(ne-oe)*6*W:2*W<1?re=ne:3*W<2?re=oe+(ne-oe)*(2/3-W)*6:re=oe,ge[Oe]=re*255;return{r:Math.round(ge[0]),g:Math.round(ge[1]),b:Math.round(ge[2]),a:1}}},haveIntersection(x,N){return!(N.x>x.x+x.width||N.x+N.width<x.x||N.y>x.y+x.height||N.y+N.height<x.y)},cloneObject(x){const N={};for(const D in x)this._isPlainObject(x[D])?N[D]=this.cloneObject(x[D]):this._isArray(x[D])?N[D]=this.cloneArray(x[D]):N[D]=x[D];return N},cloneArray(x){return x.slice(0)},degToRad(x){return x*u},radToDeg(x){return x*d},_degToRad(x){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(x)},_radToDeg(x){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(x)},_getRotation(x){return e.Konva.angleDeg?t.Util.radToDeg(x):x},_capitalize(x){return x.charAt(0).toUpperCase()+x.slice(1)},throw(x){throw new Error(_+x)},error(x){console.error(_+x)},warn(x){e.Konva.showWarnings&&console.warn(S+x)},each(x,N){for(const D in x)N(D,x[D])},_inRange(x,N,D){return N<=x&&x<D},_getProjectionToSegment(x,N,D,M,V,F){let ne,W,re;const oe=(x-D)*(x-D)+(N-M)*(N-M);if(oe==0)ne=x,W=N,re=(V-D)*(V-D)+(F-M)*(F-M);else{const ge=((V-x)*(D-x)+(F-N)*(M-N))/oe;ge<0?(ne=x,W=N,re=(x-V)*(x-V)+(N-F)*(N-F)):ge>1?(ne=D,W=M,re=(D-V)*(D-V)+(M-F)*(M-F)):(ne=x+ge*(D-x),W=N+ge*(M-N),re=(ne-V)*(ne-V)+(W-F)*(W-F))}return[ne,W,re]},_getProjectionToLine(x,N,D){const M=t.Util.cloneObject(x);let V=Number.MAX_VALUE;return N.forEach(function(F,ne){if(!D&&ne===N.length-1)return;const W=N[(ne+1)%N.length],re=t.Util._getProjectionToSegment(F.x,F.y,W.x,W.y,x.x,x.y),oe=re[0],ge=re[1],Oe=re[2];Oe<V&&(M.x=oe,M.y=ge,V=Oe)}),M},_prepareArrayForTween(x,N,D){const M=[],V=[];if(x.length>N.length){const ne=N;N=x,x=ne}for(let ne=0;ne<x.length;ne+=2)M.push({x:x[ne],y:x[ne+1]});for(let ne=0;ne<N.length;ne+=2)V.push({x:N[ne],y:N[ne+1]});const F=[];return V.forEach(function(ne){const W=t.Util._getProjectionToLine(ne,M,D);F.push(W.x),F.push(W.y)}),F},_prepareToStringify(x){let N;x.visitedByCircularReferenceRemoval=!0;for(const D in x)if(x.hasOwnProperty(D)&&x[D]&&typeof x[D]=="object"){if(N=Object.getOwnPropertyDescriptor(x,D),x[D].visitedByCircularReferenceRemoval||t.Util._isElement(x[D]))if(N.configurable)delete x[D];else return null;else if(t.Util._prepareToStringify(x[D])===null)if(N.configurable)delete x[D];else return null}return delete x.visitedByCircularReferenceRemoval,x},_assign(x,N){for(const D in N)x[D]=N[D];return x},_getFirstPointerId(x){return x.touches?x.changedTouches[0].identifier:x.pointerId||999},releaseCanvas(...x){e.Konva.releaseCanvasOnDestroy&&x.forEach(N=>{N.width=0,N.height=0})},drawRoundedRectPath(x,N,D,M){let V=0,F=0,ne=0,W=0;typeof M=="number"?V=F=ne=W=Math.min(M,N/2,D/2):(V=Math.min(M[0]||0,N/2,D/2),F=Math.min(M[1]||0,N/2,D/2),W=Math.min(M[2]||0,N/2,D/2),ne=Math.min(M[3]||0,N/2,D/2)),x.moveTo(V,0),x.lineTo(N-F,0),x.arc(N-F,F,F,Math.PI*3/2,0,!1),x.lineTo(N,D-W),x.arc(N-W,D-W,W,0,Math.PI/2,!1),x.lineTo(ne,D),x.arc(ne,D-ne,ne,Math.PI/2,Math.PI,!1),x.lineTo(0,V),x.arc(V,V,V,Math.PI,Math.PI*3/2,!1)}}})(rn);var Zt={},Hi={},Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.HitContext=Zs.SceneContext=Zs.Context=void 0;const V6=rn,$C=ft;function qC(t){const e=[],n=t.length,r=V6.Util;for(let i=0;i<n;i++){let s=t[i];r._isNumber(s)?s=Math.round(s*1e3)/1e3:r._isString(s)||(s=s+""),e.push(s)}return e}const q5=",",QC="(",YC=")",XC="([",ZC="])",JC=";",eE="()",tE="=",Q5=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],nE=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],rE=100;class C0{constructor(e){this.canvas=e,$C.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,i=r.length,s="",l,u,d,m;for(l=0;l<i;l++)u=r[l],d=u.method,d?(m=u.args,s+=d,e?s+=eE:V6.Util._isArray(m[0])?s+=XC+m.join(q5)+ZC:(n&&(m=m.map(w=>typeof w=="number"?Math.floor(w):w)),s+=QC+m.join(q5)+YC)):(s+=u.property,e||(s+=tE+u.val)),s+=JC;return s}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=rE&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,s,l){this._context.arc(e,n,r,i,s,l)}arcTo(e,n,r,i,s){this._context.arcTo(e,n,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,s,l){this._context.bezierCurveTo(e,n,r,i,s,l)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,s,l){return this._context.createRadialGradient(e,n,r,i,s,l)}drawImage(e,n,r,i,s,l,u,d,m){const w=arguments,C=this._context;w.length===3?C.drawImage(e,n,r):w.length===5?C.drawImage(e,n,r,i,s):w.length===9&&C.drawImage(e,n,r,i,s,l,u,d,m)}ellipse(e,n,r,i,s,l,u,d){this._context.ellipse(e,n,r,i,s,l,u,d)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}roundRect(e,n,r,i,s){this._context.roundRect(e,n,r,i,s)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,s,l){this._context.setTransform(e,n,r,i,s,l)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,s,l){this._context.transform(e,n,r,i,s,l)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=Q5.length,r=this.setAttr,i,s;const l=function(u){let d=e[u],m;e[u]=function(){return s=qC(Array.prototype.slice.call(arguments,0)),m=d.apply(e,arguments),e._trace({method:u,args:s}),m}};for(i=0;i<n;i++)l(Q5[i]);e.setAttr=function(){r.apply(e,arguments);const u=arguments[0];let d=arguments[1];(u==="shadowOffsetX"||u==="shadowOffsetY"||u==="shadowBlur")&&(d=d/this.canvas.getPixelRatio()),e._trace({property:u,val:d})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}Zs.Context=C0;nE.forEach(function(t){Object.defineProperty(C0.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class iE extends C0{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}const s=e.getFillLinearGradientColorStops();if(s&&r==="linear-gradient"){this._fillLinearGradient(e);return}const l=e.getFillRadialGradientColorStops();if(l&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):s?this._fillLinearGradient(e):l&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(let l=0;l<i.length;l+=2)s.addColorStop(i[l],i[l+1]);this.setAttr("strokeStyle",s)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i;const s=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",l=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,u=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},d=e.getAbsoluteScale(),m=this.canvas.getPixelRatio(),w=d.x*m,C=d.y*m;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",l*Math.min(Math.abs(w),Math.abs(C))),this.setAttr("shadowOffsetX",u.x*w),this.setAttr("shadowOffsetY",u.y*C)}}Zs.SceneContext=iE;class sE extends C0{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}Zs.HitContext=sE;Object.defineProperty(Hi,"__esModule",{value:!0});Hi.HitCanvas=Hi.SceneCanvas=Hi.Canvas=void 0;const $f=rn,W6=Zs,H6=ft;let Kh;function aE(){if(Kh)return Kh;const t=$f.Util.createCanvasElement(),e=t.getContext("2d");return Kh=function(){const n=H6.Konva._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r}(),$f.Util.releaseCanvas(t),Kh}class Ay{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||H6.Konva.pixelRatio||aE();this.pixelRatio=r,this._canvas=$f.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return $f.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Hi.Canvas=Ay;class oE extends Ay{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new W6.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}Hi.SceneCanvas=oE;class lE extends Ay{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new W6.HitContext(this),this.setSize(e.width,e.height)}}Hi.HitCanvas=lE;var E0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=ft,n=rn;t.DD={get isDragging(){let r=!1;return t.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){let r;return t.DD._dragElements.forEach(i=>{r=i.node}),r},_dragElements:new Map,_drag(r){const i=[];t.DD._dragElements.forEach((s,l)=>{const{node:u}=s,d=u.getStage();d.setPointersPositions(r),s.pointerId===void 0&&(s.pointerId=n.Util._getFirstPointerId(r));const m=d._changedPointerPositions.find(w=>w.id===s.pointerId);if(m){if(s.dragStatus!=="dragging"){const w=u.dragDistance();if(Math.max(Math.abs(m.x-s.startPointerPos.x),Math.abs(m.y-s.startPointerPos.y))<w||(u.startDrag({evt:r}),!u.isDragging()))return}u._setDragPosition(r,s),i.push(u)}}),i.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:r},!0)})},_endDragBefore(r){const i=[];t.DD._dragElements.forEach(s=>{const{node:l}=s,u=l.getStage();if(r&&u.setPointersPositions(r),!u._changedPointerPositions.find(w=>w.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,s.dragStatus="stopped");const m=s.node.getLayer()||s.node instanceof e.Konva.Stage&&s.node;m&&i.indexOf(m)===-1&&i.push(m)}),i.forEach(s=>{s.draw()})},_endDragAfter(r){t.DD._dragElements.forEach((i,s)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:r},!0),i.dragStatus!=="dragging"&&t.DD._dragElements.delete(s)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))})(E0);var vt={},et={};Object.defineProperty(et,"__esModule",{value:!0});et.RGBComponent=uE;et.alphaComponent=cE;et.getNumberValidator=dE;et.getNumberOrArrayOfNumbersValidator=hE;et.getNumberOrAutoValidator=fE;et.getStringValidator=pE;et.getStringOrGradientValidator=mE;et.getFunctionValidator=gE;et.getNumberArrayValidator=yE;et.getBooleanValidator=vE;et.getComponentValidator=xE;const sa=ft,cn=rn;function aa(t){return cn.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||cn.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function uE(t){return t>255?255:t<0?0:Math.round(t)}function cE(t){return t>1?1:t<1e-4?1e-4:t}function dE(){if(sa.Konva.isUnminified)return function(t,e){return cn.Util._isNumber(t)||cn.Util.warn(aa(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function hE(t){if(sa.Konva.isUnminified)return function(e,n){let r=cn.Util._isNumber(e),i=cn.Util._isArray(e)&&e.length==t;return!r&&!i&&cn.Util.warn(aa(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function fE(){if(sa.Konva.isUnminified)return function(t,e){return cn.Util._isNumber(t)||t==="auto"||cn.Util.warn(aa(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function pE(){if(sa.Konva.isUnminified)return function(t,e){return cn.Util._isString(t)||cn.Util.warn(aa(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function mE(){if(sa.Konva.isUnminified)return function(t,e){const n=cn.Util._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||cn.Util.warn(aa(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function gE(){if(sa.Konva.isUnminified)return function(t,e){return cn.Util._isFunction(t)||cn.Util.warn(aa(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}function yE(){if(sa.Konva.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(cn.Util._isArray(t)?t.forEach(function(r){cn.Util._isNumber(r)||cn.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):cn.Util.warn(aa(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function vE(){if(sa.Konva.isUnminified)return function(t,e){return t===!0||t===!1||cn.Util.warn(aa(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function xE(t){if(sa.Konva.isUnminified)return function(e,n){return e==null||cn.Util.isObject(e)||cn.Util.warn(aa(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=rn,n=et,r="get",i="set";t.Factory={addGetterSetter(s,l,u,d,m){t.Factory.addGetter(s,l,u),t.Factory.addSetter(s,l,d,m),t.Factory.addOverloadedGetterSetter(s,l)},addGetter(s,l,u){const d=r+e.Util._capitalize(l);s.prototype[d]=s.prototype[d]||function(){const m=this.attrs[l];return m===void 0?u:m}},addSetter(s,l,u,d){const m=i+e.Util._capitalize(l);s.prototype[m]||t.Factory.overWriteSetter(s,l,u,d)},overWriteSetter(s,l,u,d){const m=i+e.Util._capitalize(l);s.prototype[m]=function(w){return u&&w!==void 0&&w!==null&&(w=u.call(this,w,l)),this._setAttr(l,w),d&&d.call(this),this}},addComponentsGetterSetter(s,l,u,d,m){const w=u.length,C=e.Util._capitalize,S=r+C(l),_=i+C(l);s.prototype[S]=function(){const R={};for(let O=0;O<w;O++){const T=u[O];R[T]=this.getAttr(l+C(T))}return R};const k=(0,n.getComponentValidator)(u);s.prototype[_]=function(R){const O=this.attrs[l];d&&(R=d.call(this,R,l)),k&&k.call(this,R,l);for(const T in R)R.hasOwnProperty(T)&&this._setAttr(l+C(T),R[T]);return R||u.forEach(T=>{this._setAttr(l+C(T),void 0)}),this._fireChangeEvent(l,O,R),m&&m.call(this),this},t.Factory.addOverloadedGetterSetter(s,l)},addOverloadedGetterSetter(s,l){const u=e.Util._capitalize(l),d=i+u,m=r+u;s.prototype[l]=function(){return arguments.length?(this[d](arguments[0]),this):this[m]()}},addDeprecatedGetterSetter(s,l,u,d){e.Util.error("Adding deprecated "+l);const m=r+e.Util._capitalize(l),w=l+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[m]=function(){e.Util.error(w);const C=this.attrs[l];return C===void 0?u:C},t.Factory.addSetter(s,l,d,function(){e.Util.error(w)}),t.Factory.addOverloadedGetterSetter(s,l)},backCompat(s,l){e.Util.each(l,function(u,d){const m=s.prototype[d],w=r+e.Util._capitalize(u),C=i+e.Util._capitalize(u);function S(){m.apply(this,arguments),e.Util.error('"'+u+'" method is deprecated and will be removed soon. Use ""'+d+'" instead.')}s.prototype[u]=S,s.prototype[w]=S,s.prototype[C]=S})},afterSetFilter(){this._filterUpToDate=!1}}})(vt);Object.defineProperty(Zt,"__esModule",{value:!0});Zt.Node=void 0;const su=Hi,pi=E0,Ld=vt,Ma=ft,bt=rn,xn=et,df="absoluteOpacity",$h="allEventListeners",Ws="absoluteTransform",Y5="absoluteScale",Xo="canvas",wE="Change",_E="children",SE="konva",v1="listening",bE="mouseenter",kE="mouseleave",CE="pointerenter",EE="pointerleave",NE="touchenter",PE="touchleave",X5="set",Z5="Shape",hf=" ",J5="stage",La="transform",TE="Stage",x1="visible",jE=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(hf);let RE=1;class it{constructor(e){this._id=RE++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===La||e===Ws)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===La||e===Ws)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(s=>s+"Change.konva").join(hf);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Xo)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Ws&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Xo)){const{scene:e,filter:n,hit:r,buffer:i}=this._cache.get(Xo);bt.Util.releaseCanvas(e,n,r,i),this._cache.delete(Xo)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||r.width),s=Math.ceil(n.height||r.height),l=n.pixelRatio,u=n.x===void 0?Math.floor(r.x):n.x,d=n.y===void 0?Math.floor(r.y):n.y,m=n.offset||0,w=n.drawBorder||!1,C=n.hitCanvasPixelRatio||1;if(!i||!s){bt.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const S=Math.abs(Math.round(r.x)-u)>.5?1:0,_=Math.abs(Math.round(r.y)-d)>.5?1:0;i+=m*2+S,s+=m*2+_,u-=m,d-=m;const k=new su.SceneCanvas({pixelRatio:l,width:i,height:s}),R=new su.SceneCanvas({pixelRatio:l,width:0,height:0,willReadFrequently:!0}),O=new su.HitCanvas({pixelRatio:C,width:i,height:s}),T=k.getContext(),j=O.getContext(),x=new su.SceneCanvas({width:k.width/k.pixelRatio+Math.abs(u),height:k.height/k.pixelRatio+Math.abs(d),pixelRatio:k.pixelRatio}),N=x.getContext();return O.isCache=!0,k.isCache=!0,this._cache.delete(Xo),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(k.getContext()._context.imageSmoothingEnabled=!1,R.getContext()._context.imageSmoothingEnabled=!1),T.save(),j.save(),N.save(),T.translate(-u,-d),j.translate(-u,-d),N.translate(-u,-d),x.x=u,x.y=d,this._isUnderCache=!0,this._clearSelfAndDescendantCache(df),this._clearSelfAndDescendantCache(Y5),this.drawScene(k,this,x),this.drawHit(O,this),this._isUnderCache=!1,T.restore(),j.restore(),w&&(T.save(),T.beginPath(),T.rect(0,0,i,s),T.closePath(),T.setAttr("strokeStyle","red"),T.setAttr("lineWidth",5),T.stroke(),T.restore()),this._cache.set(Xo,{scene:k,filter:R,hit:O,buffer:x,x:u,y:d}),this._requestDraw(),this}isCached(){return this._cache.has(Xo)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,s=1/0,l=-1/0,u=-1/0;const d=this.getAbsoluteTransform(n);return r.forEach(function(m){const w=d.point(m);i===void 0&&(i=l=w.x,s=u=w.y),i=Math.min(i,w.x),s=Math.min(s,w.y),l=Math.max(l,w.x),u=Math.max(u,w.y)}),{x:i,y:s,width:l-i,height:u-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,s=i.getContext(),l,u,d,m;if(e){if(!this._filterUpToDate){const w=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(l=e.length,s.clear(),s.drawImage(r._canvas,0,0,r.getWidth()/w,r.getHeight()/w),u=s.getImageData(0,0,i.getWidth(),i.getHeight()),d=0;d<l;d++){if(m=e[d],typeof m!="function"){bt.Util.error("Filter should be type of function, but got "+typeof m+" instead. Please check correct filters");continue}m.call(this,u),s.putImageData(u,0,0)}}catch(C){bt.Util.error("Unable to apply filter. "+C.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,n){if(this._cache&&this._cache.delete($h),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(hf);for(let i=0;i<r.length;i++){const l=r[i].split("."),u=l[0],d=l[1]||"";this.eventListeners[u]||(this.eventListeners[u]=[]),this.eventListeners[u].push({name:d,handler:n})}return this}off(e,n){let r=(e||"").split(hf),i=r.length,s,l,u,d,m,w;if(this._cache&&this._cache.delete($h),!e)for(l in this.eventListeners)this._off(l);for(s=0;s<i;s++)if(u=r[s],d=u.split("."),m=d[0],w=d[1],m)this.eventListeners[m]&&this._off(m,w,n);else for(l in this.eventListeners)this._off(l,w,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const i=this;this.on(e,function(s){const l=s.target.findAncestors(n,!0,i);for(let u=0;u<l.length;u++)s=bt.Util.cloneObject(s),s.currentTarget=l[u],r.call(l[u],s)})}remove(){return this.isDragging()&&this.stopDrag(),pi.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Ws),this._clearSelfAndDescendantCache(df),this._clearSelfAndDescendantCache(Y5),this._clearSelfAndDescendantCache(J5),this._clearSelfAndDescendantCache(x1),this._clearSelfAndDescendantCache(v1)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+bt.Util._capitalize(e);return bt.Util._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==_E&&(r=X5+bt.Util._capitalize(n),bt.Util._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(v1,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(x1,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let i=!1;pi.DD._dragElements.forEach(l=>{l.dragStatus==="dragging"&&(l.node.nodeType==="Stage"||l.node.getLayer()===r)&&(i=!0)});const s=!n&&!Ma.Konva.hitOnDragEnabled&&(i||Ma.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,i,s,l,u;function d(w){for(i=[],s=w.length,l=0;l<s;l++)u=w[l],r++,u.nodeType!==Z5&&(i=i.concat(u.getChildren().slice())),u._id===n._id&&(l=s);i.length>0&&i[0].getDepth()<=e&&d(i)}const m=this.getStage();return n.nodeType!==TE&&m&&d(m.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(La),this._clearSelfAndDescendantCache(Ws)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),s=new bt.Transform,l=this.offset();return s.m=i.slice(),s.translate(l.x,l.y),s.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(La);const s=this._getAbsoluteTransform().copy();return s.invert(),s.translate(e.x,e.y),e={x:this.attrs.x+s.getTranslation().x,y:this.attrs.y+s.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(La),this._clearSelfAndDescendantCache(Ws),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,i=this.x(),s=this.y();return n!==void 0&&(i+=n),r!==void 0&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,n){let r=[],i=this.getParent(),s,l;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(s=r.length,l=0;l<s;l++)e(r[l])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return bt.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return bt.Util.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return bt.Util.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return bt.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return bt.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&bt.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(df,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,i,s,l;const u={attrs:{},className:this.getClassName()};for(n in e)r=e[n],l=bt.Util.isObject(r)&&!bt.Util._isPlainObject(r)&&!bt.Util._isArray(r),!l&&(i=typeof this[n]=="function"&&this[n],delete e[n],s=i?i.call(this):null,e[n]=r,s!==r&&(u.attrs[n]=r));return bt.Util._prepareToStringify(u)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const i=[];n&&this._isMatch(e)&&i.push(this);let s=this.parent;for(;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,i,s;for(i=0;i<r;i++)if(s=n[i],bt.Util.isValidSelector(s)||(bt.Util.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),bt.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),bt.Util.warn("Konva is awesome, right?")),s.charAt(0)==="#"){if(this.id()===s.slice(1))return!0}else if(s.charAt(0)==="."){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(J5,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Ws,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new bt.Transform,this._eachAncestorReverse(function(r){const i=r.transformsEnabled();i==="all"?n.multiply(r.getTransform()):i==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(Ws)||new bt.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,s=this.attrs.y||0,l=this.attrs.offsetX||0,u=this.attrs.offsetY||0;n.translate(i-l,s-u)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(La,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(La)||new bt.Transform;r.reset();const i=this.x(),s=this.y(),l=Ma.Konva.getAngle(this.rotation()),u=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,d=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,m=this.attrs.skewX||0,w=this.attrs.skewY||0,C=this.attrs.offsetX||0,S=this.attrs.offsetY||0;return(i!==0||s!==0)&&r.translate(i,s),l!==0&&r.rotate(l),(m!==0||w!==0)&&r.skew(m,w),(u!==1||d!==1)&&r.scale(u,d),(C!==0||S!==0)&&r.translate(-1*C,-1*S),r.dirty=!1,r}clone(e){let n=bt.Util.cloneObject(this.attrs),r,i,s,l,u;for(r in e)n[r]=e[r];const d=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],s=i.length,l=0;l<s;l++)u=i[l],u.name.indexOf(SE)<0&&(d.eventListeners[r]||(d.eventListeners[r]=[]),d.eventListeners[r].push(u));return d}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),s=e.y!==void 0?e.y:Math.floor(n.y),l=e.pixelRatio||1,u=new su.SceneCanvas({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:l}),d=u.getContext(),m=new su.SceneCanvas({width:u.width/u.pixelRatio+Math.abs(i),height:u.height/u.pixelRatio+Math.abs(s),pixelRatio:u.pixelRatio});return e.imageSmoothingEnabled===!1&&(d._context.imageSmoothingEnabled=!1),d.save(),(i||s)&&d.translate(-1*i,-1*s),this.drawScene(u,void 0,m),d.restore(),u}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,bt.Util._urlToImage(this.toDataURL(e),function(s){n(s),i==null||i(s)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),i==null||i(s)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Ma.Konva.dragDistance}_off(e,n,r){let i=this.eventListeners[e],s,l,u;for(s=0;s<i.length;s++)if(l=i[s].name,u=i[s].handler,(l!=="konva"||n==="konva")&&(!n||l===n)&&(!r||r===u)){if(i.splice(s,1),i.length===0){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,r){this._fire(e+wE,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[X5+bt.Util._capitalize(e)];return bt.Util._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Ma.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!bt.Util.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){n&&this.nodeType===Z5&&(n.target=this);const i=[bE,kE,CE,EE,NE,PE];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const l=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!l&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,i;const s=(n=this._cache.get($h))!==null&&n!==void 0?n:{};let l=s==null?void 0:s[e];if(l===void 0){l=[];let u=Object.getPrototypeOf(this);for(;u;){const d=(i=(r=u.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];l.push(...d),u=Object.getPrototypeOf(u)}s[e]=l,this._cache.set($h,s)}return l}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let s=0;s<r.length;s++)r[s].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let s=0;s<i.length;s++)i[s].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;const s=r._getPointerById(n)||r._changedPointerPositions[0]||i;pi.DD._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){pi.DD._dragElements.has(this._id)||this._createDragElement(e);const r=pi.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let i={x:r.x-n.offset.x,y:r.y-n.offset.y};const s=this.dragBoundFunc();if(s!==void 0){const l=s.call(this,i,e);l?i=l:bt.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=pi.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),pi.DD._endDragBefore(e),pi.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=pi.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Ma.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;pi.DD._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=pi.DD._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&pi.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return bt.Util.haveIntersection(r,this.getClientRect())}static create(e,n){return bt.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=it.prototype.getClassName.call(e),i=e.children,s,l,u;n&&(e.attrs.container=n),Ma.Konva[r]||(bt.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const d=Ma.Konva[r];if(s=new d(e.attrs),i)for(l=i.length,u=0;u<l;u++)s.add(it._createNode(i[u]));return s}}Zt.Node=it;it.prototype.nodeType="Node";it.prototype._attrsAffectingSize=[];it.prototype.eventListeners={};it.prototype.on.call(it.prototype,jE,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(La),this._clearSelfAndDescendantCache(Ws)});it.prototype.on.call(it.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(x1)});it.prototype.on.call(it.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(v1)});it.prototype.on.call(it.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(df)});const Gt=Ld.Factory.addGetterSetter;Gt(it,"zIndex");Gt(it,"absolutePosition");Gt(it,"position");Gt(it,"x",0,(0,xn.getNumberValidator)());Gt(it,"y",0,(0,xn.getNumberValidator)());Gt(it,"globalCompositeOperation","source-over",(0,xn.getStringValidator)());Gt(it,"opacity",1,(0,xn.getNumberValidator)());Gt(it,"name","",(0,xn.getStringValidator)());Gt(it,"id","",(0,xn.getStringValidator)());Gt(it,"rotation",0,(0,xn.getNumberValidator)());Ld.Factory.addComponentsGetterSetter(it,"scale",["x","y"]);Gt(it,"scaleX",1,(0,xn.getNumberValidator)());Gt(it,"scaleY",1,(0,xn.getNumberValidator)());Ld.Factory.addComponentsGetterSetter(it,"skew",["x","y"]);Gt(it,"skewX",0,(0,xn.getNumberValidator)());Gt(it,"skewY",0,(0,xn.getNumberValidator)());Ld.Factory.addComponentsGetterSetter(it,"offset",["x","y"]);Gt(it,"offsetX",0,(0,xn.getNumberValidator)());Gt(it,"offsetY",0,(0,xn.getNumberValidator)());Gt(it,"dragDistance",void 0,(0,xn.getNumberValidator)());Gt(it,"width",0,(0,xn.getNumberValidator)());Gt(it,"height",0,(0,xn.getNumberValidator)());Gt(it,"listening",!0,(0,xn.getBooleanValidator)());Gt(it,"preventDefault",!0,(0,xn.getBooleanValidator)());Gt(it,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Gt(it,"visible",!0,(0,xn.getBooleanValidator)());Gt(it,"transformsEnabled","all",(0,xn.getStringValidator)());Gt(it,"size");Gt(it,"dragBoundFunc");Gt(it,"draggable",!1,(0,xn.getBooleanValidator)());Ld.Factory.backCompat(it,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.Container=void 0;const ic=vt,Mm=Zt,N0=et;class El extends Mm.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!!(s&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=Mm.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=Mm.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas(),l=s&&s.getContext(),u=this._getCanvasCache(),d=u&&u.scene,m=s&&s.isCache;if(!this.isVisible()&&!m)return this;if(d){l.save();const w=this.getAbsoluteTransform(n).getMatrix();l.transform(w[0],w[1],w[2],w[3],w[4],w[5]),this._drawCachedSceneCanvas(l),l.restore()}else this._drawChildren("drawScene",s,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),l=this._getCanvasCache();if(l&&l.hit){s.save();const d=this.getAbsoluteTransform(n).getMatrix();s.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r,i){var s;const l=n&&n.getContext(),u=this.clipWidth(),d=this.clipHeight(),m=this.clipFunc(),w=typeof u=="number"&&typeof d=="number"||m,C=r===this;if(w){l.save();const _=this.getAbsoluteTransform(r);let k=_.getMatrix();l.transform(k[0],k[1],k[2],k[3],k[4],k[5]),l.beginPath();let R;if(m)R=m.call(this,l,this);else{const O=this.clipX(),T=this.clipY();l.rect(O||0,T||0,u,d)}l.clip.apply(l,R),k=_.copy().invert().getMatrix(),l.transform(k[0],k[1],k[2],k[3],k[4],k[5])}const S=!C&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";S&&(l.save(),l._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(_){_[e](n,r,i)}),S&&l.restore(),w&&l.restore()}getClientRect(e={}){var n;const r=e.skipTransform,i=e.relativeTo;let s,l,u,d,m={x:1/0,y:1/0,width:0,height:0};const w=this;(n=this.children)===null||n===void 0||n.forEach(function(_){if(!_.visible())return;const k=_.getClientRect({relativeTo:w,skipShadow:e.skipShadow,skipStroke:e.skipStroke});k.width===0&&k.height===0||(s===void 0?(s=k.x,l=k.y,u=k.x+k.width,d=k.y+k.height):(s=Math.min(s,k.x),l=Math.min(l,k.y),u=Math.max(u,k.x+k.width),d=Math.max(d,k.y+k.height)))});const C=this.find("Shape");let S=!1;for(let _=0;_<C.length;_++)if(C[_]._isVisible(this)){S=!0;break}return S&&s!==void 0?m={x:s,y:l,width:u-s,height:d-l}:m={x:0,y:0,width:0,height:0},r?m:this._transformedRect(m,i)}}Cl.Container=El;ic.Factory.addComponentsGetterSetter(El,"clip",["x","y","width","height"]);ic.Factory.addGetterSetter(El,"clipX",void 0,(0,N0.getNumberValidator)());ic.Factory.addGetterSetter(El,"clipY",void 0,(0,N0.getNumberValidator)());ic.Factory.addGetterSetter(El,"clipWidth",void 0,(0,N0.getNumberValidator)());ic.Factory.addGetterSetter(El,"clipHeight",void 0,(0,N0.getNumberValidator)());ic.Factory.addGetterSetter(El,"clipFunc");var K6={},yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.getCapturedShape=AE;yo.createEvent=My;yo.hasPointerCapture=ME;yo.setPointerCapture=DE;yo.releaseCapture=q6;const OE=ft,Nd=new Map,$6=OE.Konva._global.PointerEvent!==void 0;function AE(t){return Nd.get(t)}function My(t){return{evt:t,pointerId:t.pointerId}}function ME(t,e){return Nd.get(t)===e}function DE(t,e){q6(t),e.getStage()&&(Nd.set(t,e),$6&&e._fire("gotpointercapture",My(new PointerEvent("gotpointercapture"))))}function q6(t,e){const n=Nd.get(t);if(!n)return;const r=n.getStage();r&&r.content,Nd.delete(t),$6&&n._fire("lostpointercapture",My(new PointerEvent("lostpointercapture")))}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=rn,n=vt,r=Cl,i=ft,s=Hi,l=E0,u=ft,d=yo,m="Stage",w="string",C="px",S="mouseout",_="mouseleave",k="mouseover",R="mouseenter",O="mousemove",T="mousedown",j="mouseup",x="pointermove",N="pointerdown",D="pointerup",M="pointercancel",V="lostpointercapture",F="pointerout",ne="pointerleave",W="pointerover",re="pointerenter",oe="contextmenu",ge="touchstart",Oe="touchend",ke="touchmove",Ke="touchcancel",Xe="wheel",ue=5,fe=[[R,"_pointerenter"],[T,"_pointerdown"],[O,"_pointermove"],[j,"_pointerup"],[_,"_pointerleave"],[ge,"_pointerdown"],[ke,"_pointermove"],[Oe,"_pointerup"],[Ke,"_pointercancel"],[k,"_pointerover"],[Xe,"_wheel"],[oe,"_contextmenu"],[N,"_pointerdown"],[x,"_pointermove"],[D,"_pointerup"],[M,"_pointercancel"],[ne,"_pointerleave"],[V,"_lostpointercapture"]],me={mouse:{[F]:S,[ne]:_,[W]:k,[re]:R,[x]:O,[N]:T,[D]:j,[M]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[F]:"touchout",[ne]:"touchleave",[W]:"touchover",[re]:"touchenter",[x]:ke,[N]:ge,[D]:Oe,[M]:Ke,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[F]:F,[ne]:ne,[W]:W,[re]:re,[x]:x,[N]:N,[D]:D,[M]:M,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Le=pt=>pt.indexOf("pointer")>=0?"pointer":pt.indexOf("touch")>=0?"touch":"mouse",ye=pt=>{const K=Le(pt);if(K==="pointer")return i.Konva.pointerEventsEnabled&&me.pointer;if(K==="touch")return me.touch;if(K==="mouse")return me.mouse};function Be(pt={}){return(pt.clipFunc||pt.clipWidth||pt.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),pt}const Ze="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class ct extends r.Container{constructor(K){super(Be(K)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Be(this.attrs)}),this._checkVisibility()}_validateAdd(K){const ve=K.getType()==="Layer",pe=K.getType()==="FastLayer";ve||pe||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const K=this.visible()?"":"none";this.content.style.display=K}setContainer(K){if(typeof K===w){let ve;if(K.charAt(0)==="."){const pe=K.slice(1);K=document.getElementsByClassName(pe)[0]}else K.charAt(0)!=="#"?ve=K:ve=K.slice(1),K=document.getElementById(ve);if(!K)throw"Can not find container in document with id "+ve}return this._setAttr("container",K),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),K.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const K=this.children,ve=K.length;for(let pe=0;pe<ve;pe++)K[pe].clear();return this}clone(K){return K||(K={}),K.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,K)}destroy(){super.destroy();const K=this.content;K&&e.Util._isInDocument(K)&&this.container().removeChild(K);const ve=t.stages.indexOf(this);return ve>-1&&t.stages.splice(ve,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const K=this._pointerPositions[0]||this._changedPointerPositions[0];return K?{x:K.x,y:K.y}:(e.Util.warn(Ze),null)}_getPointerById(K){return this._pointerPositions.find(ve=>ve.id===K)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(K){K=K||{},K.x=K.x||0,K.y=K.y||0,K.width=K.width||this.width(),K.height=K.height||this.height();const ve=new s.SceneCanvas({width:K.width,height:K.height,pixelRatio:K.pixelRatio||1}),pe=ve.getContext()._context,xt=this.children;return(K.x||K.y)&&pe.translate(-1*K.x,-1*K.y),xt.forEach(function($e){if(!$e.isVisible())return;const He=$e._toKonvaCanvas(K);pe.drawImage(He._canvas,K.x,K.y,He.getWidth()/He.getPixelRatio(),He.getHeight()/He.getPixelRatio())}),ve}getIntersection(K){if(!K)return null;const ve=this.children,pe=ve.length,xt=pe-1;for(let $e=xt;$e>=0;$e--){const He=ve[$e].getIntersection(K);if(He)return He}return null}_resizeDOM(){const K=this.width(),ve=this.height();this.content&&(this.content.style.width=K+C,this.content.style.height=ve+C),this.bufferCanvas.setSize(K,ve),this.bufferHitCanvas.setSize(K,ve),this.children.forEach(pe=>{pe.setSize({width:K,height:ve}),pe.draw()})}add(K,...ve){if(arguments.length>1){for(let xt=0;xt<arguments.length;xt++)this.add(arguments[xt]);return this}super.add(K);const pe=this.children.length;return pe>ue&&e.Util.warn("The stage has "+pe+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),K.setSize({width:this.width(),height:this.height()}),K.draw(),i.Konva.isBrowser&&this.content.appendChild(K.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(K){return d.hasPointerCapture(K,this)}setPointerCapture(K){d.setPointerCapture(K,this)}releaseCapture(K){d.releaseCapture(K,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&fe.forEach(([K,ve])=>{this.content.addEventListener(K,pe=>{this[ve](pe)},{passive:!1})})}_pointerenter(K){this.setPointersPositions(K);const ve=ye(K.type);ve&&this._fire(ve.pointerenter,{evt:K,target:this,currentTarget:this})}_pointerover(K){this.setPointersPositions(K);const ve=ye(K.type);ve&&this._fire(ve.pointerover,{evt:K,target:this,currentTarget:this})}_getTargetShape(K){let ve=this[K+"targetShape"];return ve&&!ve.getStage()&&(ve=null),ve}_pointerleave(K){const ve=ye(K.type),pe=Le(K.type);if(!ve)return;this.setPointersPositions(K);const xt=this._getTargetShape(pe),$e=!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled;xt&&$e?(xt._fireAndBubble(ve.pointerout,{evt:K}),xt._fireAndBubble(ve.pointerleave,{evt:K}),this._fire(ve.pointerleave,{evt:K,target:this,currentTarget:this}),this[pe+"targetShape"]=null):$e&&(this._fire(ve.pointerleave,{evt:K,target:this,currentTarget:this}),this._fire(ve.pointerout,{evt:K,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(K){const ve=ye(K.type),pe=Le(K.type);if(!ve)return;this.setPointersPositions(K);let xt=!1;this._changedPointerPositions.forEach($e=>{const He=this.getIntersection($e);if(l.DD.justDragged=!1,i.Konva["_"+pe+"ListenClick"]=!0,!He||!He.isListening()){this[pe+"ClickStartShape"]=void 0;return}i.Konva.capturePointerEventsEnabled&&He.setPointerCapture($e.id),this[pe+"ClickStartShape"]=He,He._fireAndBubble(ve.pointerdown,{evt:K,pointerId:$e.id}),xt=!0;const Et=K.type.indexOf("touch")>=0;He.preventDefault()&&K.cancelable&&Et&&K.preventDefault()}),xt||this._fire(ve.pointerdown,{evt:K,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(K){const ve=ye(K.type),pe=Le(K.type);if(!ve||(i.Konva.isDragging()&&l.DD.node.preventDefault()&&K.cancelable&&K.preventDefault(),this.setPointersPositions(K),!(!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled)))return;const $e={};let He=!1;const Et=this._getTargetShape(pe);this._changedPointerPositions.forEach(kr=>{const wt=d.getCapturedShape(kr.id)||this.getIntersection(kr),Wr=kr.id,dr={evt:K,pointerId:Wr},Cr=Et!==wt;if(Cr&&Et&&(Et._fireAndBubble(ve.pointerout,{...dr},wt),Et._fireAndBubble(ve.pointerleave,{...dr},wt)),wt){if($e[wt._id])return;$e[wt._id]=!0}wt&&wt.isListening()?(He=!0,Cr&&(wt._fireAndBubble(ve.pointerover,{...dr},Et),wt._fireAndBubble(ve.pointerenter,{...dr},Et),this[pe+"targetShape"]=wt),wt._fireAndBubble(ve.pointermove,{...dr})):Et&&(this._fire(ve.pointerover,{evt:K,target:this,currentTarget:this,pointerId:Wr}),this[pe+"targetShape"]=null)}),He||this._fire(ve.pointermove,{evt:K,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(K){const ve=ye(K.type),pe=Le(K.type);if(!ve)return;this.setPointersPositions(K);const xt=this[pe+"ClickStartShape"],$e=this[pe+"ClickEndShape"],He={};let Et=!1;this._changedPointerPositions.forEach(kr=>{const wt=d.getCapturedShape(kr.id)||this.getIntersection(kr);if(wt){if(wt.releaseCapture(kr.id),He[wt._id])return;He[wt._id]=!0}const Wr=kr.id,dr={evt:K,pointerId:Wr};let Cr=!1;i.Konva["_"+pe+"InDblClickWindow"]?(Cr=!0,clearTimeout(this[pe+"DblTimeout"])):l.DD.justDragged||(i.Konva["_"+pe+"InDblClickWindow"]=!0,clearTimeout(this[pe+"DblTimeout"])),this[pe+"DblTimeout"]=setTimeout(function(){i.Konva["_"+pe+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),wt&&wt.isListening()?(Et=!0,this[pe+"ClickEndShape"]=wt,wt._fireAndBubble(ve.pointerup,{...dr}),i.Konva["_"+pe+"ListenClick"]&&xt&&xt===wt&&(wt._fireAndBubble(ve.pointerclick,{...dr}),Cr&&$e&&$e===wt&&wt._fireAndBubble(ve.pointerdblclick,{...dr}))):(this[pe+"ClickEndShape"]=null,i.Konva["_"+pe+"ListenClick"]&&this._fire(ve.pointerclick,{evt:K,target:this,currentTarget:this,pointerId:Wr}),Cr&&this._fire(ve.pointerdblclick,{evt:K,target:this,currentTarget:this,pointerId:Wr}))}),Et||this._fire(ve.pointerup,{evt:K,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+pe+"ListenClick"]=!1,K.cancelable&&pe!=="touch"&&pe!=="pointer"&&K.preventDefault()}_contextmenu(K){this.setPointersPositions(K);const ve=this.getIntersection(this.getPointerPosition());ve&&ve.isListening()?ve._fireAndBubble(oe,{evt:K}):this._fire(oe,{evt:K,target:this,currentTarget:this})}_wheel(K){this.setPointersPositions(K);const ve=this.getIntersection(this.getPointerPosition());ve&&ve.isListening()?ve._fireAndBubble(Xe,{evt:K}):this._fire(Xe,{evt:K,target:this,currentTarget:this})}_pointercancel(K){this.setPointersPositions(K);const ve=d.getCapturedShape(K.pointerId)||this.getIntersection(this.getPointerPosition());ve&&ve._fireAndBubble(D,d.createEvent(K)),d.releaseCapture(K.pointerId)}_lostpointercapture(K){d.releaseCapture(K.pointerId)}setPointersPositions(K){const ve=this._getContentPosition();let pe=null,xt=null;K=K||window.event,K.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(K.touches,$e=>{this._pointerPositions.push({id:$e.identifier,x:($e.clientX-ve.left)/ve.scaleX,y:($e.clientY-ve.top)/ve.scaleY})}),Array.prototype.forEach.call(K.changedTouches||K.touches,$e=>{this._changedPointerPositions.push({id:$e.identifier,x:($e.clientX-ve.left)/ve.scaleX,y:($e.clientY-ve.top)/ve.scaleY})})):(pe=(K.clientX-ve.left)/ve.scaleX,xt=(K.clientY-ve.top)/ve.scaleY,this.pointerPos={x:pe,y:xt},this._pointerPositions=[{x:pe,y:xt,id:e.Util._getFirstPointerId(K)}],this._changedPointerPositions=[{x:pe,y:xt,id:e.Util._getFirstPointerId(K)}])}_setPointerPosition(K){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(K)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const K=this.content.getBoundingClientRect();return{top:K.top,left:K.left,scaleX:K.width/this.content.clientWidth||1,scaleY:K.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!i.Konva.isBrowser)return;const K=this.container();if(!K)throw"Stage has no container. A container is required.";K.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),K.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(K){K.batchDraw()}),this}}t.Stage=ct,ct.prototype.nodeType=m,(0,u._registerNode)(ct),n.Factory.addGetterSetter(ct,"container"),i.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(pt=>{pt.batchDraw()})})})(K6);var Fd={},An={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=ft,n=rn,r=vt,i=Zt,s=et,l=ft,u=yo,d="hasShadow",m="shadowRGBA",w="patternImage",C="linearGradient",S="radialGradient";let _;function k(){return _||(_=n.Util.createCanvasElement().getContext("2d"),_)}t.shapes={};function R(ne){const W=this.attrs.fillRule;W?ne.fill(W):ne.fill()}function O(ne){ne.stroke()}function T(ne){const W=this.attrs.fillRule;W?ne.fill(W):ne.fill()}function j(ne){ne.stroke()}function x(){this._clearCache(d)}function N(){this._clearCache(m)}function D(){this._clearCache(w)}function M(){this._clearCache(C)}function V(){this._clearCache(S)}class F extends i.Node{constructor(W){super(W);let re;for(;re=n.Util.getRandomColor(),!(re&&!(re in t.shapes)););this.colorKey=re,t.shapes[re]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(d,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(w,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const re=k().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(re&&re.setTransform){const oe=new n.Transform;oe.translate(this.fillPatternX(),this.fillPatternY()),oe.rotate(e.Konva.getAngle(this.fillPatternRotation())),oe.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),oe.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const ge=oe.getMatrix(),Oe=typeof DOMMatrix>"u"?{a:ge[0],b:ge[1],c:ge[2],d:ge[3],e:ge[4],f:ge[5]}:new DOMMatrix(ge);re.setTransform(Oe)}return re}}_getLinearGradient(){return this._getCache(C,this.__getLinearGradient)}__getLinearGradient(){const W=this.fillLinearGradientColorStops();if(W){const re=k(),oe=this.fillLinearGradientStartPoint(),ge=this.fillLinearGradientEndPoint(),Oe=re.createLinearGradient(oe.x,oe.y,ge.x,ge.y);for(let ke=0;ke<W.length;ke+=2)Oe.addColorStop(W[ke],W[ke+1]);return Oe}}_getRadialGradient(){return this._getCache(S,this.__getRadialGradient)}__getRadialGradient(){const W=this.fillRadialGradientColorStops();if(W){const re=k(),oe=this.fillRadialGradientStartPoint(),ge=this.fillRadialGradientEndPoint(),Oe=re.createRadialGradient(oe.x,oe.y,this.fillRadialGradientStartRadius(),ge.x,ge.y,this.fillRadialGradientEndRadius());for(let ke=0;ke<W.length;ke+=2)Oe.addColorStop(W[ke],W[ke+1]);return Oe}}getShadowRGBA(){return this._getCache(m,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const W=n.Util.colorToRGBA(this.shadowColor());if(W)return"rgba("+W.r+","+W.g+","+W.b+","+W.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const W=this.hitStrokeWidth();return W==="auto"?this.hasStroke():this.strokeEnabled()&&!!W}intersects(W){const re=this.getStage();if(!re)return!1;const oe=re.bufferHitCanvas;return oe.getContext().clear(),this.drawHit(oe,void 0,!0),oe.context.getImageData(Math.round(W.x),Math.round(W.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(W){var re;if(!((re=this.attrs.perfectDrawEnabled)!==null&&re!==void 0?re:!0))return!1;const ge=W||this.hasFill(),Oe=this.hasStroke(),ke=this.getAbsoluteOpacity()!==1;if(ge&&Oe&&ke)return!0;const Ke=this.hasShadow(),Xe=this.shadowForStrokeEnabled();return!!(ge&&Oe&&Ke&&Xe)}setStrokeHitEnabled(W){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),W?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const W=this.size();return{x:this._centroid?-W.width/2:0,y:this._centroid?-W.height/2:0,width:W.width,height:W.height}}getClientRect(W={}){let re=!1,oe=this.getParent();for(;oe;){if(oe.isCached()){re=!0;break}oe=oe.getParent()}const ge=W.skipTransform,Oe=W.relativeTo||re&&this.getStage()||void 0,ke=this.getSelfRect(),Xe=!W.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,ue=ke.width+Xe,fe=ke.height+Xe,me=!W.skipShadow&&this.hasShadow(),Le=me?this.shadowOffsetX():0,ye=me?this.shadowOffsetY():0,Be=ue+Math.abs(Le),Ze=fe+Math.abs(ye),ct=me&&this.shadowBlur()||0,pt=Be+ct*2,K=Ze+ct*2,ve={width:pt,height:K,x:-(Xe/2+ct)+Math.min(Le,0)+ke.x,y:-(Xe/2+ct)+Math.min(ye,0)+ke.y};return ge?ve:this._transformedRect(ve,Oe)}drawScene(W,re,oe){const ge=this.getLayer(),Oe=W||ge.getCanvas(),ke=Oe.getContext(),Ke=this._getCanvasCache(),Xe=this.getSceneFunc(),ue=this.hasShadow();let fe;const me=!1,Le=re===this;if(!this.isVisible()&&!Le)return this;if(Ke){ke.save();const ye=this.getAbsoluteTransform(re).getMatrix();return ke.transform(ye[0],ye[1],ye[2],ye[3],ye[4],ye[5]),this._drawCachedSceneCanvas(ke),ke.restore(),this}if(!Xe)return this;if(ke.save(),this._useBufferCanvas()&&!me){fe=this.getStage();const ye=oe||fe.bufferCanvas,Be=ye.getContext();Be.clear(),Be.save(),Be._applyLineJoin(this);const Ze=this.getAbsoluteTransform(re).getMatrix();Be.transform(Ze[0],Ze[1],Ze[2],Ze[3],Ze[4],Ze[5]),Xe.call(this,Be,this),Be.restore();const ct=ye.pixelRatio;ue&&ke._applyShadow(this),ke._applyOpacity(this),ke._applyGlobalCompositeOperation(this),ke.drawImage(ye._canvas,ye.x||0,ye.y||0,ye.width/ct,ye.height/ct)}else{if(ke._applyLineJoin(this),!Le){const ye=this.getAbsoluteTransform(re).getMatrix();ke.transform(ye[0],ye[1],ye[2],ye[3],ye[4],ye[5]),ke._applyOpacity(this),ke._applyGlobalCompositeOperation(this)}ue&&ke._applyShadow(this),Xe.call(this,ke,this)}return ke.restore(),this}drawHit(W,re,oe=!1){if(!this.shouldDrawHit(re,oe))return this;const ge=this.getLayer(),Oe=W||ge.hitCanvas,ke=Oe&&Oe.getContext(),Ke=this.hitFunc()||this.sceneFunc(),Xe=this._getCanvasCache(),ue=Xe&&Xe.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),ue){ke.save();const me=this.getAbsoluteTransform(re).getMatrix();return ke.transform(me[0],me[1],me[2],me[3],me[4],me[5]),this._drawCachedHitCanvas(ke),ke.restore(),this}if(!Ke)return this;if(ke.save(),ke._applyLineJoin(this),!(this===re)){const me=this.getAbsoluteTransform(re).getMatrix();ke.transform(me[0],me[1],me[2],me[3],me[4],me[5])}return Ke.call(this,ke,this),ke.restore(),this}drawHitFromCache(W=0){const re=this._getCanvasCache(),oe=this._getCachedSceneCanvas(),ge=re.hit,Oe=ge.getContext(),ke=ge.getWidth(),Ke=ge.getHeight();Oe.clear(),Oe.drawImage(oe._canvas,0,0,ke,Ke);try{const Xe=Oe.getImageData(0,0,ke,Ke),ue=Xe.data,fe=ue.length,me=n.Util._hexToRgb(this.colorKey);for(let Le=0;Le<fe;Le+=4)ue[Le+3]>W?(ue[Le]=me.r,ue[Le+1]=me.g,ue[Le+2]=me.b,ue[Le+3]=255):ue[Le+3]=0;Oe.putImageData(Xe,0,0)}catch(Xe){n.Util.error("Unable to draw hit graph from cached scene canvas. "+Xe.message)}return this}hasPointerCapture(W){return u.hasPointerCapture(W,this)}setPointerCapture(W){u.setPointerCapture(W,this)}releaseCapture(W){u.releaseCapture(W,this)}}t.Shape=F,F.prototype._fillFunc=R,F.prototype._strokeFunc=O,F.prototype._fillFuncHit=T,F.prototype._strokeFuncHit=j,F.prototype._centroid=!1,F.prototype.nodeType="Shape",(0,l._registerNode)(F),F.prototype.eventListeners={},F.prototype.on.call(F.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",x),F.prototype.on.call(F.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",N),F.prototype.on.call(F.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",D),F.prototype.on.call(F.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",M),F.prototype.on.call(F.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",V),r.Factory.addGetterSetter(F,"stroke",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(F,"strokeWidth",2,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(F,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(F,"hitStrokeWidth","auto",(0,s.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(F,"strokeHitEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(F,"perfectDrawEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(F,"shadowForStrokeEnabled",!0,(0,s.getBooleanValidator)()),r.Factory.addGetterSetter(F,"lineJoin"),r.Factory.addGetterSetter(F,"lineCap"),r.Factory.addGetterSetter(F,"sceneFunc"),r.Factory.addGetterSetter(F,"hitFunc"),r.Factory.addGetterSetter(F,"dash"),r.Factory.addGetterSetter(F,"dashOffset",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(F,"shadowColor",void 0,(0,s.getStringValidator)()),r.Factory.addGetterSetter(F,"shadowBlur",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(F,"shadowOpacity",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(F,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(F,"shadowOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(F,"shadowOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(F,"fillPatternImage"),r.Factory.addGetterSetter(F,"fill",void 0,(0,s.getStringOrGradientValidator)()),r.Factory.addGetterSetter(F,"fillPatternX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(F,"fillPatternY",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(F,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(F,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(F,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(F,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(F,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(F,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(F,"fillEnabled",!0),r.Factory.addGetterSetter(F,"strokeEnabled",!0),r.Factory.addGetterSetter(F,"shadowEnabled",!0),r.Factory.addGetterSetter(F,"dashEnabled",!0),r.Factory.addGetterSetter(F,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(F,"fillPriority","color"),r.Factory.addComponentsGetterSetter(F,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(F,"fillPatternOffsetX",0,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(F,"fillPatternOffsetY",0,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(F,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(F,"fillPatternScaleX",1,(0,s.getNumberValidator)()),r.Factory.addGetterSetter(F,"fillPatternScaleY",1,(0,s.getNumberValidator)()),r.Factory.addComponentsGetterSetter(F,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(F,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(F,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(F,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(F,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(F,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(F,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(F,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(F,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(F,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(F,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(F,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(F,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(F,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(F,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(F,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(F,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(F,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(F,"fillPatternRotation",0),r.Factory.addGetterSetter(F,"fillRule",void 0,(0,s.getStringValidator)()),r.Factory.backCompat(F,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(An);Object.defineProperty(Fd,"__esModule",{value:!0});Fd.Layer=void 0;const Us=rn,Dm=Cl,au=Zt,Dy=vt,e4=Hi,IE=et,LE=An,FE=ft,zE="#",BE="beforeDraw",UE="draw",Q6=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],GE=Q6.length;let sc=class extends Dm.Container{constructor(e){super(e),this.canvas=new e4.SceneCanvas,this.hitCanvas=new e4.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){au.Node.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!au.Node.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(au.Node.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(au.Node.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return au.Node.prototype.remove.call(this),e&&e.parentNode&&Us.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&Us.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),au.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Us.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Us.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Us.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let i=0;i<GE;i++){const s=Q6[i],l=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),u=l.shape;if(u)return u;if(r=!!l.antialiased,!l.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){const s=Us.Util._rgbToHex(r[0],r[1],r[2]),l=LE.shapes[zE+s];return l?{shape:l}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,r){const i=this.getLayer(),s=e||i&&i.getCanvas();return this._fire(BE,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),Dm.Container.prototype.drawScene.call(this,s,n,r),this._fire(UE,{node:this}),this}drawHit(e,n){const r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),Dm.Container.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Us.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Us.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return Us.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Fd.Layer=sc;sc.prototype.nodeType="Layer";(0,FE._registerNode)(sc);Dy.Factory.addGetterSetter(sc,"imageSmoothingEnabled",!0);Dy.Factory.addGetterSetter(sc,"clearBeforeDraw",!0);Dy.Factory.addGetterSetter(sc,"hitGraphEnabled",!0,(0,IE.getBooleanValidator)());var P0={};Object.defineProperty(P0,"__esModule",{value:!0});P0.FastLayer=void 0;const VE=rn,WE=Fd,HE=ft;class Iy extends WE.Layer{constructor(e){super(e),this.listening(!1),VE.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}P0.FastLayer=Iy;Iy.prototype.nodeType="FastLayer";(0,HE._registerNode)(Iy);var ac={};Object.defineProperty(ac,"__esModule",{value:!0});ac.Group=void 0;const KE=rn,$E=Cl,qE=ft;let Ly=class extends $E.Container{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&KE.Util.throw("You may only add groups and shapes to groups.")}};ac.Group=Ly;Ly.prototype.nodeType="Group";(0,qE._registerNode)(Ly);var oc={};Object.defineProperty(oc,"__esModule",{value:!0});oc.Animation=void 0;const Im=ft,t4=rn,Lm=function(){return Im.glob.performance&&Im.glob.performance.now?function(){return Im.glob.performance.now()}:function(){return new Date().getTime()}}();class vs{constructor(e,n){this.id=vs.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Lm(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=vs.animations,r=n.length;for(let i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Lm(),vs._addAnimation(this),this}stop(){return vs._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,i=r.length;for(let s=0;s<i;s++)if(r[s].id===n){this.animations.splice(s,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const i=n[r],s=i.layers,l=i.func;i._updateFrameObject(Lm());const u=s.length;let d;if(l?d=l.call(i,i.frame)!==!1:d=!0,!!d)for(let m=0;m<u;m++){const w=s[m];w._id!==void 0&&(e[w._id]=w)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=vs;e.animations.length?(e._runFrames(),t4.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,t4.Util.requestAnimFrame(this._animationLoop))}}oc.Animation=vs;vs.animations=[];vs.animIdCounter=0;vs.animRunning=!1;var Y6={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=rn,n=oc,r=Zt,i=ft,s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=1,u=2,d=3,m=["fill","stroke","shadowColor"];let w=0;class C{constructor(k,R,O,T,j,x,N){this.prop=k,this.propFunc=R,this.begin=T,this._pos=T,this.duration=x,this._change=0,this.prevPos=0,this.yoyo=N,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=O,this._change=j-this.begin,this.pause()}fire(k){const R=this[k];R&&R()}setTime(k){k>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():k<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=k,this.update())}getTime(){return this._time}setPosition(k){this.prevPos=this._pos,this.propFunc(k),this._pos=k}getPosition(k){return k===void 0&&(k=this._time),this.func(k,this.begin,this._change,this.duration)}play(){this.state=u,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=d,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(k){this.pause(),this._time=k,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const k=this.getTimer()-this._startTime;this.state===u?this.setTime(k):this.state===d&&this.setTime(this.duration-k)}pause(){this.state=l,this.fire("onPause")}getTimer(){return new Date().getTime()}}class S{constructor(k){const R=this,O=k.node,T=O._id,j=k.easing||t.Easings.Linear,x=!!k.yoyo;let N,D;typeof k.duration>"u"?N=.3:k.duration===0?N=.001:N=k.duration,this.node=O,this._id=w++;const M=O.getLayer()||(O instanceof i.Konva.Stage?O.getLayers():null);M||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){R.tween.onEnterFrame()},M),this.tween=new C(D,function(V){R._tweenFunc(V)},j,0,1,N*1e3,x),this._addListeners(),S.attrs[T]||(S.attrs[T]={}),S.attrs[T][this._id]||(S.attrs[T][this._id]={}),S.tweens[T]||(S.tweens[T]={});for(D in k)s[D]===void 0&&this._addAttr(D,k[D]);this.reset(),this.onFinish=k.onFinish,this.onReset=k.onReset,this.onUpdate=k.onUpdate}_addAttr(k,R){const O=this.node,T=O._id;let j,x,N,D,M;const V=S.tweens[T][k];V&&delete S.attrs[T][V][k];let F=O.getAttr(k);if(e.Util._isArray(R))if(j=[],x=Math.max(R.length,F.length),k==="points"&&R.length!==F.length&&(R.length>F.length?(D=F,F=e.Util._prepareArrayForTween(F,R,O.closed())):(N=R,R=e.Util._prepareArrayForTween(R,F,O.closed()))),k.indexOf("fill")===0)for(let ne=0;ne<x;ne++)if(ne%2===0)j.push(R[ne]-F[ne]);else{const W=e.Util.colorToRGBA(F[ne]);M=e.Util.colorToRGBA(R[ne]),F[ne]=W,j.push({r:M.r-W.r,g:M.g-W.g,b:M.b-W.b,a:M.a-W.a})}else for(let ne=0;ne<x;ne++)j.push(R[ne]-F[ne]);else m.indexOf(k)!==-1?(F=e.Util.colorToRGBA(F),M=e.Util.colorToRGBA(R),j={r:M.r-F.r,g:M.g-F.g,b:M.b-F.b,a:M.a-F.a}):j=R-F;S.attrs[T][this._id][k]={start:F,diff:j,end:R,trueEnd:N,trueStart:D},S.tweens[T][k]=this._id}_tweenFunc(k){const R=this.node,O=S.attrs[R._id][this._id];let T,j,x,N,D,M,V,F;for(T in O){if(j=O[T],x=j.start,N=j.diff,F=j.end,e.Util._isArray(x))if(D=[],V=Math.max(x.length,F.length),T.indexOf("fill")===0)for(M=0;M<V;M++)M%2===0?D.push((x[M]||0)+N[M]*k):D.push("rgba("+Math.round(x[M].r+N[M].r*k)+","+Math.round(x[M].g+N[M].g*k)+","+Math.round(x[M].b+N[M].b*k)+","+(x[M].a+N[M].a*k)+")");else for(M=0;M<V;M++)D.push((x[M]||0)+N[M]*k);else m.indexOf(T)!==-1?D="rgba("+Math.round(x.r+N.r*k)+","+Math.round(x.g+N.g*k)+","+Math.round(x.b+N.b*k)+","+(x.a+N.a*k)+")":D=x+N*k;R.setAttr(T,D)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const k=this.node,R=S.attrs[k._id][this._id];R.points&&R.points.trueEnd&&k.setAttr("points",R.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const k=this.node,R=S.attrs[k._id][this._id];R.points&&R.points.trueStart&&k.points(R.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(k){return this.tween.seek(k*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const k=this.node._id,R=this._id,O=S.tweens[k];this.pause(),this.anim&&this.anim.stop();for(const T in O)delete S.tweens[k][T];delete S.attrs[k][R],S.tweens[k]&&(Object.keys(S.tweens[k]).length===0&&delete S.tweens[k],Object.keys(S.attrs[k]).length===0&&delete S.attrs[k])}}t.Tween=S,S.attrs={},S.tweens={},r.Node.prototype.to=function(_){const k=_.onFinish;_.node=this,_.onFinish=function(){this.destroy(),k&&k()},new S(_).play()},t.Easings={BackEaseIn(_,k,R,O){return R*(_/=O)*_*((1.70158+1)*_-1.70158)+k},BackEaseOut(_,k,R,O){return R*((_=_/O-1)*_*((1.70158+1)*_+1.70158)+1)+k},BackEaseInOut(_,k,R,O){let T=1.70158;return(_/=O/2)<1?R/2*(_*_*(((T*=1.525)+1)*_-T))+k:R/2*((_-=2)*_*(((T*=1.525)+1)*_+T)+2)+k},ElasticEaseIn(_,k,R,O,T,j){let x=0;return _===0?k:(_/=O)===1?k+R:(j||(j=O*.3),!T||T<Math.abs(R)?(T=R,x=j/4):x=j/(2*Math.PI)*Math.asin(R/T),-(T*Math.pow(2,10*(_-=1))*Math.sin((_*O-x)*(2*Math.PI)/j))+k)},ElasticEaseOut(_,k,R,O,T,j){let x=0;return _===0?k:(_/=O)===1?k+R:(j||(j=O*.3),!T||T<Math.abs(R)?(T=R,x=j/4):x=j/(2*Math.PI)*Math.asin(R/T),T*Math.pow(2,-10*_)*Math.sin((_*O-x)*(2*Math.PI)/j)+R+k)},ElasticEaseInOut(_,k,R,O,T,j){let x=0;return _===0?k:(_/=O/2)===2?k+R:(j||(j=O*(.3*1.5)),!T||T<Math.abs(R)?(T=R,x=j/4):x=j/(2*Math.PI)*Math.asin(R/T),_<1?-.5*(T*Math.pow(2,10*(_-=1))*Math.sin((_*O-x)*(2*Math.PI)/j))+k:T*Math.pow(2,-10*(_-=1))*Math.sin((_*O-x)*(2*Math.PI)/j)*.5+R+k)},BounceEaseOut(_,k,R,O){return(_/=O)<1/2.75?R*(7.5625*_*_)+k:_<2/2.75?R*(7.5625*(_-=1.5/2.75)*_+.75)+k:_<2.5/2.75?R*(7.5625*(_-=2.25/2.75)*_+.9375)+k:R*(7.5625*(_-=2.625/2.75)*_+.984375)+k},BounceEaseIn(_,k,R,O){return R-t.Easings.BounceEaseOut(O-_,0,R,O)+k},BounceEaseInOut(_,k,R,O){return _<O/2?t.Easings.BounceEaseIn(_*2,0,R,O)*.5+k:t.Easings.BounceEaseOut(_*2-O,0,R,O)*.5+R*.5+k},EaseIn(_,k,R,O){return R*(_/=O)*_+k},EaseOut(_,k,R,O){return-R*(_/=O)*(_-2)+k},EaseInOut(_,k,R,O){return(_/=O/2)<1?R/2*_*_+k:-R/2*(--_*(_-2)-1)+k},StrongEaseIn(_,k,R,O){return R*(_/=O)*_*_*_*_+k},StrongEaseOut(_,k,R,O){return R*((_=_/O-1)*_*_*_*_+1)+k},StrongEaseInOut(_,k,R,O){return(_/=O/2)<1?R/2*_*_*_*_*_+k:R/2*((_-=2)*_*_*_*_+2)+k},Linear(_,k,R,O){return R*_/O+k}}})(Y6);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=ft,n=rn,r=Zt,i=Cl,s=K6,l=Fd,u=P0,d=ac,m=E0,w=An,C=oc,S=Y6,_=Zs,k=Hi;t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:r.Node,Container:i.Container,Stage:s.Stage,stages:s.stages,Layer:l.Layer,FastLayer:u.FastLayer,Group:d.Group,DD:m.DD,Shape:w.Shape,shapes:w.shapes,Animation:C.Animation,Tween:S.Tween,Easings:S.Easings,Context:_.Context,Canvas:k.Canvas}),t.default=t.Konva})(Kf);var T0={};Object.defineProperty(T0,"__esModule",{value:!0});T0.Arc=void 0;const j0=vt,QE=An,n4=ft,R0=et,YE=ft;class oa extends QE.Shape{_sceneFunc(e){const n=n4.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=n4.Konva.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),l=1,u=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),d=Math.sin(Math.min(i,Math.PI/2)),m=s*(s>0?e:n),w=l*n,C=u*(u>0?e:n),S=d*(d>0?n:e);return{x:m,y:r?-1*S:C,width:w-m,height:S-C}}}T0.Arc=oa;oa.prototype._centroid=!0;oa.prototype.className="Arc";oa.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,YE._registerNode)(oa);j0.Factory.addGetterSetter(oa,"innerRadius",0,(0,R0.getNumberValidator)());j0.Factory.addGetterSetter(oa,"outerRadius",0,(0,R0.getNumberValidator)());j0.Factory.addGetterSetter(oa,"angle",0,(0,R0.getNumberValidator)());j0.Factory.addGetterSetter(oa,"clockwise",!1,(0,R0.getBooleanValidator)());var O0={},zd={};Object.defineProperty(zd,"__esModule",{value:!0});zd.Line=void 0;const A0=vt,XE=ft,ZE=An,X6=et;function w1(t,e,n,r,i,s,l){const u=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),d=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),m=l*u/(u+d),w=l*d/(u+d),C=n-m*(i-t),S=r-m*(s-e),_=n+w*(i-t),k=r+w*(s-e);return[C,S,_,k]}function r4(t,e){const n=t.length,r=[];for(let i=2;i<n-2;i+=2){const s=w1(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(s[0])||(r.push(s[0]),r.push(s[1]),r.push(t[i]),r.push(t[i+1]),r.push(s[2]),r.push(s[3]))}return r}let vo=class extends ZE.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,i=this.tension(),s=this.closed(),l=this.bezier();if(!r)return;let u=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){const d=this.getTensionPoints(),m=d.length;for(u=s?0:4,s||e.quadraticCurveTo(d[0],d[1],d[2],d[3]);u<m-2;)e.bezierCurveTo(d[u++],d[u++],d[u++],d[u++],d[u++],d[u++]);s||e.quadraticCurveTo(d[m-2],d[m-1],n[r-2],n[r-1])}else if(l)for(u=2;u<r;)e.bezierCurveTo(n[u++],n[u++],n[u++],n[u++],n[u++],n[u++]);else for(u=2;u<r;u+=2)e.lineTo(n[u],n[u+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():r4(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),i=w1(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),s=w1(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),l=r4(e,r);return[i[2],i[3]].concat(l).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],i=e[1],s=e[1],l,u;for(let d=0;d<e.length/2;d++)l=e[d*2],u=e[d*2+1],n=Math.min(n,l),r=Math.max(r,l),i=Math.min(i,u),s=Math.max(s,u);return{x:n,y:i,width:r-n,height:s-i}}};zd.Line=vo;vo.prototype.className="Line";vo.prototype._attrsAffectingSize=["points","bezier","tension"];(0,XE._registerNode)(vo);A0.Factory.addGetterSetter(vo,"closed",!1);A0.Factory.addGetterSetter(vo,"bezier",!1);A0.Factory.addGetterSetter(vo,"tension",0,(0,X6.getNumberValidator)());A0.Factory.addGetterSetter(vo,"points",[],(0,X6.getNumberArrayValidator)());var lc={},Z6={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(l,u,d)=>{let m,w;const S=d/2;m=0;for(let _=0;_<20;_++)w=S*t.tValues[20][_]+S,m+=t.cValues[20][_]*r(l,u,w);return S*m};t.getCubicArcLength=e;const n=(l,u,d)=>{d===void 0&&(d=1);const m=l[0]-2*l[1]+l[2],w=u[0]-2*u[1]+u[2],C=2*l[1]-2*l[0],S=2*u[1]-2*u[0],_=4*(m*m+w*w),k=4*(m*C+w*S),R=C*C+S*S;if(_===0)return d*Math.sqrt(Math.pow(l[2]-l[0],2)+Math.pow(u[2]-u[0],2));const O=k/(2*_),T=R/_,j=d+O,x=T-O*O,N=j*j+x>0?Math.sqrt(j*j+x):0,D=O*O+x>0?Math.sqrt(O*O+x):0,M=O+Math.sqrt(O*O+x)!==0?x*Math.log(Math.abs((j+N)/(O+D))):0;return Math.sqrt(_)/2*(j*N-O*D+M)};t.getQuadraticArcLength=n;function r(l,u,d){const m=i(1,d,l),w=i(1,d,u),C=m*m+w*w;return Math.sqrt(C)}const i=(l,u,d)=>{const m=d.length-1;let w,C;if(m===0)return 0;if(l===0){C=0;for(let S=0;S<=m;S++)C+=t.binomialCoefficients[m][S]*Math.pow(1-u,m-S)*Math.pow(u,S)*d[S];return C}else{w=new Array(m);for(let S=0;S<m;S++)w[S]=m*(d[S+1]-d[S]);return i(l-1,u,w)}},s=(l,u,d)=>{let m=1,w=l/u,C=(l-d(w))/u,S=0;for(;m>.001;){const _=d(w+C),k=Math.abs(l-_)/u;if(k<m)m=k,w+=C;else{const R=d(w-C),O=Math.abs(l-R)/u;O<m?(m=O,w-=C):C/=2}if(S++,S>500)break}return w};t.t2length=s})(Z6);Object.defineProperty(lc,"__esModule",{value:!0});lc.Path=void 0;const JE=vt,eN=ft,tN=An,ou=Z6;class Tn extends tN.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Tn.parsePathData(this.data()),this.pathLength=Tn.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<n.length;i++){const s=n[i].command,l=n[i].points;switch(s){case"L":e.lineTo(l[0],l[1]);break;case"M":e.moveTo(l[0],l[1]);break;case"C":e.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"Q":e.quadraticCurveTo(l[0],l[1],l[2],l[3]);break;case"A":const u=l[0],d=l[1],m=l[2],w=l[3],C=l[4],S=l[5],_=l[6],k=l[7],R=m>w?m:w,O=m>w?1:m/w,T=m>w?w/m:1;e.translate(u,d),e.rotate(_),e.scale(O,T),e.arc(0,0,R,C,C+S,1-k),e.scale(1/O,1/T),e.rotate(-_),e.translate(-u,-d);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(d){if(d.command==="A"){const m=d.points[4],w=d.points[5],C=d.points[4]+w;let S=Math.PI/180;if(Math.abs(m-C)<S&&(S=Math.abs(m-C)),w<0)for(let _=m-S;_>C;_-=S){const k=Tn.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],_,0);e.push(k.x,k.y)}else for(let _=m+S;_<C;_+=S){const k=Tn.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],_,0);e.push(k.x,k.y)}}else if(d.command==="C")for(let m=0;m<=1;m+=.01){const w=Tn.getPointOnCubicBezier(m,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);e.push(w.x,w.y)}else e=e.concat(d.points)});let n=e[0],r=e[0],i=e[1],s=e[1],l,u;for(let d=0;d<e.length/2;d++)l=e[d*2],u=e[d*2+1],isNaN(l)||(n=Math.min(n,l),r=Math.max(r,l)),isNaN(u)||(i=Math.min(i,u),s=Math.max(s,u));return{x:n,y:i,width:r-n,height:s-i}}getLength(){return this.pathLength}getPointAtLength(e){return Tn.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,i=0,s=n.length;if(!s)return null;for(;i<s&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===s)return r=n[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[i].command==="M"?(r=n[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[i].start.x,y:n[i].start.y};const l=n[i],u=l.points;switch(l.command){case"L":return Tn.getPointOnLine(e,l.start.x,l.start.y,u[0],u[1]);case"C":return Tn.getPointOnCubicBezier((0,ou.t2length)(e,Tn.getPathLength(n),R=>(0,ou.getCubicArcLength)([l.start.x,u[0],u[2],u[4]],[l.start.y,u[1],u[3],u[5]],R)),l.start.x,l.start.y,u[0],u[1],u[2],u[3],u[4],u[5]);case"Q":return Tn.getPointOnQuadraticBezier((0,ou.t2length)(e,Tn.getPathLength(n),R=>(0,ou.getQuadraticArcLength)([l.start.x,u[0],u[2]],[l.start.y,u[1],u[3]],R)),l.start.x,l.start.y,u[0],u[1],u[2],u[3]);case"A":const d=u[0],m=u[1],w=u[2],C=u[3],S=u[5],_=u[6];let k=u[4];return k+=S*e/l.pathLength,Tn.getPointOnEllipticalArc(d,m,w,C,k,_)}return null}static getPointOnLine(e,n,r,i,s,l,u){l=l??n,u=u??r;const d=this.getLineLength(n,r,i,s);if(d<1e-10)return{x:n,y:r};if(i===n)return{x:l,y:u+(s>r?e:-e)};const m=(s-r)/(i-n),w=Math.sqrt(e*e/(1+m*m))*(i<n?-1:1),C=m*w;if(Math.abs(u-r-m*(l-n))<1e-10)return{x:l+w,y:u+C};const S=((l-n)*(i-n)+(u-r)*(s-r))/(d*d),_=n+S*(i-n),k=r+S*(s-r),R=this.getLineLength(l,u,_,k),O=Math.sqrt(e*e-R*R),T=Math.sqrt(O*O/(1+m*m))*(i<n?-1:1),j=m*T;return{x:_+T,y:k+j}}static getPointOnCubicBezier(e,n,r,i,s,l,u,d,m){function w(O){return O*O*O}function C(O){return 3*O*O*(1-O)}function S(O){return 3*O*(1-O)*(1-O)}function _(O){return(1-O)*(1-O)*(1-O)}const k=d*w(e)+l*C(e)+i*S(e)+n*_(e),R=m*w(e)+u*C(e)+s*S(e)+r*_(e);return{x:k,y:R}}static getPointOnQuadraticBezier(e,n,r,i,s,l,u){function d(_){return _*_}function m(_){return 2*_*(1-_)}function w(_){return(1-_)*(1-_)}const C=l*d(e)+i*m(e)+n*w(e),S=u*d(e)+s*m(e)+r*w(e);return{x:C,y:S}}static getPointOnEllipticalArc(e,n,r,i,s,l){const u=Math.cos(l),d=Math.sin(l),m={x:r*Math.cos(s),y:i*Math.sin(s)};return{x:e+(m.x*u-m.y*d),y:n+(m.x*d+m.y*u)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let C=0;C<r.length;C++)n=n.replace(new RegExp(r[C],"g"),"|"+r[C]);const i=n.split("|"),s=[],l=[];let u=0,d=0;const m=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let w;for(let C=1;C<i.length;C++){let S=i[C],_=S.charAt(0);for(S=S.slice(1),l.length=0;w=m.exec(S);)l.push(w[0]);const k=[];for(let R=0,O=l.length;R<O;R++){if(l[R]==="00"){k.push(0,0);continue}const T=parseFloat(l[R]);isNaN(T)?k.push(0):k.push(T)}for(;k.length>0&&!isNaN(k[0]);){let R="",O=[];const T=u,j=d;let x,N,D,M,V,F,ne,W,re,oe;switch(_){case"l":u+=k.shift(),d+=k.shift(),R="L",O.push(u,d);break;case"L":u=k.shift(),d=k.shift(),O.push(u,d);break;case"m":const ge=k.shift(),Oe=k.shift();if(u+=ge,d+=Oe,R="M",s.length>2&&s[s.length-1].command==="z"){for(let ke=s.length-2;ke>=0;ke--)if(s[ke].command==="M"){u=s[ke].points[0]+ge,d=s[ke].points[1]+Oe;break}}O.push(u,d),_="l";break;case"M":u=k.shift(),d=k.shift(),R="M",O.push(u,d),_="L";break;case"h":u+=k.shift(),R="L",O.push(u,d);break;case"H":u=k.shift(),R="L",O.push(u,d);break;case"v":d+=k.shift(),R="L",O.push(u,d);break;case"V":d=k.shift(),R="L",O.push(u,d);break;case"C":O.push(k.shift(),k.shift(),k.shift(),k.shift()),u=k.shift(),d=k.shift(),O.push(u,d);break;case"c":O.push(u+k.shift(),d+k.shift(),u+k.shift(),d+k.shift()),u+=k.shift(),d+=k.shift(),R="C",O.push(u,d);break;case"S":N=u,D=d,x=s[s.length-1],x.command==="C"&&(N=u+(u-x.points[2]),D=d+(d-x.points[3])),O.push(N,D,k.shift(),k.shift()),u=k.shift(),d=k.shift(),R="C",O.push(u,d);break;case"s":N=u,D=d,x=s[s.length-1],x.command==="C"&&(N=u+(u-x.points[2]),D=d+(d-x.points[3])),O.push(N,D,u+k.shift(),d+k.shift()),u+=k.shift(),d+=k.shift(),R="C",O.push(u,d);break;case"Q":O.push(k.shift(),k.shift()),u=k.shift(),d=k.shift(),O.push(u,d);break;case"q":O.push(u+k.shift(),d+k.shift()),u+=k.shift(),d+=k.shift(),R="Q",O.push(u,d);break;case"T":N=u,D=d,x=s[s.length-1],x.command==="Q"&&(N=u+(u-x.points[0]),D=d+(d-x.points[1])),u=k.shift(),d=k.shift(),R="Q",O.push(N,D,u,d);break;case"t":N=u,D=d,x=s[s.length-1],x.command==="Q"&&(N=u+(u-x.points[0]),D=d+(d-x.points[1])),u+=k.shift(),d+=k.shift(),R="Q",O.push(N,D,u,d);break;case"A":M=k.shift(),V=k.shift(),F=k.shift(),ne=k.shift(),W=k.shift(),re=u,oe=d,u=k.shift(),d=k.shift(),R="A",O=this.convertEndpointToCenterParameterization(re,oe,u,d,ne,W,M,V,F);break;case"a":M=k.shift(),V=k.shift(),F=k.shift(),ne=k.shift(),W=k.shift(),re=u,oe=d,u+=k.shift(),d+=k.shift(),R="A",O=this.convertEndpointToCenterParameterization(re,oe,u,d,ne,W,M,V,F);break}s.push({command:R||_,points:O,start:{x:T,y:j},pathLength:this.calcLength(T,j,R||_,O)})}(_==="z"||_==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,n,r,i){let s,l,u,d;const m=Tn;switch(r){case"L":return m.getLineLength(e,n,i[0],i[1]);case"C":return(0,ou.getCubicArcLength)([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return(0,ou.getQuadraticArcLength)([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":s=0;const w=i[4],C=i[5],S=i[4]+C;let _=Math.PI/180;if(Math.abs(w-S)<_&&(_=Math.abs(w-S)),l=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],w,0),C<0)for(d=w-_;d>S;d-=_)u=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),s+=m.getLineLength(l.x,l.y,u.x,u.y),l=u;else for(d=w+_;d<S;d+=_)u=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),s+=m.getLineLength(l.x,l.y,u.x,u.y),l=u;return u=m.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],S,0),s+=m.getLineLength(l.x,l.y,u.x,u.y),s}return 0}static convertEndpointToCenterParameterization(e,n,r,i,s,l,u,d,m){const w=m*(Math.PI/180),C=Math.cos(w)*(e-r)/2+Math.sin(w)*(n-i)/2,S=-1*Math.sin(w)*(e-r)/2+Math.cos(w)*(n-i)/2,_=C*C/(u*u)+S*S/(d*d);_>1&&(u*=Math.sqrt(_),d*=Math.sqrt(_));let k=Math.sqrt((u*u*(d*d)-u*u*(S*S)-d*d*(C*C))/(u*u*(S*S)+d*d*(C*C)));s===l&&(k*=-1),isNaN(k)&&(k=0);const R=k*u*S/d,O=k*-d*C/u,T=(e+r)/2+Math.cos(w)*R-Math.sin(w)*O,j=(n+i)/2+Math.sin(w)*R+Math.cos(w)*O,x=function(W){return Math.sqrt(W[0]*W[0]+W[1]*W[1])},N=function(W,re){return(W[0]*re[0]+W[1]*re[1])/(x(W)*x(re))},D=function(W,re){return(W[0]*re[1]<W[1]*re[0]?-1:1)*Math.acos(N(W,re))},M=D([1,0],[(C-R)/u,(S-O)/d]),V=[(C-R)/u,(S-O)/d],F=[(-1*C-R)/u,(-1*S-O)/d];let ne=D(V,F);return N(V,F)<=-1&&(ne=Math.PI),N(V,F)>=1&&(ne=0),l===0&&ne>0&&(ne=ne-2*Math.PI),l===1&&ne<0&&(ne=ne+2*Math.PI),[T,j,u,d,M,ne,w,l]}}lc.Path=Tn;Tn.prototype.className="Path";Tn.prototype._attrsAffectingSize=["data"];(0,eN._registerNode)(Tn);JE.Factory.addGetterSetter(Tn,"data");Object.defineProperty(O0,"__esModule",{value:!0});O0.Arrow=void 0;const M0=vt,nN=zd,J6=et,rN=ft,i4=lc;class Nl extends nN.Line{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let i=r;const s=this.tension()!==0&&r.length>4;s&&(i=this.getTensionPoints());const l=this.pointerLength(),u=r.length;let d,m;if(s){const S=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[u-2],r[u-1]],_=i4.Path.calcLength(i[i.length-4],i[i.length-3],"C",S),k=i4.Path.getPointOnQuadraticBezier(Math.min(1,1-l/_),S[0],S[1],S[2],S[3],S[4],S[5]);d=r[u-2]-k.x,m=r[u-1]-k.y}else d=r[u-2]-r[u-4],m=r[u-1]-r[u-3];const w=(Math.atan2(m,d)+n)%n,C=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[u-2],r[u-1]),e.rotate(w),e.moveTo(0,0),e.lineTo(-l,C/2),e.lineTo(-l,-C/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(d=(i[0]+i[2])/2-r[0],m=(i[1]+i[3])/2-r[1]):(d=r[2]-r[0],m=r[3]-r[1]),e.rotate((Math.atan2(-m,-d)+n)%n),e.moveTo(0,0),e.lineTo(-l,C/2),e.lineTo(-l,-C/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}O0.Arrow=Nl;Nl.prototype.className="Arrow";(0,rN._registerNode)(Nl);M0.Factory.addGetterSetter(Nl,"pointerLength",10,(0,J6.getNumberValidator)());M0.Factory.addGetterSetter(Nl,"pointerWidth",10,(0,J6.getNumberValidator)());M0.Factory.addGetterSetter(Nl,"pointerAtBeginning",!1);M0.Factory.addGetterSetter(Nl,"pointerAtEnding",!0);var D0={};Object.defineProperty(D0,"__esModule",{value:!0});D0.Circle=void 0;const iN=vt,sN=An,aN=et,oN=ft;let uc=class extends sN.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};D0.Circle=uc;uc.prototype._centroid=!0;uc.prototype.className="Circle";uc.prototype._attrsAffectingSize=["radius"];(0,oN._registerNode)(uc);iN.Factory.addGetterSetter(uc,"radius",0,(0,aN.getNumberValidator)());var I0={};Object.defineProperty(I0,"__esModule",{value:!0});I0.Ellipse=void 0;const Fy=vt,lN=An,ew=et,uN=ft;class xo extends lN.Shape{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}I0.Ellipse=xo;xo.prototype.className="Ellipse";xo.prototype._centroid=!0;xo.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,uN._registerNode)(xo);Fy.Factory.addComponentsGetterSetter(xo,"radius",["x","y"]);Fy.Factory.addGetterSetter(xo,"radiusX",0,(0,ew.getNumberValidator)());Fy.Factory.addGetterSetter(xo,"radiusY",0,(0,ew.getNumberValidator)());var L0={};Object.defineProperty(L0,"__esModule",{value:!0});L0.Image=void 0;const Fm=rn,Pl=vt,cN=An,dN=ft,Bd=et;class ki extends cN.Shape{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),s=this.attrs.image;let l;if(s){const u=this.attrs.cropWidth,d=this.attrs.cropHeight;u&&d?l=[s,this.cropX(),this.cropY(),u,d,0,0,n,r]:l=[s,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?Fm.Util.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),s&&(i&&e.clip(),e.drawImage.apply(e,l))}_hitFunc(e){const n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?Fm.Util.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,r=null){const i=Fm.Util.createImageElement();i.onload=function(){const s=new ki({image:i});n(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}L0.Image=ki;ki.prototype.className="Image";(0,dN._registerNode)(ki);Pl.Factory.addGetterSetter(ki,"cornerRadius",0,(0,Bd.getNumberOrArrayOfNumbersValidator)(4));Pl.Factory.addGetterSetter(ki,"image");Pl.Factory.addComponentsGetterSetter(ki,"crop",["x","y","width","height"]);Pl.Factory.addGetterSetter(ki,"cropX",0,(0,Bd.getNumberValidator)());Pl.Factory.addGetterSetter(ki,"cropY",0,(0,Bd.getNumberValidator)());Pl.Factory.addGetterSetter(ki,"cropWidth",0,(0,Bd.getNumberValidator)());Pl.Factory.addGetterSetter(ki,"cropHeight",0,(0,Bd.getNumberValidator)());var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.Tag=Yu.Label=void 0;const F0=vt,hN=An,fN=ac,zy=et,tw=ft,nw=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],pN="Change.konva",mN="none",_1="up",S1="right",b1="down",k1="left",gN=nw.length;class By extends fN.Group{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const i=function(){n._sync()};for(r=0;r<gN;r++)e.on(nw[r]+pN,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,i,s,l,u,d,m;if(e&&n){switch(r=e.width(),i=e.height(),s=n.pointerDirection(),l=n.pointerWidth(),m=n.pointerHeight(),u=0,d=0,s){case _1:u=r/2,d=-1*m;break;case S1:u=r+l,d=i/2;break;case b1:u=r/2,d=i+m;break;case k1:u=-1*l,d=i/2;break}n.setAttrs({x:-1*u,y:-1*d,width:r,height:i}),e.setAttrs({x:-1*u,y:-1*d})}}}Yu.Label=By;By.prototype.className="Label";(0,tw._registerNode)(By);class Tl extends hN.Shape{_sceneFunc(e){const n=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),l=this.pointerHeight(),u=this.cornerRadius();let d=0,m=0,w=0,C=0;typeof u=="number"?d=m=w=C=Math.min(u,n/2,r/2):(d=Math.min(u[0]||0,n/2,r/2),m=Math.min(u[1]||0,n/2,r/2),C=Math.min(u[2]||0,n/2,r/2),w=Math.min(u[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(d,0),i===_1&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*l),e.lineTo((n+s)/2,0)),e.lineTo(n-m,0),e.arc(n-m,m,m,Math.PI*3/2,0,!1),i===S1&&(e.lineTo(n,(r-l)/2),e.lineTo(n+s,r/2),e.lineTo(n,(r+l)/2)),e.lineTo(n,r-C),e.arc(n-C,r-C,C,0,Math.PI/2,!1),i===b1&&(e.lineTo((n+s)/2,r),e.lineTo(n/2,r+l),e.lineTo((n-s)/2,r)),e.lineTo(w,r),e.arc(w,r-w,w,Math.PI/2,Math.PI,!1),i===k1&&(e.lineTo(0,(r+l)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-l)/2)),e.lineTo(0,d),e.arc(d,d,d,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),l=this.width(),u=this.height();return s===_1?(n-=i,u+=i):s===b1?u+=i:s===k1?(e-=r*1.5,l+=r):s===S1&&(l+=r*1.5),{x:e,y:n,width:l,height:u}}}Yu.Tag=Tl;Tl.prototype.className="Tag";(0,tw._registerNode)(Tl);F0.Factory.addGetterSetter(Tl,"pointerDirection",mN);F0.Factory.addGetterSetter(Tl,"pointerWidth",0,(0,zy.getNumberValidator)());F0.Factory.addGetterSetter(Tl,"pointerHeight",0,(0,zy.getNumberValidator)());F0.Factory.addGetterSetter(Tl,"cornerRadius",0,(0,zy.getNumberOrArrayOfNumbersValidator)(4));var Ud={};Object.defineProperty(Ud,"__esModule",{value:!0});Ud.Rect=void 0;const yN=vt,vN=An,xN=ft,wN=rn,_N=et;let z0=class extends vN.Shape{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?wN.Util.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}};Ud.Rect=z0;z0.prototype.className="Rect";(0,xN._registerNode)(z0);yN.Factory.addGetterSetter(z0,"cornerRadius",0,(0,_N.getNumberOrArrayOfNumbersValidator)(4));var B0={};Object.defineProperty(B0,"__esModule",{value:!0});B0.RegularPolygon=void 0;const rw=vt,SN=An,iw=et,bN=ft;class jl extends SN.Shape{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(let r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].y,i=e[0].x,s=e[0].y;return e.forEach(l=>{n=Math.min(n,l.x),r=Math.max(r,l.x),i=Math.min(i,l.y),s=Math.max(s,l.y)}),{x:n,y:i,width:r-n,height:s-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}B0.RegularPolygon=jl;jl.prototype.className="RegularPolygon";jl.prototype._centroid=!0;jl.prototype._attrsAffectingSize=["radius"];(0,bN._registerNode)(jl);rw.Factory.addGetterSetter(jl,"radius",0,(0,iw.getNumberValidator)());rw.Factory.addGetterSetter(jl,"sides",0,(0,iw.getNumberValidator)());var U0={};Object.defineProperty(U0,"__esModule",{value:!0});U0.Ring=void 0;const sw=vt,kN=An,aw=et,CN=ft,s4=Math.PI*2;class Rl extends kN.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,s4,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),s4,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}U0.Ring=Rl;Rl.prototype.className="Ring";Rl.prototype._centroid=!0;Rl.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,CN._registerNode)(Rl);sw.Factory.addGetterSetter(Rl,"innerRadius",0,(0,aw.getNumberValidator)());sw.Factory.addGetterSetter(Rl,"outerRadius",0,(0,aw.getNumberValidator)());var G0={};Object.defineProperty(G0,"__esModule",{value:!0});G0.Sprite=void 0;const Ol=vt,EN=An,NN=oc,ow=et,PN=ft;class bs extends EN.Shape{constructor(e){super(e),this._updated=!0,this.anim=new NN.Animation(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],l=this.frameOffsets(),u=s[i+0],d=s[i+1],m=s[i+2],w=s[i+3],C=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,m,w),e.closePath(),e.fillStrokeShape(this)),C)if(l){const S=l[n],_=r*2;e.drawImage(C,u,d,m,w,S[_+0],S[_+1],m,w)}else e.drawImage(C,u,d,m,w,0,0,m,w)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,s=this.animations()[n],l=this.frameOffsets(),u=s[i+2],d=s[i+3];if(e.beginPath(),l){const m=l[n],w=r*2;e.rect(m[w+0],m[w+1],u,d)}else e.rect(0,0,u,d);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],s=i.length/4;e<s-1?this.frameIndex(e+1):this.frameIndex(0)}}G0.Sprite=bs;bs.prototype.className="Sprite";(0,PN._registerNode)(bs);Ol.Factory.addGetterSetter(bs,"animation");Ol.Factory.addGetterSetter(bs,"animations");Ol.Factory.addGetterSetter(bs,"frameOffsets");Ol.Factory.addGetterSetter(bs,"image");Ol.Factory.addGetterSetter(bs,"frameIndex",0,(0,ow.getNumberValidator)());Ol.Factory.addGetterSetter(bs,"frameRate",17,(0,ow.getNumberValidator)());Ol.Factory.backCompat(bs,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var V0={};Object.defineProperty(V0,"__esModule",{value:!0});V0.Star=void 0;const Uy=vt,TN=An,Gy=et,jN=ft;class wo extends TN.Shape{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let s=1;s<i*2;s++){const l=s%2===0?r:n,u=l*Math.sin(s*Math.PI/i),d=-1*l*Math.cos(s*Math.PI/i);e.lineTo(u,d)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}V0.Star=wo;wo.prototype.className="Star";wo.prototype._centroid=!0;wo.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,jN._registerNode)(wo);Uy.Factory.addGetterSetter(wo,"numPoints",5,(0,Gy.getNumberValidator)());Uy.Factory.addGetterSetter(wo,"innerRadius",0,(0,Gy.getNumberValidator)());Uy.Factory.addGetterSetter(wo,"outerRadius",0,(0,Gy.getNumberValidator)());var cc={};Object.defineProperty(cc,"__esModule",{value:!0});cc.Text=void 0;cc.stringToArray=el;const C1=rn,cr=vt,RN=An,zm=ft,_o=et,ON=ft;function el(t){return[...t].reduce((e,n,r,i)=>{if(/\p{Emoji}/u.test(n)){const s=i[r+1];s&&/\p{Emoji_Modifier}|\u200D/u.test(s)?(e.push(n+s),i[r+1]=""):e.push(n)}else/\p{Regional_Indicator}{2}/u.test(n+(i[r+1]||""))?e.push(n+i[r+1]):r>0&&/\p{Mn}|\p{Me}|\p{Mc}/u.test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const lu="auto",AN="center",lw="inherit",Fc="justify",MN="Change.konva",DN="2d",a4="-",uw="left",IN="text",LN="Text",FN="top",zN="bottom",o4="middle",cw="normal",BN="px ",qh=" ",UN="right",l4="rtl",GN="word",VN="char",u4="none",Bm="",dw=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],WN=dw.length;function HN(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let Qh;function Um(){return Qh||(Qh=C1.Util.createCanvasElement().getContext(DN),Qh)}function KN(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function $N(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function qN(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let dn=class extends RN.Shape{constructor(e){super(qN(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<WN;n++)this.on(dw[n]+MN,this._setTextData);this._setTextData()}_sceneFunc(e){const n=this.textArr,r=n.length;if(!this.text())return;let i=this.padding(),s=this.fontSize(),l=this.lineHeight()*s,u=this.verticalAlign(),d=this.direction(),m=0,w=this.align(),C=this.getWidth(),S=this.letterSpacing(),_=this.fill(),k=this.textDecoration(),R=k.indexOf("underline")!==-1,O=k.indexOf("line-through")!==-1,T;d=d===lw?e.direction:d;let j=l/2,x=o4;if(zm.Konva._fixTextRendering){const N=this.measureSize("M");x="alphabetic",j=(N.fontBoundingBoxAscent-N.fontBoundingBoxDescent)/2+l/2}for(d===l4&&e.setAttr("direction",d),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",x),e.setAttr("textAlign",uw),u===o4?m=(this.getHeight()-r*l-i*2)/2:u===zN&&(m=this.getHeight()-r*l-i*2),e.translate(i,m+i),T=0;T<r;T++){let N=0,D=0;const M=n[T],V=M.text,F=M.width,ne=M.lastInParagraph;if(e.save(),w===UN?N+=C-F-i*2:w===AN&&(N+=(C-F-i*2)/2),R){e.save(),e.beginPath();const W=zm.Konva._fixTextRendering?Math.round(s/4):Math.round(s/2),re=N,oe=j+D+W;e.moveTo(re,oe);const ge=w===Fc&&!ne?C-i*2:F;e.lineTo(re+Math.round(ge),oe),e.lineWidth=s/15;const Oe=this._getLinearGradient();e.strokeStyle=Oe||_,e.stroke(),e.restore()}if(O){e.save(),e.beginPath();const W=zm.Konva._fixTextRendering?-Math.round(s/4):0;e.moveTo(N,j+D+W);const re=w===Fc&&!ne?C-i*2:F;e.lineTo(N+Math.round(re),j+D+W),e.lineWidth=s/15;const oe=this._getLinearGradient();e.strokeStyle=oe||_,e.stroke(),e.restore()}if(d!==l4&&(S!==0||w===Fc)){const W=V.split(" ").length-1,re=el(V);for(let oe=0;oe<re.length;oe++){const ge=re[oe];ge===" "&&!ne&&w===Fc&&(N+=(C-i*2-F)/W),this._partialTextX=N,this._partialTextY=j+D,this._partialText=ge,e.fillStrokeShape(this),N+=this.measureSize(ge).width+S}}else S!==0&&e.setAttr("letterSpacing",`${S}px`),this._partialTextX=N,this._partialTextY=j+D,this._partialText=V,e.fillStrokeShape(this);e.restore(),r>1&&(j+=l)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=C1.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(IN,n),this}getWidth(){return this.attrs.width===lu||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===lu||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return C1.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,i,s,l,u,d,m,w,C,S;let _=Um(),k=this.fontSize(),R;_.save(),_.font=this._getContextFont(),R=_.measureText(e),_.restore();const O=k/100;return{actualBoundingBoxAscent:(n=R.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*O,actualBoundingBoxDescent:(r=R.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=R.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*O,actualBoundingBoxRight:(s=R.actualBoundingBoxRight)!==null&&s!==void 0?s:75.732421875*O,alphabeticBaseline:(l=R.alphabeticBaseline)!==null&&l!==void 0?l:0,emHeightAscent:(u=R.emHeightAscent)!==null&&u!==void 0?u:100*O,emHeightDescent:(d=R.emHeightDescent)!==null&&d!==void 0?d:-20*O,fontBoundingBoxAscent:(m=R.fontBoundingBoxAscent)!==null&&m!==void 0?m:91*O,fontBoundingBoxDescent:(w=R.fontBoundingBoxDescent)!==null&&w!==void 0?w:21*O,hangingBaseline:(C=R.hangingBaseline)!==null&&C!==void 0?C:72.80000305175781*O,ideographicBaseline:(S=R.ideographicBaseline)!==null&&S!==void 0?S:-21*O,width:R.width,height:k}}_getContextFont(){return this.fontStyle()+qh+this.fontVariant()+qh+(this.fontSize()+BN)+HN(this.fontFamily())}_addTextLine(e){this.align()===Fc&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return Um().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,s=this.attrs.width,l=this.attrs.height,u=s!==lu&&s!==void 0,d=l!==lu&&l!==void 0,m=this.padding(),w=s-m*2,C=l-m*2,S=0,_=this.wrap(),k=_!==u4,R=_!==VN&&k,O=this.ellipsis();this.textArr=[],Um().font=this._getContextFont();const T=O?this._getTextWidth(Bm):0;for(let j=0,x=e.length;j<x;++j){let N=e[j],D=this._getTextWidth(N);if(u&&D>w)for(;N.length>0;){let M=0,V=el(N).length,F="",ne=0;for(;M<V;){const W=M+V>>>1,re=el(N),oe=re.slice(0,W+1).join(""),ge=this._getTextWidth(oe);(O&&d&&S+i>C?ge+T:ge)<=w?(M=W+1,F=oe,ne=ge):V=W}if(F){if(R){const oe=el(N),ge=el(F),Oe=oe[ge.length],ke=Oe===qh||Oe===a4;let Ke;if(ke&&ne<=w)Ke=ge.length;else{const Xe=ge.lastIndexOf(qh),ue=ge.lastIndexOf(a4);Ke=Math.max(Xe,ue)+1}Ke>0&&(M=Ke,F=oe.slice(0,M).join(""),ne=this._getTextWidth(F))}if(F=F.trimRight(),this._addTextLine(F),r=Math.max(r,ne),S+=i,this._shouldHandleEllipsis(S)){this._tryToAddEllipsisToLastLine();break}if(N=el(N).slice(M).join("").trimLeft(),N.length>0&&(D=this._getTextWidth(N),D<=w)){this._addTextLine(N),S+=i,r=Math.max(r,D);break}}else break}else this._addTextLine(N),S+=i,r=Math.max(r,D),this._shouldHandleEllipsis(S)&&j<x-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),d&&S+i>C)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,s=i!==lu&&i!==void 0,l=this.padding(),u=i-l*2;return!(this.wrap()!==u4)||s&&e+r>u}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==lu&&e!==void 0,r=this.padding(),i=e-r*2,s=this.ellipsis(),l=this.textArr[this.textArr.length-1];!l||!s||(n&&(this._getTextWidth(l.text+Bm)<i||(l.text=l.text.slice(0,l.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(l.text+Bm))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};cc.Text=dn;dn.prototype._fillFunc=KN;dn.prototype._strokeFunc=$N;dn.prototype.className=LN;dn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,ON._registerNode)(dn);cr.Factory.overWriteSetter(dn,"width",(0,_o.getNumberOrAutoValidator)());cr.Factory.overWriteSetter(dn,"height",(0,_o.getNumberOrAutoValidator)());cr.Factory.addGetterSetter(dn,"direction",lw);cr.Factory.addGetterSetter(dn,"fontFamily","Arial");cr.Factory.addGetterSetter(dn,"fontSize",12,(0,_o.getNumberValidator)());cr.Factory.addGetterSetter(dn,"fontStyle",cw);cr.Factory.addGetterSetter(dn,"fontVariant",cw);cr.Factory.addGetterSetter(dn,"padding",0,(0,_o.getNumberValidator)());cr.Factory.addGetterSetter(dn,"align",uw);cr.Factory.addGetterSetter(dn,"verticalAlign",FN);cr.Factory.addGetterSetter(dn,"lineHeight",1,(0,_o.getNumberValidator)());cr.Factory.addGetterSetter(dn,"wrap",GN);cr.Factory.addGetterSetter(dn,"ellipsis",!1,(0,_o.getBooleanValidator)());cr.Factory.addGetterSetter(dn,"letterSpacing",0,(0,_o.getNumberValidator)());cr.Factory.addGetterSetter(dn,"text","",(0,_o.getStringValidator)());cr.Factory.addGetterSetter(dn,"textDecoration","");var W0={};Object.defineProperty(W0,"__esModule",{value:!0});W0.TextPath=void 0;const Gm=rn,$i=vt,QN=An,zc=lc,Vm=cc,hw=et,YN=ft,XN="",fw="normal";function pw(t){t.fillText(this.partialText,0,0)}function mw(t){t.strokeText(this.partialText,0,0)}class Mn extends QN.Shape{constructor(e){super(e),this.dummyCanvas=Gm.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return zc.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e-1>n?null:zc.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=zc.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo;n==="underline"&&e.beginPath();for(let l=0;l<s.length;l++){e.save();const u=s[l].p0;e.translate(u.x,u.y),e.rotate(s[l].rotation),this.partialText=s[l].text,e.fillStrokeShape(this),n==="underline"&&(l===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const i=n[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Gm.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Vm.Text.prototype.setText.call(this,e)}_getContextFont(){return Vm.Text.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;const r=this.letterSpacing(),i=this.align(),s=this.kerningFunc(),l=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);let u=0;i==="center"&&(u=Math.max(0,this.pathLength/2-l/2)),i==="right"&&(u=Math.max(0,this.pathLength-l));const d=(0,Vm.stringToArray)(this.text());let m=u;for(let w=0;w<d.length;w++){const C=this._getPointAtLength(m);if(!C)return;let S=this._getTextSize(d[w]).width+r;if(d[w]===" "&&i==="justify"){const j=this.text().split(" ").length-1;S+=(this.pathLength-l)/j}const _=this._getPointAtLength(m+S);if(!_)return;const k=zc.Path.getLineLength(C.x,C.y,_.x,_.y);let R=0;if(s)try{R=s(d[w-1],d[w])*this.fontSize()}catch{R=0}C.x+=R,_.x+=R,this.textWidth+=R;const O=zc.Path.getPointOnLine(R+k/2,C.x,C.y,_.x,_.y),T=Math.atan2(_.y-C.y,_.x-C.x);this.glyphInfo.push({transposeX:O.x,transposeY:O.y,text:d[w],rotation:T,p0:C,p1:_}),m+=S}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(m){e.push(m.p0.x),e.push(m.p0.y),e.push(m.p1.x),e.push(m.p1.y)});let n=e[0]||0,r=e[0]||0,i=e[1]||0,s=e[1]||0,l,u;for(let m=0;m<e.length/2;m++)l=e[m*2],u=e[m*2+1],n=Math.min(n,l),r=Math.max(r,l),i=Math.min(i,u),s=Math.max(s,u);const d=this.fontSize();return{x:n-d/2,y:i-d/2,width:r-n+d,height:s-i+d}}destroy(){return Gm.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}W0.TextPath=Mn;Mn.prototype._fillFunc=pw;Mn.prototype._strokeFunc=mw;Mn.prototype._fillFuncHit=pw;Mn.prototype._strokeFuncHit=mw;Mn.prototype.className="TextPath";Mn.prototype._attrsAffectingSize=["text","fontSize","data"];(0,YN._registerNode)(Mn);$i.Factory.addGetterSetter(Mn,"data");$i.Factory.addGetterSetter(Mn,"fontFamily","Arial");$i.Factory.addGetterSetter(Mn,"fontSize",12,(0,hw.getNumberValidator)());$i.Factory.addGetterSetter(Mn,"fontStyle",fw);$i.Factory.addGetterSetter(Mn,"align","left");$i.Factory.addGetterSetter(Mn,"letterSpacing",0,(0,hw.getNumberValidator)());$i.Factory.addGetterSetter(Mn,"textBaseline","middle");$i.Factory.addGetterSetter(Mn,"fontVariant",fw);$i.Factory.addGetterSetter(Mn,"text",XN);$i.Factory.addGetterSetter(Mn,"textDecoration","");$i.Factory.addGetterSetter(Mn,"kerningFunc",void 0);var H0={};Object.defineProperty(H0,"__esModule",{value:!0});H0.Transformer=void 0;const Bt=rn,Dt=vt,c4=Zt,ZN=An,JN=Ud,d4=ac,Ii=ft,So=et,eP=ft,gw="tr-konva",tP=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${gw}`).join(" "),h4="nodesRect",nP=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],rP={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},iP="ontouchstart"in Ii.Konva._global;function sP(t,e,n){if(t==="rotater")return n;e+=Bt.Util.degToRad(rP[t]||0);const r=(Bt.Util.radToDeg(e)%360+360)%360;return Bt.Util._inRange(r,315+22.5,360)||Bt.Util._inRange(r,0,22.5)?"ns-resize":Bt.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":Bt.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":Bt.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":Bt.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":Bt.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":Bt.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":Bt.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(Bt.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const qf=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],f4=1e8;function aP(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function yw(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:i}}function oP(t,e){const n=aP(t);return yw(t,e,n)}function lP(t,e,n){let r=e;for(let i=0;i<t.length;i++){const s=Ii.Konva.getAngle(t[i]),l=Math.abs(s-e)%(Math.PI*2);Math.min(l,Math.PI*2-l)<n&&(r=s)}return r}let E1=0;class Ct extends d4.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(tP,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Bt.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return gw+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(Bt.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const l=i._attrsAffectingSize.map(u=>u+"Change."+this._getEventNamespace()).join(" ");i.on(l,s)}i.on(nP.map(l=>l+`.${this._getEventNamespace()}`).join(" "),s),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),s=i.x-n.x,l=i.y-n.y;this.nodes().forEach(u=>{if(u===e||u.isDragging())return;const d=u.getAbsolutePosition();u.setAbsolutePosition({x:d.x+s,y:d.y+l}),u.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(h4),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(h4,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),l=e.getAbsolutePosition(r),u=i.x*s.x-e.offsetX()*s.x,d=i.y*s.y-e.offsetY()*s.y,m=(Ii.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),w={x:l.x+u*Math.cos(m)+d*Math.sin(-m),y:l.y+d*Math.cos(m)+u*Math.sin(m),width:i.width*s.x,height:i.height*s.y,rotation:m};return yw(w,-Ii.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-f4,y:-f4,width:0,height:0,rotation:0};const n=[];this.nodes().map(m=>{const w=m.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),C=[{x:w.x,y:w.y},{x:w.x+w.width,y:w.y},{x:w.x+w.width,y:w.y+w.height},{x:w.x,y:w.y+w.height}],S=m.getAbsoluteTransform();C.forEach(function(_){const k=S.point(_);n.push(k)})});const r=new Bt.Transform;r.rotate(-Ii.Konva.getAngle(this.rotation()));let i=1/0,s=1/0,l=-1/0,u=-1/0;n.forEach(function(m){const w=r.point(m);i===void 0&&(i=l=w.x,s=u=w.y),i=Math.min(i,w.x),s=Math.min(s,w.y),l=Math.max(l,w.x),u=Math.max(u,w.y)}),r.invert();const d=r.point({x:i,y:s});return{x:d.x,y:d.y,width:l-i,height:u-s,rotation:Ii.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),qf.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new JN.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:iP?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=Ii.Konva.getAngle(this.rotation()),s=this.rotateAnchorCursor(),l=sP(e,i,s);n.getStage().content&&(n.getStage().content.style.cursor=l),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new ZN.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n,r){const i=r.getParent(),s=i.padding();n.beginPath(),n.rect(-s,-s,r.width()+s*2,r.height()+s*2),n.moveTo(r.width()/2,-s),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(r.width()/2,-i.rotateAnchorOffset()*Bt.Util._sign(r.height())-s),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,i=n.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const l=e.target.getAbsolutePosition(),u=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:u.x-l.x,y:u.y-l.y},E1++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(d=>{d._fire("transformstart",{evt:e.evt,target:d})})}_handleMouseMove(e){let n,r,i;const s=this.findOne("."+this._movingAnchorName),l=s.getStage();l.setPointersPositions(e);const u=l.getPointerPosition();let d={x:u.x-this._anchorDragOffset.x,y:u.y-this._anchorDragOffset.y};const m=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(d=this.anchorDragBoundFunc()(m,d,e)),s.setAbsolutePosition(d);const w=s.getAbsolutePosition();if(m.x===w.x&&m.y===w.y)return;if(this._movingAnchorName==="rotater"){const j=this._getNodeRect();n=s.x()-j.width/2,r=-s.y()+j.height/2;let x=Math.atan2(-r,n)+Math.PI/2;j.height<0&&(x-=Math.PI);const D=Ii.Konva.getAngle(this.rotation())+x,M=Ii.Konva.getAngle(this.rotationSnapTolerance()),F=lP(this.rotationSnaps(),D,M)-j.rotation,ne=oP(j,F);this._fitNodesInto(ne,e);return}const C=this.shiftBehavior();let S;C==="inverted"?S=this.keepRatio()&&!e.shiftKey:C==="none"?S=this.keepRatio():S=this.keepRatio()||e.shiftKey;let _=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(S){const j=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(j.x-s.x(),2)+Math.pow(j.y-s.y(),2));const x=this.findOne(".top-left").x()>j.x?-1:1,N=this.findOne(".top-left").y()>j.y?-1:1;n=i*this.cos*x,r=i*this.sin*N,this.findOne(".top-left").x(j.x-n),this.findOne(".top-left").y(j.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(s.y());else if(this._movingAnchorName==="top-right"){if(S){const j=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(s.x()-j.x,2)+Math.pow(j.y-s.y(),2));const x=this.findOne(".top-right").x()<j.x?-1:1,N=this.findOne(".top-right").y()>j.y?-1:1;n=i*this.cos*x,r=i*this.sin*N,this.findOne(".top-right").x(j.x+n),this.findOne(".top-right").y(j.y-r)}var k=s.position();this.findOne(".top-left").y(k.y),this.findOne(".bottom-right").x(k.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(s.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(s.x());else if(this._movingAnchorName==="bottom-left"){if(S){const j=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(j.x-s.x(),2)+Math.pow(s.y()-j.y,2));const x=j.x<s.x()?-1:1,N=s.y()<j.y?-1:1;n=i*this.cos*x,r=i*this.sin*N,s.x(j.x-n),s.y(j.y+r)}k=s.position(),this.findOne(".top-left").x(k.x),this.findOne(".bottom-right").y(k.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(s.y());else if(this._movingAnchorName==="bottom-right"){if(S){const j=_?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(s.x()-j.x,2)+Math.pow(s.y()-j.y,2));const x=this.findOne(".bottom-right").x()<j.x?-1:1,N=this.findOne(".bottom-right").y()<j.y?-1:1;n=i*this.cos*x,r=i*this.sin*N,this.findOne(".bottom-right").x(j.x+n),this.findOne(".bottom-right").y(j.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(_=this.centeredScaling()||e.altKey,_){const j=this.findOne(".top-left"),x=this.findOne(".bottom-right"),N=j.x(),D=j.y(),M=this.getWidth()-x.x(),V=this.getHeight()-x.y();x.move({x:-N,y:-D}),j.move({x:M,y:V})}const R=this.findOne(".top-left").getAbsolutePosition();n=R.x,r=R.y;const O=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),T=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:O,height:T,rotation:Ii.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();E1--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(i=>{var s;i._fire("transformend",{evt:e,target:i}),(s=i.getLayer())===null||s===void 0||s.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),i=1;if(Bt.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(Bt.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const s=new Bt.Transform;if(s.rotate(Ii.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const S=s.point({x:-this.padding()*2,y:0});e.x+=S.x,e.y+=S.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const S=s.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const S=s.point({x:0,y:-this.padding()*2});e.x+=S.x,e.y+=S.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const S=s.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=S.x,this._anchorDragOffset.y-=S.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const S=this.boundBoxFunc()(r,e);S?e=S:Bt.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const l=1e7,u=new Bt.Transform;u.translate(r.x,r.y),u.rotate(r.rotation),u.scale(r.width/l,r.height/l);const d=new Bt.Transform,m=e.width/l,w=e.height/l;this.flipEnabled()===!1?(d.translate(e.x,e.y),d.rotate(e.rotation),d.translate(e.width<0?e.width:0,e.height<0?e.height:0),d.scale(Math.abs(m),Math.abs(w))):(d.translate(e.x,e.y),d.rotate(e.rotation),d.scale(m,w));const C=d.multiply(u.invert());this._nodes.forEach(S=>{var _;const k=S.getParent().getAbsoluteTransform(),R=S.getTransform().copy();R.translate(S.offsetX(),S.offsetY());const O=new Bt.Transform;O.multiply(k.copy().invert()).multiply(C).multiply(k).multiply(R);const T=O.decompose();S.setAttrs(T),(_=S.getLayer())===null||_===void 0||_.batchDraw()}),this.rotation(Bt.Util._getRotation(e.rotation)),this._nodes.forEach(S=>{this._fire("transform",{evt:n,target:S}),S._fire("transform",{evt:n,target:S})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(Bt.Util._getRotation(n.rotation));const r=n.width,i=n.height,s=this.enabledAnchors(),l=this.resizeEnabled(),u=this.padding(),d=this.anchorSize(),m=this.find("._anchor");m.forEach(C=>{C.setAttrs({width:d,height:d,offsetX:d/2,offsetY:d/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:d/2+u,offsetY:d/2+u,visible:l&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:d/2+u,visible:l&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:d/2-u,offsetY:d/2+u,visible:l&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:d/2+u,visible:l&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:d/2-u,visible:l&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:d/2+u,offsetY:d/2-u,visible:l&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:d/2-u,visible:l&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:d/2-u,offsetY:d/2-u,visible:l&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*Bt.Util._sign(i)-u,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const w=this.anchorStyleFunc();w&&m.forEach(C=>{w(C)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),d4.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return c4.Node.prototype.toObject.call(this)}clone(e){return c4.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}H0.Transformer=Ct;Ct.isTransforming=()=>E1>0;function uP(t){return t instanceof Array||Bt.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){qf.indexOf(e)===-1&&Bt.Util.warn("Unknown anchor name: "+e+". Available names are: "+qf.join(", "))}),t||[]}Ct.prototype.className="Transformer";(0,eP._registerNode)(Ct);Dt.Factory.addGetterSetter(Ct,"enabledAnchors",qf,uP);Dt.Factory.addGetterSetter(Ct,"flipEnabled",!0,(0,So.getBooleanValidator)());Dt.Factory.addGetterSetter(Ct,"resizeEnabled",!0);Dt.Factory.addGetterSetter(Ct,"anchorSize",10,(0,So.getNumberValidator)());Dt.Factory.addGetterSetter(Ct,"rotateEnabled",!0);Dt.Factory.addGetterSetter(Ct,"rotateLineVisible",!0);Dt.Factory.addGetterSetter(Ct,"rotationSnaps",[]);Dt.Factory.addGetterSetter(Ct,"rotateAnchorOffset",50,(0,So.getNumberValidator)());Dt.Factory.addGetterSetter(Ct,"rotateAnchorCursor","crosshair");Dt.Factory.addGetterSetter(Ct,"rotationSnapTolerance",5,(0,So.getNumberValidator)());Dt.Factory.addGetterSetter(Ct,"borderEnabled",!0);Dt.Factory.addGetterSetter(Ct,"anchorStroke","rgb(0, 161, 255)");Dt.Factory.addGetterSetter(Ct,"anchorStrokeWidth",1,(0,So.getNumberValidator)());Dt.Factory.addGetterSetter(Ct,"anchorFill","white");Dt.Factory.addGetterSetter(Ct,"anchorCornerRadius",0,(0,So.getNumberValidator)());Dt.Factory.addGetterSetter(Ct,"borderStroke","rgb(0, 161, 255)");Dt.Factory.addGetterSetter(Ct,"borderStrokeWidth",1,(0,So.getNumberValidator)());Dt.Factory.addGetterSetter(Ct,"borderDash");Dt.Factory.addGetterSetter(Ct,"keepRatio",!0);Dt.Factory.addGetterSetter(Ct,"shiftBehavior","default");Dt.Factory.addGetterSetter(Ct,"centeredScaling",!1);Dt.Factory.addGetterSetter(Ct,"ignoreStroke",!1);Dt.Factory.addGetterSetter(Ct,"padding",0,(0,So.getNumberValidator)());Dt.Factory.addGetterSetter(Ct,"nodes");Dt.Factory.addGetterSetter(Ct,"node");Dt.Factory.addGetterSetter(Ct,"boundBoxFunc");Dt.Factory.addGetterSetter(Ct,"anchorDragBoundFunc");Dt.Factory.addGetterSetter(Ct,"anchorStyleFunc");Dt.Factory.addGetterSetter(Ct,"shouldOverdrawWholeArea",!1);Dt.Factory.addGetterSetter(Ct,"useSingleNodeRotation",!0);Dt.Factory.backCompat(Ct,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var K0={};Object.defineProperty(K0,"__esModule",{value:!0});K0.Wedge=void 0;const $0=vt,cP=An,dP=ft,vw=et,hP=ft;class la extends cP.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,dP.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}K0.Wedge=la;la.prototype.className="Wedge";la.prototype._centroid=!0;la.prototype._attrsAffectingSize=["radius"];(0,hP._registerNode)(la);$0.Factory.addGetterSetter(la,"radius",0,(0,vw.getNumberValidator)());$0.Factory.addGetterSetter(la,"angle",0,(0,vw.getNumberValidator)());$0.Factory.addGetterSetter(la,"clockwise",!1);$0.Factory.backCompat(la,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var q0={};Object.defineProperty(q0,"__esModule",{value:!0});q0.Blur=void 0;const p4=vt,fP=Zt,pP=et;function m4(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const mP=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],gP=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function yP(t,e){const n=t.data,r=t.width,i=t.height;let s,l,u,d,m,w,C,S,_,k,R,O,T,j,x,N,D,M,V,F;const ne=e+e+1,W=r-1,re=i-1,oe=e+1,ge=oe*(oe+1)/2,Oe=new m4,ke=mP[e],Ke=gP[e];let Xe=null,ue=Oe,fe=null,me=null;for(let Le=1;Le<ne;Le++)ue=ue.next=new m4,Le===oe&&(Xe=ue);ue.next=Oe,u=l=0;for(let Le=0;Le<i;Le++){O=T=j=x=d=m=w=C=0,S=oe*(N=n[l]),_=oe*(D=n[l+1]),k=oe*(M=n[l+2]),R=oe*(V=n[l+3]),d+=ge*N,m+=ge*D,w+=ge*M,C+=ge*V,ue=Oe;for(let ye=0;ye<oe;ye++)ue.r=N,ue.g=D,ue.b=M,ue.a=V,ue=ue.next;for(let ye=1;ye<oe;ye++)s=l+((W<ye?W:ye)<<2),d+=(ue.r=N=n[s])*(F=oe-ye),m+=(ue.g=D=n[s+1])*F,w+=(ue.b=M=n[s+2])*F,C+=(ue.a=V=n[s+3])*F,O+=N,T+=D,j+=M,x+=V,ue=ue.next;fe=Oe,me=Xe;for(let ye=0;ye<r;ye++)n[l+3]=V=C*ke>>Ke,V!==0?(V=255/V,n[l]=(d*ke>>Ke)*V,n[l+1]=(m*ke>>Ke)*V,n[l+2]=(w*ke>>Ke)*V):n[l]=n[l+1]=n[l+2]=0,d-=S,m-=_,w-=k,C-=R,S-=fe.r,_-=fe.g,k-=fe.b,R-=fe.a,s=u+((s=ye+e+1)<W?s:W)<<2,O+=fe.r=n[s],T+=fe.g=n[s+1],j+=fe.b=n[s+2],x+=fe.a=n[s+3],d+=O,m+=T,w+=j,C+=x,fe=fe.next,S+=N=me.r,_+=D=me.g,k+=M=me.b,R+=V=me.a,O-=N,T-=D,j-=M,x-=V,me=me.next,l+=4;u+=r}for(let Le=0;Le<r;Le++){T=j=x=O=m=w=C=d=0,l=Le<<2,S=oe*(N=n[l]),_=oe*(D=n[l+1]),k=oe*(M=n[l+2]),R=oe*(V=n[l+3]),d+=ge*N,m+=ge*D,w+=ge*M,C+=ge*V,ue=Oe;for(let Be=0;Be<oe;Be++)ue.r=N,ue.g=D,ue.b=M,ue.a=V,ue=ue.next;let ye=r;for(let Be=1;Be<=e;Be++)l=ye+Le<<2,d+=(ue.r=N=n[l])*(F=oe-Be),m+=(ue.g=D=n[l+1])*F,w+=(ue.b=M=n[l+2])*F,C+=(ue.a=V=n[l+3])*F,O+=N,T+=D,j+=M,x+=V,ue=ue.next,Be<re&&(ye+=r);l=Le,fe=Oe,me=Xe;for(let Be=0;Be<i;Be++)s=l<<2,n[s+3]=V=C*ke>>Ke,V>0?(V=255/V,n[s]=(d*ke>>Ke)*V,n[s+1]=(m*ke>>Ke)*V,n[s+2]=(w*ke>>Ke)*V):n[s]=n[s+1]=n[s+2]=0,d-=S,m-=_,w-=k,C-=R,S-=fe.r,_-=fe.g,k-=fe.b,R-=fe.a,s=Le+((s=Be+oe)<re?s:re)*r<<2,d+=O+=fe.r=n[s],m+=T+=fe.g=n[s+1],w+=j+=fe.b=n[s+2],C+=x+=fe.a=n[s+3],fe=fe.next,S+=N=me.r,_+=D=me.g,k+=M=me.b,R+=V=me.a,O-=N,T-=D,j-=M,x-=V,me=me.next,l+=r}}const vP=function(e){const n=Math.round(this.blurRadius());n>0&&yP(e,n)};q0.Blur=vP;p4.Factory.addGetterSetter(fP.Node,"blurRadius",0,(0,pP.getNumberValidator)(),p4.Factory.afterSetFilter);var Q0={};Object.defineProperty(Q0,"__esModule",{value:!0});Q0.Brighten=void 0;const g4=vt,xP=Zt,wP=et,_P=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};Q0.Brighten=_P;g4.Factory.addGetterSetter(xP.Node,"brightness",0,(0,wP.getNumberValidator)(),g4.Factory.afterSetFilter);var Y0={};Object.defineProperty(Y0,"__esModule",{value:!0});Y0.Contrast=void 0;const y4=vt,SP=Zt,bP=et,kP=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let i=150,s=150,l=150;for(let u=0;u<r;u+=4)i=n[u],s=n[u+1],l=n[u+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,l/=255,l-=.5,l*=e,l+=.5,l*=255,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,l=l<0?0:l>255?255:l,n[u]=i,n[u+1]=s,n[u+2]=l};Y0.Contrast=kP;y4.Factory.addGetterSetter(SP.Node,"contrast",0,(0,bP.getNumberValidator)(),y4.Factory.afterSetFilter);var X0={};Object.defineProperty(X0,"__esModule",{value:!0});X0.Emboss=void 0;const fo=vt,Z0=Zt,CP=rn,xw=et,EP=function(t){const e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),s=t.data,l=t.width,u=t.height,d=l*4;let m=0,w=0,C=u;switch(r){case"top-left":m=-1,w=-1;break;case"top":m=-1,w=0;break;case"top-right":m=-1,w=1;break;case"right":m=0,w=1;break;case"bottom-right":m=1,w=1;break;case"bottom":m=1,w=0;break;case"bottom-left":m=1,w=-1;break;case"left":m=0,w=-1;break;default:CP.Util.error("Unknown emboss direction: "+r)}do{const S=(C-1)*d;let _=m;C+_<1&&(_=0),C+_>u&&(_=0);const k=(C-1+_)*l*4;let R=l;do{const O=S+(R-1)*4;let T=w;R+T<1&&(T=0),R+T>l&&(T=0);const j=k+(R-1+T)*4,x=s[O]-s[j],N=s[O+1]-s[j+1],D=s[O+2]-s[j+2];let M=x;const V=M>0?M:-M,F=N>0?N:-N,ne=D>0?D:-D;if(F>V&&(M=N),ne>V&&(M=D),M*=e,i){const W=s[O]+M,re=s[O+1]+M,oe=s[O+2]+M;s[O]=W>255?255:W<0?0:W,s[O+1]=re>255?255:re<0?0:re,s[O+2]=oe>255?255:oe<0?0:oe}else{let W=n-M;W<0?W=0:W>255&&(W=255),s[O]=s[O+1]=s[O+2]=W}}while(--R)}while(--C)};X0.Emboss=EP;fo.Factory.addGetterSetter(Z0.Node,"embossStrength",.5,(0,xw.getNumberValidator)(),fo.Factory.afterSetFilter);fo.Factory.addGetterSetter(Z0.Node,"embossWhiteLevel",.5,(0,xw.getNumberValidator)(),fo.Factory.afterSetFilter);fo.Factory.addGetterSetter(Z0.Node,"embossDirection","top-left",void 0,fo.Factory.afterSetFilter);fo.Factory.addGetterSetter(Z0.Node,"embossBlend",!1,void 0,fo.Factory.afterSetFilter);var J0={};Object.defineProperty(J0,"__esModule",{value:!0});J0.Enhance=void 0;const v4=vt,NP=Zt,PP=et;function Wm(t,e,n,r,i){const s=n-e,l=i-r;if(s===0)return r+l/2;if(l===0)return r;let u=(t-e)/s;return u=l*u+r,u}const TP=function(t){const e=t.data,n=e.length;let r=e[0],i=r,s,l=e[1],u=l,d,m=e[2],w=m,C;const S=this.enhance();if(S===0)return;for(let x=0;x<n;x+=4)s=e[x+0],s<r?r=s:s>i&&(i=s),d=e[x+1],d<l?l=d:d>u&&(u=d),C=e[x+2],C<m?m=C:C>w&&(w=C);i===r&&(i=255,r=0),u===l&&(u=255,l=0),w===m&&(w=255,m=0);let _,k,R,O,T,j;if(S>0)_=i+S*(255-i),k=r-S*(r-0),R=u+S*(255-u),O=l-S*(l-0),T=w+S*(255-w),j=m-S*(m-0);else{const x=(i+r)*.5;_=i+S*(i-x),k=r+S*(r-x);const N=(u+l)*.5;R=u+S*(u-N),O=l+S*(l-N);const D=(w+m)*.5;T=w+S*(w-D),j=m+S*(m-D)}for(let x=0;x<n;x+=4)e[x+0]=Wm(e[x+0],r,i,k,_),e[x+1]=Wm(e[x+1],l,u,O,R),e[x+2]=Wm(e[x+2],m,w,j,T)};J0.Enhance=TP;v4.Factory.addGetterSetter(NP.Node,"enhance",0,(0,PP.getNumberValidator)(),v4.Factory.afterSetFilter);var ep={};Object.defineProperty(ep,"__esModule",{value:!0});ep.Grayscale=void 0;const jP=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};ep.Grayscale=jP;var tp={};Object.defineProperty(tp,"__esModule",{value:!0});tp.HSL=void 0;const Xu=vt,Vy=Zt,Wy=et;Xu.Factory.addGetterSetter(Vy.Node,"hue",0,(0,Wy.getNumberValidator)(),Xu.Factory.afterSetFilter);Xu.Factory.addGetterSetter(Vy.Node,"saturation",0,(0,Wy.getNumberValidator)(),Xu.Factory.afterSetFilter);Xu.Factory.addGetterSetter(Vy.Node,"luminance",0,(0,Wy.getNumberValidator)(),Xu.Factory.afterSetFilter);const RP=function(t){const e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,l=this.luminance()*127,u=r*i*Math.cos(s*Math.PI/180),d=r*i*Math.sin(s*Math.PI/180),m=.299*r+.701*u+.167*d,w=.587*r-.587*u+.33*d,C=.114*r-.114*u-.497*d,S=.299*r-.299*u-.328*d,_=.587*r+.413*u+.035*d,k=.114*r-.114*u+.293*d,R=.299*r-.3*u+1.25*d,O=.587*r-.586*u-1.05*d,T=.114*r+.886*u-.2*d;let j,x,N,D;for(let M=0;M<n;M+=4)j=e[M+0],x=e[M+1],N=e[M+2],D=e[M+3],e[M+0]=m*j+w*x+C*N+l,e[M+1]=S*j+_*x+k*N+l,e[M+2]=R*j+O*x+T*N+l,e[M+3]=D};tp.HSL=RP;var np={};Object.defineProperty(np,"__esModule",{value:!0});np.HSV=void 0;const Zu=vt,Hy=Zt,Ky=et,OP=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,l=r*i*Math.cos(s*Math.PI/180),u=r*i*Math.sin(s*Math.PI/180),d=.299*r+.701*l+.167*u,m=.587*r-.587*l+.33*u,w=.114*r-.114*l-.497*u,C=.299*r-.299*l-.328*u,S=.587*r+.413*l+.035*u,_=.114*r-.114*l+.293*u,k=.299*r-.3*l+1.25*u,R=.587*r-.586*l-1.05*u,O=.114*r+.886*l-.2*u;for(let T=0;T<n;T+=4){const j=e[T+0],x=e[T+1],N=e[T+2],D=e[T+3];e[T+0]=d*j+m*x+w*N,e[T+1]=C*j+S*x+_*N,e[T+2]=k*j+R*x+O*N,e[T+3]=D}};np.HSV=OP;Zu.Factory.addGetterSetter(Hy.Node,"hue",0,(0,Ky.getNumberValidator)(),Zu.Factory.afterSetFilter);Zu.Factory.addGetterSetter(Hy.Node,"saturation",0,(0,Ky.getNumberValidator)(),Zu.Factory.afterSetFilter);Zu.Factory.addGetterSetter(Hy.Node,"value",0,(0,Ky.getNumberValidator)(),Zu.Factory.afterSetFilter);var rp={};Object.defineProperty(rp,"__esModule",{value:!0});rp.Invert=void 0;const AP=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};rp.Invert=AP;var ip={};Object.defineProperty(ip,"__esModule",{value:!0});ip.Kaleidoscope=void 0;const Qf=vt,ww=Zt,x4=rn,_w=et,MP=function(t,e,n){const r=t.data,i=e.data,s=t.width,l=t.height,u=n.polarCenterX||s/2,d=n.polarCenterY||l/2;let m=Math.sqrt(u*u+d*d),w=s-u,C=l-d;const S=Math.sqrt(w*w+C*C);m=S>m?S:m;const _=l,k=s,R=360/k*Math.PI/180;for(let O=0;O<k;O+=1){const T=Math.sin(O*R),j=Math.cos(O*R);for(let x=0;x<_;x+=1){w=Math.floor(u+m*x/_*j),C=Math.floor(d+m*x/_*T);let N=(C*s+w)*4;const D=r[N+0],M=r[N+1],V=r[N+2],F=r[N+3];N=(O+x*s)*4,i[N+0]=D,i[N+1]=M,i[N+2]=V,i[N+3]=F}}},DP=function(t,e,n){const r=t.data,i=e.data,s=t.width,l=t.height,u=n.polarCenterX||s/2,d=n.polarCenterY||l/2;let m=Math.sqrt(u*u+d*d),w=s-u,C=l-d;const S=Math.sqrt(w*w+C*C);m=S>m?S:m;const _=l,k=s,R=n.polarRotation||0;let O,T;for(w=0;w<s;w+=1)for(C=0;C<l;C+=1){const j=w-u,x=C-d,N=Math.sqrt(j*j+x*x)*_/m;let D=(Math.atan2(x,j)*180/Math.PI+360+R)%360;D=D*k/360,O=Math.floor(D),T=Math.floor(N);let M=(T*s+O)*4;const V=r[M+0],F=r[M+1],ne=r[M+2],W=r[M+3];M=(C*s+w)*4,i[M+0]=V,i[M+1]=F,i[M+2]=ne,i[M+3]=W}},IP=function(t){const e=t.width,n=t.height;let r,i,s,l,u,d,m,w,C,S,_=Math.round(this.kaleidoscopePower());const k=Math.round(this.kaleidoscopeAngle()),R=Math.floor(e*(k%360)/360);if(_<1)return;const O=x4.Util.createCanvasElement();O.width=e,O.height=n;const T=O.getContext("2d").getImageData(0,0,e,n);x4.Util.releaseCanvas(O),MP(t,T,{polarCenterX:e/2,polarCenterY:n/2});let j=e/Math.pow(2,_);for(;j<=8;)j=j*2,_-=1;j=Math.ceil(j);let x=j,N=0,D=x,M=1;for(R+j>e&&(N=x,D=0,M=-1),i=0;i<n;i+=1)for(r=N;r!==D;r+=M)s=Math.round(r+R)%e,C=(e*i+s)*4,u=T.data[C+0],d=T.data[C+1],m=T.data[C+2],w=T.data[C+3],S=(e*i+r)*4,T.data[S+0]=u,T.data[S+1]=d,T.data[S+2]=m,T.data[S+3]=w;for(i=0;i<n;i+=1)for(x=Math.floor(j),l=0;l<_;l+=1){for(r=0;r<x+1;r+=1)C=(e*i+r)*4,u=T.data[C+0],d=T.data[C+1],m=T.data[C+2],w=T.data[C+3],S=(e*i+x*2-r-1)*4,T.data[S+0]=u,T.data[S+1]=d,T.data[S+2]=m,T.data[S+3]=w;x*=2}DP(T,t,{polarRotation:0})};ip.Kaleidoscope=IP;Qf.Factory.addGetterSetter(ww.Node,"kaleidoscopePower",2,(0,_w.getNumberValidator)(),Qf.Factory.afterSetFilter);Qf.Factory.addGetterSetter(ww.Node,"kaleidoscopeAngle",0,(0,_w.getNumberValidator)(),Qf.Factory.afterSetFilter);var sp={};Object.defineProperty(sp,"__esModule",{value:!0});sp.Mask=void 0;const w4=vt,LP=Zt,FP=et;function Yh(t,e,n){let r=(n*t.width+e)*4;const i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function Bc(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function zP(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function BP(t,e){const n=Yh(t,0,0),r=Yh(t,t.width-1,0),i=Yh(t,0,t.height-1),s=Yh(t,t.width-1,t.height-1),l=e||10;if(Bc(n,r)<l&&Bc(r,s)<l&&Bc(s,i)<l&&Bc(i,n)<l){const u=zP([r,n,s,i]),d=[];for(let m=0;m<t.width*t.height;m++){const w=Bc(u,[t.data[m*4],t.data[m*4+1],t.data[m*4+2]]);d[m]=w<l?0:255}return d}}function UP(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function GP(t,e,n){const r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),l=[];for(let u=0;u<n;u++)for(let d=0;d<e;d++){const m=u*e+d;let w=0;for(let C=0;C<i;C++)for(let S=0;S<i;S++){const _=u+C-s,k=d+S-s;if(_>=0&&_<n&&k>=0&&k<e){const R=_*e+k,O=r[C*i+S];w+=t[R]*O}}l[m]=w===255*8?255:0}return l}function VP(t,e,n){const r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),l=[];for(let u=0;u<n;u++)for(let d=0;d<e;d++){const m=u*e+d;let w=0;for(let C=0;C<i;C++)for(let S=0;S<i;S++){const _=u+C-s,k=d+S-s;if(_>=0&&_<n&&k>=0&&k<e){const R=_*e+k,O=r[C*i+S];w+=t[R]*O}}l[m]=w>=255*4?255:0}return l}function WP(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),l=[];for(let u=0;u<n;u++)for(let d=0;d<e;d++){const m=u*e+d;let w=0;for(let C=0;C<i;C++)for(let S=0;S<i;S++){const _=u+C-s,k=d+S-s;if(_>=0&&_<n&&k>=0&&k<e){const R=_*e+k,O=r[C*i+S];w+=t[R]*O}}l[m]=w}return l}const HP=function(t){const e=this.threshold();let n=BP(t,e);return n&&(n=GP(n,t.width,t.height),n=VP(n,t.width,t.height),n=WP(n,t.width,t.height),UP(t,n)),t};sp.Mask=HP;w4.Factory.addGetterSetter(LP.Node,"threshold",0,(0,FP.getNumberValidator)(),w4.Factory.afterSetFilter);var ap={};Object.defineProperty(ap,"__esModule",{value:!0});ap.Noise=void 0;const _4=vt,KP=Zt,$P=et,qP=function(t){const e=this.noise()*255,n=t.data,r=n.length,i=e/2;for(let s=0;s<r;s+=4)n[s+0]+=i-2*i*Math.random(),n[s+1]+=i-2*i*Math.random(),n[s+2]+=i-2*i*Math.random()};ap.Noise=qP;_4.Factory.addGetterSetter(KP.Node,"noise",.2,(0,$P.getNumberValidator)(),_4.Factory.afterSetFilter);var op={};Object.defineProperty(op,"__esModule",{value:!0});op.Pixelate=void 0;const S4=vt,QP=rn,YP=Zt,XP=et,ZP=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i=Math.ceil(n/e),s=Math.ceil(r/e),l=t.data;if(e<=0){QP.Util.error("pixelSize value can not be <= 0");return}for(let u=0;u<i;u+=1)for(let d=0;d<s;d+=1){let m=0,w=0,C=0,S=0;const _=u*e,k=_+e,R=d*e,O=R+e;let T=0;for(let j=_;j<k;j+=1)if(!(j>=n))for(let x=R;x<O;x+=1){if(x>=r)continue;const N=(n*x+j)*4;m+=l[N+0],w+=l[N+1],C+=l[N+2],S+=l[N+3],T+=1}m=m/T,w=w/T,C=C/T,S=S/T;for(let j=_;j<k;j+=1)if(!(j>=n))for(let x=R;x<O;x+=1){if(x>=r)continue;const N=(n*x+j)*4;l[N+0]=m,l[N+1]=w,l[N+2]=C,l[N+3]=S}}};op.Pixelate=ZP;S4.Factory.addGetterSetter(YP.Node,"pixelSize",8,(0,XP.getNumberValidator)(),S4.Factory.afterSetFilter);var lp={};Object.defineProperty(lp,"__esModule",{value:!0});lp.Posterize=void 0;const b4=vt,JP=Zt,eT=et,tT=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e;for(let s=0;s<r;s+=1)n[s]=Math.floor(n[s]/i)*i};lp.Posterize=tT;b4.Factory.addGetterSetter(JP.Node,"levels",.5,(0,eT.getNumberValidator)(),b4.Factory.afterSetFilter);var up={};Object.defineProperty(up,"__esModule",{value:!0});up.RGB=void 0;const Yf=vt,$y=Zt,nT=et,rT=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue();for(let l=0;l<n;l+=4){const u=(.34*e[l]+.5*e[l+1]+.16*e[l+2])/255;e[l]=u*r,e[l+1]=u*i,e[l+2]=u*s,e[l+3]=e[l+3]}};up.RGB=rT;Yf.Factory.addGetterSetter($y.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Yf.Factory.addGetterSetter($y.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Yf.Factory.addGetterSetter($y.Node,"blue",0,nT.RGBComponent,Yf.Factory.afterSetFilter);var cp={};Object.defineProperty(cp,"__esModule",{value:!0});cp.RGBA=void 0;const Pd=vt,dp=Zt,iT=et,sT=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),l=this.alpha();for(let u=0;u<n;u+=4){const d=1-l;e[u]=r*l+e[u]*d,e[u+1]=i*l+e[u+1]*d,e[u+2]=s*l+e[u+2]*d}};cp.RGBA=sT;Pd.Factory.addGetterSetter(dp.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Pd.Factory.addGetterSetter(dp.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Pd.Factory.addGetterSetter(dp.Node,"blue",0,iT.RGBComponent,Pd.Factory.afterSetFilter);Pd.Factory.addGetterSetter(dp.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});var hp={};Object.defineProperty(hp,"__esModule",{value:!0});hp.Sepia=void 0;const aT=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=e[r+0],s=e[r+1],l=e[r+2];e[r+0]=Math.min(255,i*.393+s*.769+l*.189),e[r+1]=Math.min(255,i*.349+s*.686+l*.168),e[r+2]=Math.min(255,i*.272+s*.534+l*.131)}};hp.Sepia=aT;var fp={};Object.defineProperty(fp,"__esModule",{value:!0});fp.Solarize=void 0;const oT=function(t){const e=t.data,n=t.width,r=t.height,i=n*4;let s=r;do{const l=(s-1)*i;let u=n;do{const d=l+(u-1)*4;let m=e[d],w=e[d+1],C=e[d+2];m>127&&(m=255-m),w>127&&(w=255-w),C>127&&(C=255-C),e[d]=m,e[d+1]=w,e[d+2]=C}while(--u)}while(--s)};fp.Solarize=oT;var pp={};Object.defineProperty(pp,"__esModule",{value:!0});pp.Threshold=void 0;const k4=vt,lT=Zt,uT=et,cT=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=1)n[i]=n[i]<e?0:255};pp.Threshold=cT;k4.Factory.addGetterSetter(lT.Node,"threshold",.5,(0,uT.getNumberValidator)(),k4.Factory.afterSetFilter);Object.defineProperty(k0,"__esModule",{value:!0});k0.Konva=void 0;const C4=Kf,dT=T0,hT=O0,fT=D0,pT=I0,mT=L0,E4=Yu,gT=zd,yT=lc,vT=Ud,xT=B0,wT=U0,_T=G0,ST=V0,bT=cc,kT=W0,CT=H0,ET=K0,NT=q0,PT=Q0,TT=Y0,jT=X0,RT=J0,OT=ep,AT=tp,MT=np,DT=rp,IT=ip,LT=sp,FT=ap,zT=op,BT=lp,UT=up,GT=cp,VT=hp,WT=fp,HT=pp;k0.Konva=C4.Konva.Util._assign(C4.Konva,{Arc:dT.Arc,Arrow:hT.Arrow,Circle:fT.Circle,Ellipse:pT.Ellipse,Image:mT.Image,Label:E4.Label,Tag:E4.Tag,Line:gT.Line,Path:yT.Path,Rect:vT.Rect,RegularPolygon:xT.RegularPolygon,Ring:wT.Ring,Sprite:_T.Sprite,Star:ST.Star,Text:bT.Text,TextPath:kT.TextPath,Transformer:CT.Transformer,Wedge:ET.Wedge,Filters:{Blur:NT.Blur,Brighten:PT.Brighten,Contrast:TT.Contrast,Emboss:jT.Emboss,Enhance:RT.Enhance,Grayscale:OT.Grayscale,HSL:AT.HSL,HSV:MT.HSV,Invert:DT.Invert,Kaleidoscope:IT.Kaleidoscope,Mask:LT.Mask,Noise:FT.Noise,Pixelate:zT.Pixelate,Posterize:BT.Posterize,RGB:UT.RGB,RGBA:GT.RGBA,Sepia:VT.Sepia,Solarize:WT.Solarize,Threshold:HT.Threshold}});var KT=G6.exports;Object.defineProperty(KT,"__esModule",{value:!0});const $T=k0;G6.exports=$T.Konva;var N1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var n=Kf;Object.defineProperty(e,"Konva",{enumerable:!0,get:function(){return n.Konva}});const r=Kf;t.exports=r.Konva})(N1,N1.exports);var qT=N1.exports;const Td=Ju(qT);var Sw={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT=function(e){var n={},r=U,i=qc,s=Object.assign;function l(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),m=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),k=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),D=Symbol.iterator;function M(a){return a===null||typeof a!="object"?null:(a=D&&a[D]||a["@@iterator"],typeof a=="function"?a:null)}function V(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case m:return"Portal";case S:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case k:return(a.displayName||"Context")+".Consumer";case _:return(a._context.displayName||"Context")+".Provider";case R:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case j:return o=a.displayName||null,o!==null?o:V(a.type)||"Memo";case x:o=a._payload,a=a._init;try{return V(a(o))}catch{}}return null}function F(a){var o=a.type;switch(a.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=o.render,a=a.displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ne(a){var o=a,h=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,o.flags&4098&&(h=o.return),a=o.return;while(a)}return o.tag===3?h:null}function W(a){if(ne(a)!==a)throw Error(l(188))}function re(a){var o=a.alternate;if(!o){if(o=ne(a),o===null)throw Error(l(188));return o!==a?null:a}for(var h=a,p=o;;){var g=h.return;if(g===null)break;var E=g.alternate;if(E===null){if(p=g.return,p!==null){h=p;continue}break}if(g.child===E.child){for(E=g.child;E;){if(E===h)return W(g),a;if(E===p)return W(g),o;E=E.sibling}throw Error(l(188))}if(h.return!==p.return)h=g,p=E;else{for(var I=!1,J=g.child;J;){if(J===h){I=!0,h=g,p=E;break}if(J===p){I=!0,p=g,h=E;break}J=J.sibling}if(!I){for(J=E.child;J;){if(J===h){I=!0,h=E,p=g;break}if(J===p){I=!0,p=E,h=g;break}J=J.sibling}if(!I)throw Error(l(189))}}if(h.alternate!==p)throw Error(l(190))}if(h.tag!==3)throw Error(l(188));return h.stateNode.current===h?a:o}function oe(a){return a=re(a),a!==null?ge(a):null}function ge(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var o=ge(a);if(o!==null)return o;a=a.sibling}return null}function Oe(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var o=Oe(a);if(o!==null)return o}a=a.sibling}return null}var ke=Array.isArray,Ke=e.getPublicInstance,Xe=e.getRootHostContext,ue=e.getChildHostContext,fe=e.prepareForCommit,me=e.resetAfterCommit,Le=e.createInstance,ye=e.appendInitialChild,Be=e.finalizeInitialChildren,Ze=e.prepareUpdate,ct=e.shouldSetTextContent,pt=e.createTextInstance,K=e.scheduleTimeout,ve=e.cancelTimeout,pe=e.noTimeout,xt=e.isPrimaryRenderer,$e=e.supportsMutation,He=e.supportsPersistence,Et=e.supportsHydration,kr=e.getInstanceFromNode,wt=e.preparePortalMount,Wr=e.getCurrentEventPriority,dr=e.detachDeletedInstance,Cr=e.supportsMicrotasks,dc=e.scheduleMicrotask,ri=e.supportsTestSelectors,Dn=e.findFiberRoot,ko=e.getBoundingRect,hr=e.getTextContent,qi=e.isHiddenSubtree,ks=e.matchAccessibilityRole,sn=e.setFocusIfFocusable,Jn=e.setupIntersectionObserver,Co=e.appendChild,Cs=e.appendChildToContainer,Qi=e.commitTextUpdate,ua=e.commitMount,ii=e.commitUpdate,Yi=e.insertBefore,si=e.insertInContainerBefore,Hr=e.removeChild,Ie=e.removeChildFromContainer,Xi=e.resetTextContent,Ci=e.hideInstance,Es=e.hideTextInstance,je=e.unhideInstance,Eo=e.unhideTextInstance,ca=e.clearContainer,Er=e.cloneInstance,No=e.createContainerChildSet,Ye=e.appendChildToContainerChildSet,Tt=e.finalizeContainerChildren,It=e.replaceContainerChildren,hn=e.cloneHiddenInstance,fn=e.cloneHiddenTextInstance,Nr=e.canHydrateInstance,Pr=e.canHydrateTextInstance,mt=e.canHydrateSuspenseInstance,Lt=e.isSuspenseInstancePending,hc=e.isSuspenseInstanceFallback,Ml=e.getSuspenseInstanceFallbackErrorDetails,Dl=e.registerSuspenseInstanceRetry,Ns=e.getNextHydratableSibling,gp=e.getFirstHydratableChild,Zi=e.getFirstHydratableChildWithinContainer,da=e.getFirstHydratableChildWithinSuspenseInstance,Ji=e.hydrateInstance,Il=e.hydrateTextInstance,yp=e.hydrateSuspenseInstance,es=e.getNextHydratableInstanceAfterSuspenseInstance,Gd=e.commitHydratedContainer,Ps=e.commitHydratedSuspenseInstance,Vd=e.clearSuspenseBoundary,fc=e.clearSuspenseBoundaryFromContainer,Jt=e.shouldDeleteUnhydratedTailInstances,Ts=e.didNotMatchHydratedContainerTextInstance,Ei=e.didNotMatchHydratedTextInstance,Ll;function ai(a){if(Ll===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);Ll=o&&o[1]||""}return`
`+Ll+a}var ha=!1;function Po(a,o){if(!a||ha)return"";ha=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Ce){var p=Ce}Reflect.construct(a,[],o)}else{try{o.call()}catch(Ce){p=Ce}a.call(o.prototype)}else{try{throw Error()}catch(Ce){p=Ce}a()}}catch(Ce){if(Ce&&p&&typeof Ce.stack=="string"){for(var g=Ce.stack.split(`
`),E=p.stack.split(`
`),I=g.length-1,J=E.length-1;1<=I&&0<=J&&g[I]!==E[J];)J--;for(;1<=I&&0<=J;I--,J--)if(g[I]!==E[J]){if(I!==1||J!==1)do if(I--,J--,0>J||g[I]!==E[J]){var le=`
`+g[I].replace(" at new "," at ");return a.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",a.displayName)),le}while(1<=I&&0<=J);break}}}finally{ha=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?ai(a):""}var pc=Object.prototype.hasOwnProperty,Ni=[],js=-1;function Kr(a){return{current:a}}function zt(a){0>js||(a.current=Ni[js],Ni[js]=null,js--)}function Ve(a,o){js++,Ni[js]=a.current,a.current=o}var Pi={},kn=Kr(Pi),Cn=Kr(!1),ts=Pi;function jt(a,o){var h=a.type.contextTypes;if(!h)return Pi;var p=a.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var g={},E;for(E in h)g[E]=o[E];return p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=o,a.__reactInternalMemoizedMaskedChildContext=g),g}function wn(a){return a=a.childContextTypes,a!=null}function ns(){zt(Cn),zt(kn)}function Rs(a,o,h){if(kn.current!==Pi)throw Error(l(168));Ve(kn,o),Ve(Cn,h)}function Fl(a,o,h){var p=a.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return h;p=p.getChildContext();for(var g in p)if(!(g in o))throw Error(l(108,F(a)||"Unknown",g));return s({},h,p)}function fa(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Pi,ts=kn.current,Ve(kn,a),Ve(Cn,Cn.current),!0}function To(a,o,h){var p=a.stateNode;if(!p)throw Error(l(169));h?(a=Fl(a,o,ts),p.__reactInternalMemoizedMergedChildContext=a,zt(Cn),zt(kn),Ve(kn,a)):zt(Cn),Ve(Cn,h)}var Tr=Math.clz32?Math.clz32:jo,zl=Math.log,Wd=Math.LN2;function jo(a){return a>>>=0,a===0?32:31-(zl(a)/Wd|0)|0}var Ro=64,Bl=4194304;function gt(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Oo(a,o){var h=a.pendingLanes;if(h===0)return 0;var p=0,g=a.suspendedLanes,E=a.pingedLanes,I=h&268435455;if(I!==0){var J=I&~g;J!==0?p=gt(J):(E&=I,E!==0&&(p=gt(E)))}else I=h&~g,I!==0?p=gt(I):E!==0&&(p=gt(E));if(p===0)return 0;if(o!==0&&o!==p&&!(o&g)&&(g=p&-p,E=o&-o,g>=E||g===16&&(E&4194240)!==0))return o;if(p&4&&(p|=h&16),o=a.entangledLanes,o!==0)for(a=a.entanglements,o&=p;0<o;)h=31-Tr(o),g=1<<h,p|=a[h],o&=~g;return p}function vp(a,o){switch(a){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xp(a,o){for(var h=a.suspendedLanes,p=a.pingedLanes,g=a.expirationTimes,E=a.pendingLanes;0<E;){var I=31-Tr(E),J=1<<I,le=g[I];le===-1?(!(J&h)||J&p)&&(g[I]=vp(J,o)):le<=o&&(a.expiredLanes|=J),E&=~J}}function Vn(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Os(){var a=Ro;return Ro<<=1,!(Ro&4194240)&&(Ro=64),a}function pa(a){for(var o=[],h=0;31>h;h++)o.push(a);return o}function jr(a,o,h){a.pendingLanes|=o,o!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,o=31-Tr(o),a[o]=h}function Hd(a,o){var h=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o,o=a.entanglements;var p=a.eventTimes;for(a=a.expirationTimes;0<h;){var g=31-Tr(h),E=1<<g;o[g]=0,p[g]=-1,a[g]=-1,h&=~E}}function Ul(a,o){var h=a.entangledLanes|=o;for(a=a.entanglements;h;){var p=31-Tr(h),g=1<<p;g&o|a[p]&o&&(a[p]|=o),h&=~g}}var Qe=0;function $r(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var As=i.unstable_scheduleCallback,ma=i.unstable_cancelCallback,mc=i.unstable_shouldYield,rs=i.unstable_requestPaint,_n=i.unstable_now,Rr=i.unstable_ImmediatePriority,gc=i.unstable_UserBlockingPriority,Gl=i.unstable_NormalPriority,yc=i.unstable_IdlePriority,is=null,Or=null;function Kd(a){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(is,a,void 0,(a.current.flags&128)===128)}catch{}}function wp(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Wn=typeof Object.is=="function"?Object.is:wp,Ti=null,Vl=!1,ga=!1;function Ao(a){Ti===null?Ti=[a]:Ti.push(a)}function vc(a){Vl=!0,Ao(a)}function oi(){if(!ga&&Ti!==null){ga=!0;var a=0,o=Qe;try{var h=Ti;for(Qe=1;a<h.length;a++){var p=h[a];do p=p(!0);while(p!==null)}Ti=null,Vl=!1}catch(g){throw Ti!==null&&(Ti=Ti.slice(a+1)),As(Rr,oi),g}finally{Qe=o,ga=!1}}return null}var ya=[],va=0,xa=null,wa=0,fr=[],Hn=0,li=null,Ar=1,ui="";function Ms(a,o){ya[va++]=wa,ya[va++]=xa,xa=a,wa=o}function Ds(a,o,h){fr[Hn++]=Ar,fr[Hn++]=ui,fr[Hn++]=li,li=a;var p=Ar;a=ui;var g=32-Tr(p)-1;p&=~(1<<g),h+=1;var E=32-Tr(o)+g;if(30<E){var I=g-g%5;E=(p&(1<<I)-1).toString(32),p>>=I,g-=I,Ar=1<<32-Tr(o)+g|h<<g|p,ui=E+a}else Ar=1<<E|h<<g|p,ui=a}function Mo(a){a.return!==null&&(Ms(a,1),Ds(a,1,0))}function Do(a){for(;a===xa;)xa=ya[--va],ya[va]=null,wa=ya[--va],ya[va]=null;for(;a===li;)li=fr[--Hn],fr[Hn]=null,ui=fr[--Hn],fr[Hn]=null,Ar=fr[--Hn],fr[Hn]=null}var Kn=null,er=null,ut=!1,ji=!1,$n=null;function xc(a,o){var h=fi(5,null,null,0);h.elementType="DELETED",h.stateNode=o,h.return=a,o=a.deletions,o===null?(a.deletions=[h],a.flags|=16):o.push(h)}function Io(a,o){switch(a.tag){case 5:return o=Nr(o,a.type,a.pendingProps),o!==null?(a.stateNode=o,Kn=a,er=gp(o),!0):!1;case 6:return o=Pr(o,a.pendingProps),o!==null?(a.stateNode=o,Kn=a,er=null,!0):!1;case 13:if(o=mt(o),o!==null){var h=li!==null?{id:Ar,overflow:ui}:null;return a.memoizedState={dehydrated:o,treeContext:h,retryLane:1073741824},h=fi(18,null,null,0),h.stateNode=o,h.return=a,a.child=h,Kn=a,er=null,!0}return!1;default:return!1}}function Wl(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Hl(a){if(ut){var o=er;if(o){var h=o;if(!Io(a,o)){if(Wl(a))throw Error(l(418));o=Ns(h);var p=Kn;o&&Io(a,o)?xc(p,h):(a.flags=a.flags&-4097|2,ut=!1,Kn=a)}}else{if(Wl(a))throw Error(l(418));a.flags=a.flags&-4097|2,ut=!1,Kn=a}}}function Lo(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Kn=a}function _a(a){if(!Et||a!==Kn)return!1;if(!ut)return Lo(a),ut=!0,!1;if(a.tag!==3&&(a.tag!==5||Jt(a.type)&&!ct(a.type,a.memoizedProps))){var o=er;if(o){if(Wl(a))throw ss(),Error(l(418));for(;o;)xc(a,o),o=Ns(o)}}if(Lo(a),a.tag===13){if(!Et)throw Error(l(316));if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(l(317));er=es(a)}else er=Kn?Ns(a.stateNode):null;return!0}function ss(){for(var a=er;a;)a=Ns(a)}function as(){Et&&(er=Kn=null,ji=ut=!1)}function Fo(a){$n===null?$n=[a]:$n.push(a)}var Kl=u.ReactCurrentBatchConfig;function Sa(a,o){if(Wn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var h=Object.keys(a),p=Object.keys(o);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var g=h[p];if(!pc.call(o,g)||!Wn(a[g],o[g]))return!1}return!0}function $d(a){switch(a.tag){case 5:return ai(a.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 2:case 15:return a=Po(a.type,!1),a;case 11:return a=Po(a.type.render,!1),a;case 1:return a=Po(a.type,!0),a;default:return""}}function zo(a,o,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(l(309));var p=h.stateNode}if(!p)throw Error(l(147,a));var g=p,E=""+a;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===E?o.ref:(o=function(I){var J=g.refs;I===null?delete J[E]:J[E]=I},o._stringRef=E,o)}if(typeof a!="string")throw Error(l(284));if(!h._owner)throw Error(l(290,a))}return a}function ba(a,o){throw a=Object.prototype.toString.call(o),Error(l(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}function Bo(a){var o=a._init;return o(a._payload)}function qd(a){function o(ae,te){if(a){var de=ae.deletions;de===null?(ae.deletions=[te],ae.flags|=16):de.push(te)}}function h(ae,te){if(!a)return null;for(;te!==null;)o(ae,te),te=te.sibling;return null}function p(ae,te){for(ae=new Map;te!==null;)te.key!==null?ae.set(te.key,te):ae.set(te.index,te),te=te.sibling;return ae}function g(ae,te){return ae=Ra(ae,te),ae.index=0,ae.sibling=null,ae}function E(ae,te,de){return ae.index=de,a?(de=ae.alternate,de!==null?(de=de.index,de<te?(ae.flags|=2,te):de):(ae.flags|=2,te)):(ae.flags|=1048576,te)}function I(ae){return a&&ae.alternate===null&&(ae.flags|=2),ae}function J(ae,te,de,De){return te===null||te.tag!==6?(te=Jp(de,ae.mode,De),te.return=ae,te):(te=g(te,de),te.return=ae,te)}function le(ae,te,de,De){var qe=de.type;return qe===w?Ue(ae,te,de.props.children,De,de.key):te!==null&&(te.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===x&&Bo(qe)===te.type)?(De=g(te,de.props),De.ref=zo(ae,te,de),De.return=ae,De):(De=wh(de.type,de.key,de.props,null,ae.mode,De),De.ref=zo(ae,te,de),De.return=ae,De)}function Ce(ae,te,de,De){return te===null||te.tag!==4||te.stateNode.containerInfo!==de.containerInfo||te.stateNode.implementation!==de.implementation?(te=em(de,ae.mode,De),te.return=ae,te):(te=g(te,de.children||[]),te.return=ae,te)}function Ue(ae,te,de,De,qe){return te===null||te.tag!==7?(te=Qo(de,ae.mode,De,qe),te.return=ae,te):(te=g(te,de),te.return=ae,te)}function ot(ae,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Jp(""+te,ae.mode,de),te.return=ae,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case d:return de=wh(te.type,te.key,te.props,null,ae.mode,de),de.ref=zo(ae,null,te),de.return=ae,de;case m:return te=em(te,ae.mode,de),te.return=ae,te;case x:var De=te._init;return ot(ae,De(te._payload),de)}if(ke(te)||M(te))return te=Qo(te,ae.mode,de,null),te.return=ae,te;ba(ae,te)}return null}function Ae(ae,te,de,De){var qe=te!==null?te.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return qe!==null?null:J(ae,te,""+de,De);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case d:return de.key===qe?le(ae,te,de,De):null;case m:return de.key===qe?Ce(ae,te,de,De):null;case x:return qe=de._init,Ae(ae,te,qe(de._payload),De)}if(ke(de)||M(de))return qe!==null?null:Ue(ae,te,de,De,null);ba(ae,de)}return null}function Kt(ae,te,de,De,qe){if(typeof De=="string"&&De!==""||typeof De=="number")return ae=ae.get(de)||null,J(te,ae,""+De,qe);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case d:return ae=ae.get(De.key===null?de:De.key)||null,le(te,ae,De,qe);case m:return ae=ae.get(De.key===null?de:De.key)||null,Ce(te,ae,De,qe);case x:var dt=De._init;return Kt(ae,te,de,dt(De._payload),qe)}if(ke(De)||M(De))return ae=ae.get(de)||null,Ue(te,ae,De,qe,null);ba(te,De)}return null}function Ut(ae,te,de,De){for(var qe=null,dt=null,lt=te,Rt=te=0,zn=null;lt!==null&&Rt<de.length;Rt++){lt.index>Rt?(zn=lt,lt=null):zn=lt.sibling;var Ot=Ae(ae,lt,de[Rt],De);if(Ot===null){lt===null&&(lt=zn);break}a&&lt&&Ot.alternate===null&&o(ae,lt),te=E(Ot,te,Rt),dt===null?qe=Ot:dt.sibling=Ot,dt=Ot,lt=zn}if(Rt===de.length)return h(ae,lt),ut&&Ms(ae,Rt),qe;if(lt===null){for(;Rt<de.length;Rt++)lt=ot(ae,de[Rt],De),lt!==null&&(te=E(lt,te,Rt),dt===null?qe=lt:dt.sibling=lt,dt=lt);return ut&&Ms(ae,Rt),qe}for(lt=p(ae,lt);Rt<de.length;Rt++)zn=Kt(lt,ae,Rt,de[Rt],De),zn!==null&&(a&&zn.alternate!==null&&lt.delete(zn.key===null?Rt:zn.key),te=E(zn,te,Rt),dt===null?qe=zn:dt.sibling=zn,dt=zn);return a&&lt.forEach(function(Oa){return o(ae,Oa)}),ut&&Ms(ae,Rt),qe}function Lr(ae,te,de,De){var qe=M(de);if(typeof qe!="function")throw Error(l(150));if(de=qe.call(de),de==null)throw Error(l(151));for(var dt=qe=null,lt=te,Rt=te=0,zn=null,Ot=de.next();lt!==null&&!Ot.done;Rt++,Ot=de.next()){lt.index>Rt?(zn=lt,lt=null):zn=lt.sibling;var Oa=Ae(ae,lt,Ot.value,De);if(Oa===null){lt===null&&(lt=zn);break}a&&lt&&Oa.alternate===null&&o(ae,lt),te=E(Oa,te,Rt),dt===null?qe=Oa:dt.sibling=Oa,dt=Oa,lt=zn}if(Ot.done)return h(ae,lt),ut&&Ms(ae,Rt),qe;if(lt===null){for(;!Ot.done;Rt++,Ot=de.next())Ot=ot(ae,Ot.value,De),Ot!==null&&(te=E(Ot,te,Rt),dt===null?qe=Ot:dt.sibling=Ot,dt=Ot);return ut&&Ms(ae,Rt),qe}for(lt=p(ae,lt);!Ot.done;Rt++,Ot=de.next())Ot=Kt(lt,ae,Rt,Ot.value,De),Ot!==null&&(a&&Ot.alternate!==null&&lt.delete(Ot.key===null?Rt:Ot.key),te=E(Ot,te,Rt),dt===null?qe=Ot:dt.sibling=Ot,dt=Ot);return a&&lt.forEach(function(o8){return o(ae,o8)}),ut&&Ms(ae,Rt),qe}function Bs(ae,te,de,De){if(typeof de=="object"&&de!==null&&de.type===w&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case d:e:{for(var qe=de.key,dt=te;dt!==null;){if(dt.key===qe){if(qe=de.type,qe===w){if(dt.tag===7){h(ae,dt.sibling),te=g(dt,de.props.children),te.return=ae,ae=te;break e}}else if(dt.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===x&&Bo(qe)===dt.type){h(ae,dt.sibling),te=g(dt,de.props),te.ref=zo(ae,dt,de),te.return=ae,ae=te;break e}h(ae,dt);break}else o(ae,dt);dt=dt.sibling}de.type===w?(te=Qo(de.props.children,ae.mode,De,de.key),te.return=ae,ae=te):(De=wh(de.type,de.key,de.props,null,ae.mode,De),De.ref=zo(ae,te,de),De.return=ae,ae=De)}return I(ae);case m:e:{for(dt=de.key;te!==null;){if(te.key===dt)if(te.tag===4&&te.stateNode.containerInfo===de.containerInfo&&te.stateNode.implementation===de.implementation){h(ae,te.sibling),te=g(te,de.children||[]),te.return=ae,ae=te;break e}else{h(ae,te);break}else o(ae,te);te=te.sibling}te=em(de,ae.mode,De),te.return=ae,ae=te}return I(ae);case x:return dt=de._init,Bs(ae,te,dt(de._payload),De)}if(ke(de))return Ut(ae,te,de,De);if(M(de))return Lr(ae,te,de,De);ba(ae,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,te!==null&&te.tag===6?(h(ae,te.sibling),te=g(te,de),te.return=ae,ae=te):(h(ae,te),te=Jp(de,ae.mode,De),te.return=ae,ae=te),I(ae)):h(ae,te)}return Bs}var os=qd(!0),$l=qd(!1),ql=Kr(null),Uo=null,ka=null,Ql=null;function Yl(){Ql=ka=Uo=null}function Qd(a,o,h){xt?(Ve(ql,o._currentValue),o._currentValue=h):(Ve(ql,o._currentValue2),o._currentValue2=h)}function Xl(a){var o=ql.current;zt(ql),xt?a._currentValue=o:a._currentValue2=o}function Go(a,o,h){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===h)break;a=a.return}}function Is(a,o){Uo=a,Ql=ka=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&o&&(Mr=!0),a.firstContext=null)}function pr(a){var o=xt?a._currentValue:a._currentValue2;if(Ql!==a)if(a={context:a,memoizedValue:o,next:null},ka===null){if(Uo===null)throw Error(l(308));ka=a,Uo.dependencies={lanes:0,firstContext:a}}else ka=ka.next=a;return o}var Ls=null;function wc(a){Ls===null?Ls=[a]:Ls.push(a)}function Yd(a,o,h,p){var g=o.interleaved;return g===null?(h.next=h,wc(o)):(h.next=g.next,g.next=h),o.interleaved=h,mr(a,p)}function mr(a,o){a.lanes|=o;var h=a.alternate;for(h!==null&&(h.lanes|=o),h=a,a=a.return;a!==null;)a.childLanes|=o,h=a.alternate,h!==null&&(h.childLanes|=o),h=a,a=a.return;return h.tag===3?h.stateNode:null}var In=!1;function Wt(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vo(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function an(a,o){return{eventTime:a,lane:o,tag:0,payload:null,callback:null,next:null}}function ls(a,o,h){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,yt&2){var g=p.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),p.pending=o,mr(a,h)}return g=p.interleaved,g===null?(o.next=o,wc(p)):(o.next=g.next,g.next=o),p.interleaved=o,mr(a,h)}function Ca(a,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194240)!==0)){var p=o.lanes;p&=a.pendingLanes,h|=p,o.lanes=h,Ul(a,h)}}function _c(a,o){var h=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var g=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var I={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};E===null?g=E=I:E=E.next=I,h=h.next}while(h!==null);E===null?g=E=o:E=E.next=o}else g=E=o;h={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:E,shared:p.shared,effects:p.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=o:a.next=o,h.lastBaseUpdate=o}function ci(a,o,h,p){var g=a.updateQueue;In=!1;var E=g.firstBaseUpdate,I=g.lastBaseUpdate,J=g.shared.pending;if(J!==null){g.shared.pending=null;var le=J,Ce=le.next;le.next=null,I===null?E=Ce:I.next=Ce,I=le;var Ue=a.alternate;Ue!==null&&(Ue=Ue.updateQueue,J=Ue.lastBaseUpdate,J!==I&&(J===null?Ue.firstBaseUpdate=Ce:J.next=Ce,Ue.lastBaseUpdate=le))}if(E!==null){var ot=g.baseState;I=0,Ue=Ce=le=null,J=E;do{var Ae=J.lane,Kt=J.eventTime;if((p&Ae)===Ae){Ue!==null&&(Ue=Ue.next={eventTime:Kt,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var Ut=a,Lr=J;switch(Ae=o,Kt=h,Lr.tag){case 1:if(Ut=Lr.payload,typeof Ut=="function"){ot=Ut.call(Kt,ot,Ae);break e}ot=Ut;break e;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Lr.payload,Ae=typeof Ut=="function"?Ut.call(Kt,ot,Ae):Ut,Ae==null)break e;ot=s({},ot,Ae);break e;case 2:In=!0}}J.callback!==null&&J.lane!==0&&(a.flags|=64,Ae=g.effects,Ae===null?g.effects=[J]:Ae.push(J))}else Kt={eventTime:Kt,lane:Ae,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ue===null?(Ce=Ue=Kt,le=ot):Ue=Ue.next=Kt,I|=Ae;if(J=J.next,J===null){if(J=g.shared.pending,J===null)break;Ae=J,J=Ae.next,Ae.next=null,g.lastBaseUpdate=Ae,g.shared.pending=null}}while(1);if(Ue===null&&(le=ot),g.baseState=le,g.firstBaseUpdate=Ce,g.lastBaseUpdate=Ue,o=g.shared.interleaved,o!==null){g=o;do I|=g.lane,g=g.next;while(g!==o)}else E===null&&(g.shared.lanes=0);Ho|=I,a.lanes=I,a.memoizedState=ot}}function Zl(a,o,h){if(a=o.effects,o.effects=null,a!==null)for(o=0;o<a.length;o++){var p=a[o],g=p.callback;if(g!==null){if(p.callback=null,p=h,typeof g!="function")throw Error(l(191,g));g.call(p)}}}var di={},pn=Kr(di),Ea=Kr(di),c=Kr(di);function f(a){if(a===di)throw Error(l(174));return a}function y(a,o){Ve(c,o),Ve(Ea,a),Ve(pn,di),a=Xe(o),zt(pn),Ve(pn,a)}function b(){zt(pn),zt(Ea),zt(c)}function P(a){var o=f(c.current),h=f(pn.current);o=ue(h,a.type,o),h!==o&&(Ve(Ea,a),Ve(pn,o))}function A(a){Ea.current===a&&(zt(pn),zt(Ea))}var L=Kr(0);function z(a){for(var o=a;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Lt(h)||hc(h)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var H=[];function q(){for(var a=0;a<H.length;a++){var o=H[a];xt?o._workInProgressVersionPrimary=null:o._workInProgressVersionSecondary=null}H.length=0}var Y=u.ReactCurrentDispatcher,B=u.ReactCurrentBatchConfig,Z=0,G=null,$=null,Q=null,X=!1,ee=!1,ie=0,ce=0;function se(){throw Error(l(321))}function xe(a,o){if(o===null)return!1;for(var h=0;h<o.length&&h<a.length;h++)if(!Wn(a[h],o[h]))return!1;return!0}function Pe(a,o,h,p,g,E){if(Z=E,G=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.current=a===null||a.memoizedState===null?Iw:Lw,a=h(p,g),ee){E=0;do{if(ee=!1,ie=0,25<=E)throw Error(l(301));E+=1,Q=$=null,o.updateQueue=null,Y.current=Fw,a=h(p,g)}while(ee)}if(Y.current=Jd,o=$!==null&&$.next!==null,Z=0,Q=$=G=null,X=!1,o)throw Error(l(300));return a}function _e(){var a=ie!==0;return ie=0,a}function we(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Q===null?G.memoizedState=Q=a:Q=Q.next=a,Q}function Ne(){if($===null){var a=G.alternate;a=a!==null?a.memoizedState:null}else a=$.next;var o=Q===null?G.memoizedState:Q.next;if(o!==null)Q=o,$=a;else{if(a===null)throw Error(l(310));$=a,a={memoizedState:$.memoizedState,baseState:$.baseState,baseQueue:$.baseQueue,queue:$.queue,next:null},Q===null?G.memoizedState=Q=a:Q=Q.next=a}return Q}function Te(a,o){return typeof o=="function"?o(a):o}function Re(a){var o=Ne(),h=o.queue;if(h===null)throw Error(l(311));h.lastRenderedReducer=a;var p=$,g=p.baseQueue,E=h.pending;if(E!==null){if(g!==null){var I=g.next;g.next=E.next,E.next=I}p.baseQueue=g=E,h.pending=null}if(g!==null){E=g.next,p=p.baseState;var J=I=null,le=null,Ce=E;do{var Ue=Ce.lane;if((Z&Ue)===Ue)le!==null&&(le=le.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),p=Ce.hasEagerState?Ce.eagerState:a(p,Ce.action);else{var ot={lane:Ue,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};le===null?(J=le=ot,I=p):le=le.next=ot,G.lanes|=Ue,Ho|=Ue}Ce=Ce.next}while(Ce!==null&&Ce!==E);le===null?I=p:le.next=J,Wn(p,o.memoizedState)||(Mr=!0),o.memoizedState=p,o.baseState=I,o.baseQueue=le,h.lastRenderedState=p}if(a=h.interleaved,a!==null){g=a;do E=g.lane,G.lanes|=E,Ho|=E,g=g.next;while(g!==a)}else g===null&&(h.lanes=0);return[o.memoizedState,h.dispatch]}function nt(a){var o=Ne(),h=o.queue;if(h===null)throw Error(l(311));h.lastRenderedReducer=a;var p=h.dispatch,g=h.pending,E=o.memoizedState;if(g!==null){h.pending=null;var I=g=g.next;do E=a(E,I.action),I=I.next;while(I!==g);Wn(E,o.memoizedState)||(Mr=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),h.lastRenderedState=E}return[E,p]}function _t(){}function tt(a,o){var h=G,p=Ne(),g=o(),E=!Wn(p.memoizedState,g);if(E&&(p.memoizedState=g,Mr=!0),p=p.queue,_p(En.bind(null,h,p,a),[a]),p.getSnapshot!==o||E||Q!==null&&Q.memoizedState.tag&1){if(h.flags|=2048,qr(9,Je.bind(null,h,p,g,o),void 0,null),Fn===null)throw Error(l(349));Z&30||Ht(h,o,g)}return g}function Ht(a,o,h){a.flags|=16384,a={getSnapshot:o,value:h},o=G.updateQueue,o===null?(o={lastEffect:null,stores:null},G.updateQueue=o,o.stores=[a]):(h=o.stores,h===null?o.stores=[a]:h.push(a))}function Je(a,o,h,p){o.value=h,o.getSnapshot=p,Nn(o)&&Wo(a)}function En(a,o,h){return h(function(){Nn(o)&&Wo(a)})}function Nn(a){var o=a.getSnapshot;a=a.value;try{var h=o();return!Wn(a,h)}catch{return!0}}function Wo(a){var o=mr(a,1);o!==null&&hi(o,a,1,-1)}function Ln(a){var o=we();return typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Te,lastRenderedState:a},o.queue=a,a=a.dispatch=Dw.bind(null,G,a),[o.memoizedState,a]}function qr(a,o,h,p){return a={tag:a,create:o,destroy:h,deps:p,next:null},o=G.updateQueue,o===null?(o={lastEffect:null,stores:null},G.updateQueue=o,o.lastEffect=a.next=a):(h=o.lastEffect,h===null?o.lastEffect=a.next=a:(p=h.next,h.next=a,a.next=p,o.lastEffect=a)),a}function Jl(){return Ne().memoizedState}function Xd(a,o,h,p){var g=we();G.flags|=a,g.memoizedState=qr(1|o,h,void 0,p===void 0?null:p)}function Zd(a,o,h,p){var g=Ne();p=p===void 0?null:p;var E=void 0;if($!==null){var I=$.memoizedState;if(E=I.destroy,p!==null&&xe(p,I.deps)){g.memoizedState=qr(o,h,E,p);return}}G.flags|=a,g.memoizedState=qr(1|o,h,E,p)}function Xy(a,o){return Xd(8390656,8,a,o)}function _p(a,o){return Zd(2048,8,a,o)}function Zy(a,o){return Zd(4,2,a,o)}function Jy(a,o){return Zd(4,4,a,o)}function ev(a,o){if(typeof o=="function")return a=a(),o(a),function(){o(null)};if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function tv(a,o,h){return h=h!=null?h.concat([a]):null,Zd(4,4,ev.bind(null,o,a),h)}function Sp(){}function nv(a,o){var h=Ne();o=o===void 0?null:o;var p=h.memoizedState;return p!==null&&o!==null&&xe(o,p[1])?p[0]:(h.memoizedState=[a,o],a)}function rv(a,o){var h=Ne();o=o===void 0?null:o;var p=h.memoizedState;return p!==null&&o!==null&&xe(o,p[1])?p[0]:(a=a(),h.memoizedState=[a,o],a)}function iv(a,o,h){return Z&21?(Wn(h,o)||(h=Os(),G.lanes|=h,Ho|=h,a.baseState=!0),o):(a.baseState&&(a.baseState=!1,Mr=!0),a.memoizedState=h)}function Aw(a,o){var h=Qe;Qe=h!==0&&4>h?h:4,a(!0);var p=B.transition;B.transition={};try{a(!1),o()}finally{Qe=h,B.transition=p}}function sv(){return Ne().memoizedState}function Mw(a,o,h){var p=Ta(a);if(h={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null},av(a))ov(o,h);else if(h=Yd(a,o,h,p),h!==null){var g=rr();hi(h,a,p,g),lv(h,o,p)}}function Dw(a,o,h){var p=Ta(a),g={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null};if(av(a))ov(o,g);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var I=o.lastRenderedState,J=E(I,h);if(g.hasEagerState=!0,g.eagerState=J,Wn(J,I)){var le=o.interleaved;le===null?(g.next=g,wc(o)):(g.next=le.next,le.next=g),o.interleaved=g;return}}catch{}finally{}h=Yd(a,o,g,p),h!==null&&(g=rr(),hi(h,a,p,g),lv(h,o,p))}}function av(a){var o=a.alternate;return a===G||o!==null&&o===G}function ov(a,o){ee=X=!0;var h=a.pending;h===null?o.next=o:(o.next=h.next,h.next=o),a.pending=o}function lv(a,o,h){if(h&4194240){var p=o.lanes;p&=a.pendingLanes,h|=p,o.lanes=h,Ul(a,h)}}var Jd={readContext:pr,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useInsertionEffect:se,useLayoutEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useMutableSource:se,useSyncExternalStore:se,useId:se,unstable_isNewReconciler:!1},Iw={readContext:pr,useCallback:function(a,o){return we().memoizedState=[a,o===void 0?null:o],a},useContext:pr,useEffect:Xy,useImperativeHandle:function(a,o,h){return h=h!=null?h.concat([a]):null,Xd(4194308,4,ev.bind(null,o,a),h)},useLayoutEffect:function(a,o){return Xd(4194308,4,a,o)},useInsertionEffect:function(a,o){return Xd(4,2,a,o)},useMemo:function(a,o){var h=we();return o=o===void 0?null:o,a=a(),h.memoizedState=[a,o],a},useReducer:function(a,o,h){var p=we();return o=h!==void 0?h(o):o,p.memoizedState=p.baseState=o,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:o},p.queue=a,a=a.dispatch=Mw.bind(null,G,a),[p.memoizedState,a]},useRef:function(a){var o=we();return a={current:a},o.memoizedState=a},useState:Ln,useDebugValue:Sp,useDeferredValue:function(a){return we().memoizedState=a},useTransition:function(){var a=Ln(!1),o=a[0];return a=Aw.bind(null,a[1]),we().memoizedState=a,[o,a]},useMutableSource:function(){},useSyncExternalStore:function(a,o,h){var p=G,g=we();if(ut){if(h===void 0)throw Error(l(407));h=h()}else{if(h=o(),Fn===null)throw Error(l(349));Z&30||Ht(p,o,h)}g.memoizedState=h;var E={value:h,getSnapshot:o};return g.queue=E,Xy(En.bind(null,p,E,a),[a]),p.flags|=2048,qr(9,Je.bind(null,p,E,h,o),void 0,null),h},useId:function(){var a=we(),o=Fn.identifierPrefix;if(ut){var h=ui,p=Ar;h=(p&~(1<<32-Tr(p)-1)).toString(32)+h,o=":"+o+"R"+h,h=ie++,0<h&&(o+="H"+h.toString(32)),o+=":"}else h=ce++,o=":"+o+"r"+h.toString(32)+":";return a.memoizedState=o},unstable_isNewReconciler:!1},Lw={readContext:pr,useCallback:nv,useContext:pr,useEffect:_p,useImperativeHandle:tv,useInsertionEffect:Zy,useLayoutEffect:Jy,useMemo:rv,useReducer:Re,useRef:Jl,useState:function(){return Re(Te)},useDebugValue:Sp,useDeferredValue:function(a){var o=Ne();return iv(o,$.memoizedState,a)},useTransition:function(){var a=Re(Te)[0],o=Ne().memoizedState;return[a,o]},useMutableSource:_t,useSyncExternalStore:tt,useId:sv,unstable_isNewReconciler:!1},Fw={readContext:pr,useCallback:nv,useContext:pr,useEffect:_p,useImperativeHandle:tv,useInsertionEffect:Zy,useLayoutEffect:Jy,useMemo:rv,useReducer:nt,useRef:Jl,useState:function(){return nt(Te)},useDebugValue:Sp,useDeferredValue:function(a){var o=Ne();return $===null?o.memoizedState=a:iv(o,$.memoizedState,a)},useTransition:function(){var a=nt(Te)[0],o=Ne().memoizedState;return[a,o]},useMutableSource:_t,useSyncExternalStore:tt,useId:sv,unstable_isNewReconciler:!1};function Ri(a,o){if(a&&a.defaultProps){o=s({},o),a=a.defaultProps;for(var h in a)o[h]===void 0&&(o[h]=a[h]);return o}return o}function bp(a,o,h,p){o=a.memoizedState,h=h(p,o),h=h==null?o:s({},o,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var eh={isMounted:function(a){return(a=a._reactInternals)?ne(a)===a:!1},enqueueSetState:function(a,o,h){a=a._reactInternals;var p=rr(),g=Ta(a),E=an(p,g);E.payload=o,h!=null&&(E.callback=h),o=ls(a,E,g),o!==null&&(hi(o,a,g,p),Ca(o,a,g))},enqueueReplaceState:function(a,o,h){a=a._reactInternals;var p=rr(),g=Ta(a),E=an(p,g);E.tag=1,E.payload=o,h!=null&&(E.callback=h),o=ls(a,E,g),o!==null&&(hi(o,a,g,p),Ca(o,a,g))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var h=rr(),p=Ta(a),g=an(h,p);g.tag=2,o!=null&&(g.callback=o),o=ls(a,g,p),o!==null&&(hi(o,a,p,h),Ca(o,a,p))}};function uv(a,o,h,p,g,E,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,E,I):o.prototype&&o.prototype.isPureReactComponent?!Sa(h,p)||!Sa(g,E):!0}function cv(a,o,h){var p=!1,g=Pi,E=o.contextType;return typeof E=="object"&&E!==null?E=pr(E):(g=wn(o)?ts:kn.current,p=o.contextTypes,E=(p=p!=null)?jt(a,g):Pi),o=new o(h,E),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=eh,a.stateNode=o,o._reactInternals=a,p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=g,a.__reactInternalMemoizedMaskedChildContext=E),o}function dv(a,o,h,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,p),o.state!==a&&eh.enqueueReplaceState(o,o.state,null)}function kp(a,o,h,p){var g=a.stateNode;g.props=h,g.state=a.memoizedState,g.refs={},Wt(a);var E=o.contextType;typeof E=="object"&&E!==null?g.context=pr(E):(E=wn(o)?ts:kn.current,g.context=jt(a,E)),g.state=a.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(bp(a,o,E,h),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&eh.enqueueReplaceState(g,g.state,null),ci(a,h,g,p),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308)}function eu(a,o){try{var h="",p=o;do h+=$d(p),p=p.return;while(p);var g=h}catch(E){g=`
Error generating stack: `+E.message+`
`+E.stack}return{value:a,source:o,stack:g,digest:null}}function Cp(a,o,h){return{value:a,source:null,stack:h??null,digest:o??null}}function Ep(a,o){try{console.error(o.value)}catch(h){setTimeout(function(){throw h})}}var zw=typeof WeakMap=="function"?WeakMap:Map;function hv(a,o,h){h=an(-1,h),h.tag=3,h.payload={element:null};var p=o.value;return h.callback=function(){ph||(ph=!0,Kp=p),Ep(a,o)},h}function fv(a,o,h){h=an(-1,h),h.tag=3;var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var g=o.value;h.payload=function(){return p(g)},h.callback=function(){Ep(a,o)}}var E=a.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(h.callback=function(){Ep(a,o),typeof p!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),h}function pv(a,o,h){var p=a.pingCache;if(p===null){p=a.pingCache=new zw;var g=new Set;p.set(o,g)}else g=p.get(o),g===void 0&&(g=new Set,p.set(o,g));g.has(h)||(g.add(h),a=Jw.bind(null,a,o,h),o.then(a,a))}function mv(a){do{var o;if((o=a.tag===13)&&(o=a.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return a;a=a.return}while(a!==null);return null}function gv(a,o,h,p,g){return a.mode&1?(a.flags|=65536,a.lanes=g,a):(a===o?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(o=an(-1,1),o.tag=2,ls(h,o,1))),h.lanes|=1),a)}var Bw=u.ReactCurrentOwner,Mr=!1;function gr(a,o,h,p){o.child=a===null?$l(o,null,h,p):os(o,a.child,h,p)}function yv(a,o,h,p,g){h=h.render;var E=o.ref;return Is(o,g),p=Pe(a,o,h,p,E,g),h=_e(),a!==null&&!Mr?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~g,Fs(a,o,g)):(ut&&h&&Mo(o),o.flags|=1,gr(a,o,p,g),o.child)}function vv(a,o,h,p,g){if(a===null){var E=h.type;return typeof E=="function"&&!Zp(E)&&E.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(o.tag=15,o.type=E,xv(a,o,E,p,g)):(a=wh(h.type,null,p,o,o.mode,g),a.ref=o.ref,a.return=o,o.child=a)}if(E=a.child,!(a.lanes&g)){var I=E.memoizedProps;if(h=h.compare,h=h!==null?h:Sa,h(I,p)&&a.ref===o.ref)return Fs(a,o,g)}return o.flags|=1,a=Ra(E,p),a.ref=o.ref,a.return=o,o.child=a}function xv(a,o,h,p,g){if(a!==null){var E=a.memoizedProps;if(Sa(E,p)&&a.ref===o.ref)if(Mr=!1,o.pendingProps=p=E,(a.lanes&g)!==0)a.flags&131072&&(Mr=!0);else return o.lanes=a.lanes,Fs(a,o,g)}return Np(a,o,h,p,g)}function wv(a,o,h){var p=o.pendingProps,g=p.children,E=a!==null?a.memoizedState:null;if(p.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(nu,Qr),Qr|=h;else{if(!(h&1073741824))return a=E!==null?E.baseLanes|h:h,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:a,cachePool:null,transitions:null},o.updateQueue=null,Ve(nu,Qr),Qr|=a,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:h,Ve(nu,Qr),Qr|=p}else E!==null?(p=E.baseLanes|h,o.memoizedState=null):p=h,Ve(nu,Qr),Qr|=p;return gr(a,o,g,h),o.child}function _v(a,o){var h=o.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(o.flags|=512,o.flags|=2097152)}function Np(a,o,h,p,g){var E=wn(h)?ts:kn.current;return E=jt(o,E),Is(o,g),h=Pe(a,o,h,p,E,g),p=_e(),a!==null&&!Mr?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~g,Fs(a,o,g)):(ut&&p&&Mo(o),o.flags|=1,gr(a,o,h,g),o.child)}function Sv(a,o,h,p,g){if(wn(h)){var E=!0;fa(o)}else E=!1;if(Is(o,g),o.stateNode===null)nh(a,o),cv(o,h,p),kp(o,h,p,g),p=!0;else if(a===null){var I=o.stateNode,J=o.memoizedProps;I.props=J;var le=I.context,Ce=h.contextType;typeof Ce=="object"&&Ce!==null?Ce=pr(Ce):(Ce=wn(h)?ts:kn.current,Ce=jt(o,Ce));var Ue=h.getDerivedStateFromProps,ot=typeof Ue=="function"||typeof I.getSnapshotBeforeUpdate=="function";ot||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(J!==p||le!==Ce)&&dv(o,I,p,Ce),In=!1;var Ae=o.memoizedState;I.state=Ae,ci(o,p,I,g),le=o.memoizedState,J!==p||Ae!==le||Cn.current||In?(typeof Ue=="function"&&(bp(o,h,Ue,p),le=o.memoizedState),(J=In||uv(o,h,J,p,Ae,le,Ce))?(ot||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=le),I.props=p,I.state=le,I.context=Ce,p=J):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{I=o.stateNode,Vo(a,o),J=o.memoizedProps,Ce=o.type===o.elementType?J:Ri(o.type,J),I.props=Ce,ot=o.pendingProps,Ae=I.context,le=h.contextType,typeof le=="object"&&le!==null?le=pr(le):(le=wn(h)?ts:kn.current,le=jt(o,le));var Kt=h.getDerivedStateFromProps;(Ue=typeof Kt=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(J!==ot||Ae!==le)&&dv(o,I,p,le),In=!1,Ae=o.memoizedState,I.state=Ae,ci(o,p,I,g);var Ut=o.memoizedState;J!==ot||Ae!==Ut||Cn.current||In?(typeof Kt=="function"&&(bp(o,h,Kt,p),Ut=o.memoizedState),(Ce=In||uv(o,h,Ce,p,Ae,Ut,le)||!1)?(Ue||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(p,Ut,le),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(p,Ut,le)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||J===a.memoizedProps&&Ae===a.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===a.memoizedProps&&Ae===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Ut),I.props=p,I.state=Ut,I.context=le,p=Ce):(typeof I.componentDidUpdate!="function"||J===a.memoizedProps&&Ae===a.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===a.memoizedProps&&Ae===a.memoizedState||(o.flags|=1024),p=!1)}return Pp(a,o,h,p,E,g)}function Pp(a,o,h,p,g,E){_v(a,o);var I=(o.flags&128)!==0;if(!p&&!I)return g&&To(o,h,!1),Fs(a,o,E);p=o.stateNode,Bw.current=o;var J=I&&typeof h.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,a!==null&&I?(o.child=os(o,a.child,null,E),o.child=os(o,null,J,E)):gr(a,o,J,E),o.memoizedState=p.state,g&&To(o,h,!0),o.child}function bv(a){var o=a.stateNode;o.pendingContext?Rs(a,o.pendingContext,o.pendingContext!==o.context):o.context&&Rs(a,o.context,!1),y(a,o.containerInfo)}function kv(a,o,h,p,g){return as(),Fo(g),o.flags|=256,gr(a,o,h,p),o.child}var Tp={dehydrated:null,treeContext:null,retryLane:0};function jp(a){return{baseLanes:a,cachePool:null,transitions:null}}function Cv(a,o,h){var p=o.pendingProps,g=L.current,E=!1,I=(o.flags&128)!==0,J;if((J=I)||(J=a!==null&&a.memoizedState===null?!1:(g&2)!==0),J?(E=!0,o.flags&=-129):(a===null||a.memoizedState!==null)&&(g|=1),Ve(L,g&1),a===null)return Hl(o),a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(o.mode&1?hc(a)?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(I=p.children,a=p.fallback,E?(p=o.mode,E=o.child,I={mode:"hidden",children:I},!(p&1)&&E!==null?(E.childLanes=0,E.pendingProps=I):E=_h(I,p,0,null),a=Qo(a,p,h,null),E.return=o,a.return=o,E.sibling=a,o.child=E,o.child.memoizedState=jp(h),o.memoizedState=Tp,a):Rp(o,I));if(g=a.memoizedState,g!==null&&(J=g.dehydrated,J!==null))return Uw(a,o,I,p,J,g,h);if(E){E=p.fallback,I=o.mode,g=a.child,J=g.sibling;var le={mode:"hidden",children:p.children};return!(I&1)&&o.child!==g?(p=o.child,p.childLanes=0,p.pendingProps=le,o.deletions=null):(p=Ra(g,le),p.subtreeFlags=g.subtreeFlags&14680064),J!==null?E=Ra(J,E):(E=Qo(E,I,h,null),E.flags|=2),E.return=o,p.return=o,p.sibling=E,o.child=p,p=E,E=o.child,I=a.child.memoizedState,I=I===null?jp(h):{baseLanes:I.baseLanes|h,cachePool:null,transitions:I.transitions},E.memoizedState=I,E.childLanes=a.childLanes&~h,o.memoizedState=Tp,p}return E=a.child,a=E.sibling,p=Ra(E,{mode:"visible",children:p.children}),!(o.mode&1)&&(p.lanes=h),p.return=o,p.sibling=null,a!==null&&(h=o.deletions,h===null?(o.deletions=[a],o.flags|=16):h.push(a)),o.child=p,o.memoizedState=null,p}function Rp(a,o){return o=_h({mode:"visible",children:o},a.mode,0,null),o.return=a,a.child=o}function th(a,o,h,p){return p!==null&&Fo(p),os(o,a.child,null,h),a=Rp(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Uw(a,o,h,p,g,E,I){if(h)return o.flags&256?(o.flags&=-257,p=Cp(Error(l(422))),th(a,o,I,p)):o.memoizedState!==null?(o.child=a.child,o.flags|=128,null):(E=p.fallback,g=o.mode,p=_h({mode:"visible",children:p.children},g,0,null),E=Qo(E,g,I,null),E.flags|=2,p.return=o,E.return=o,p.sibling=E,o.child=p,o.mode&1&&os(o,a.child,null,I),o.child.memoizedState=jp(I),o.memoizedState=Tp,E);if(!(o.mode&1))return th(a,o,I,null);if(hc(g))return p=Ml(g).digest,E=Error(l(419)),p=Cp(E,p,void 0),th(a,o,I,p);if(h=(I&a.childLanes)!==0,Mr||h){if(p=Fn,p!==null){switch(I&-I){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(p.suspendedLanes|I)?0:g,g!==0&&g!==E.retryLane&&(E.retryLane=g,mr(a,g),hi(p,a,g,-1))}return Xp(),p=Cp(Error(l(421))),th(a,o,I,p)}return Lt(g)?(o.flags|=128,o.child=a.child,o=e8.bind(null,a),Dl(g,o),null):(a=E.treeContext,Et&&(er=da(g),Kn=o,ut=!0,$n=null,ji=!1,a!==null&&(fr[Hn++]=Ar,fr[Hn++]=ui,fr[Hn++]=li,Ar=a.id,ui=a.overflow,li=o)),o=Rp(o,p.children),o.flags|=4096,o)}function Ev(a,o,h){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),Go(a.return,o,h)}function Op(a,o,h,p,g){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:g}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=h,E.tailMode=g)}function Nv(a,o,h){var p=o.pendingProps,g=p.revealOrder,E=p.tail;if(gr(a,o,p.children,h),p=L.current,p&2)p=p&1|2,o.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ev(a,h,o);else if(a.tag===19)Ev(a,h,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}if(Ve(L,p),!(o.mode&1))o.memoizedState=null;else switch(g){case"forwards":for(h=o.child,g=null;h!==null;)a=h.alternate,a!==null&&z(a)===null&&(g=h),h=h.sibling;h=g,h===null?(g=o.child,o.child=null):(g=h.sibling,h.sibling=null),Op(o,!1,g,h,E);break;case"backwards":for(h=null,g=o.child,o.child=null;g!==null;){if(a=g.alternate,a!==null&&z(a)===null){o.child=g;break}a=g.sibling,g.sibling=h,h=g,g=a}Op(o,!0,h,null,E);break;case"together":Op(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function nh(a,o){!(o.mode&1)&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=2)}function Fs(a,o,h){if(a!==null&&(o.dependencies=a.dependencies),Ho|=o.lanes,!(h&o.childLanes))return null;if(a!==null&&o.child!==a.child)throw Error(l(153));if(o.child!==null){for(a=o.child,h=Ra(a,a.pendingProps),o.child=h,h.return=o;a.sibling!==null;)a=a.sibling,h=h.sibling=Ra(a,a.pendingProps),h.return=o;h.sibling=null}return o.child}function Gw(a,o,h){switch(o.tag){case 3:bv(o),as();break;case 5:P(o);break;case 1:wn(o.type)&&fa(o);break;case 4:y(o,o.stateNode.containerInfo);break;case 10:Qd(o,o.type._context,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Ve(L,L.current&1),o.flags|=128,null):h&o.child.childLanes?Cv(a,o,h):(Ve(L,L.current&1),a=Fs(a,o,h),a!==null?a.sibling:null);Ve(L,L.current&1);break;case 19:if(p=(h&o.childLanes)!==0,a.flags&128){if(p)return Nv(a,o,h);o.flags|=128}var g=o.memoizedState;if(g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ve(L,L.current),p)break;return null;case 22:case 23:return o.lanes=0,wv(a,o,h)}return Fs(a,o,h)}function us(a){a.flags|=4}function Pv(a,o){if(a!==null&&a.child===o.child)return!0;if(o.flags&16)return!1;for(a=o.child;a!==null;){if(a.flags&12854||a.subtreeFlags&12854)return!1;a=a.sibling}return!0}var Sc,bc,rh,ih;if($e)Sc=function(a,o){for(var h=o.child;h!==null;){if(h.tag===5||h.tag===6)ye(a,h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===o)break;for(;h.sibling===null;){if(h.return===null||h.return===o)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},bc=function(){},rh=function(a,o,h,p,g){if(a=a.memoizedProps,a!==p){var E=o.stateNode,I=f(pn.current);h=Ze(E,h,a,p,g,I),(o.updateQueue=h)&&us(o)}},ih=function(a,o,h,p){h!==p&&us(o)};else if(He){Sc=function(a,o,h,p){for(var g=o.child;g!==null;){if(g.tag===5){var E=g.stateNode;h&&p&&(E=hn(E,g.type,g.memoizedProps,g)),ye(a,E)}else if(g.tag===6)E=g.stateNode,h&&p&&(E=fn(E,g.memoizedProps,g)),ye(a,E);else if(g.tag!==4){if(g.tag===22&&g.memoizedState!==null)E=g.child,E!==null&&(E.return=g),Sc(a,g,!0,!0);else if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===o)break;for(;g.sibling===null;){if(g.return===null||g.return===o)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};var Tv=function(a,o,h,p){for(var g=o.child;g!==null;){if(g.tag===5){var E=g.stateNode;h&&p&&(E=hn(E,g.type,g.memoizedProps,g)),Ye(a,E)}else if(g.tag===6)E=g.stateNode,h&&p&&(E=fn(E,g.memoizedProps,g)),Ye(a,E);else if(g.tag!==4){if(g.tag===22&&g.memoizedState!==null)E=g.child,E!==null&&(E.return=g),Tv(a,g,!0,!0);else if(g.child!==null){g.child.return=g,g=g.child;continue}}if(g===o)break;for(;g.sibling===null;){if(g.return===null||g.return===o)return;g=g.return}g.sibling.return=g.return,g=g.sibling}};bc=function(a,o){var h=o.stateNode;if(!Pv(a,o)){a=h.containerInfo;var p=No(a);Tv(p,o,!1,!1),h.pendingChildren=p,us(o),Tt(a,p)}},rh=function(a,o,h,p,g){var E=a.stateNode,I=a.memoizedProps;if((a=Pv(a,o))&&I===p)o.stateNode=E;else{var J=o.stateNode,le=f(pn.current),Ce=null;I!==p&&(Ce=Ze(J,h,I,p,g,le)),a&&Ce===null?o.stateNode=E:(E=Er(E,Ce,h,I,p,o,a,J),Be(E,h,p,g,le)&&us(o),o.stateNode=E,a?us(o):Sc(E,o,!1,!1))}},ih=function(a,o,h,p){h!==p?(a=f(c.current),h=f(pn.current),o.stateNode=pt(p,a,h,o),us(o)):o.stateNode=a.stateNode}}else bc=function(){},rh=function(){},ih=function(){};function kc(a,o){if(!ut)switch(a.tailMode){case"hidden":o=a.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function tr(a){var o=a.alternate!==null&&a.alternate.child===a.child,h=0,p=0;if(o)for(var g=a.child;g!==null;)h|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)h|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=p,a.childLanes=h,o}function Vw(a,o,h){var p=o.pendingProps;switch(Do(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(o),null;case 1:return wn(o.type)&&ns(),tr(o),null;case 3:return h=o.stateNode,b(),zt(Cn),zt(kn),q(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(_a(o)?us(o):a===null||a.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,$n!==null&&(Qp($n),$n=null))),bc(a,o),tr(o),null;case 5:A(o),h=f(c.current);var g=o.type;if(a!==null&&o.stateNode!=null)rh(a,o,g,p,h),a.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(l(166));return tr(o),null}if(a=f(pn.current),_a(o)){if(!Et)throw Error(l(175));a=Ji(o.stateNode,o.type,o.memoizedProps,h,a,o,!ji),o.updateQueue=a,a!==null&&us(o)}else{var E=Le(g,p,h,a,o);Sc(E,o,!1,!1),o.stateNode=E,Be(E,g,p,h,a)&&us(o)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return tr(o),null;case 6:if(a&&o.stateNode!=null)ih(a,o,a.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(l(166));if(a=f(c.current),h=f(pn.current),_a(o)){if(!Et)throw Error(l(176));if(a=o.stateNode,h=o.memoizedProps,(p=Il(a,h,o,!ji))&&(g=Kn,g!==null))switch(g.tag){case 3:Ts(g.stateNode.containerInfo,a,h,(g.mode&1)!==0);break;case 5:Ei(g.type,g.memoizedProps,g.stateNode,a,h,(g.mode&1)!==0)}p&&us(o)}else o.stateNode=pt(p,a,h,o)}return tr(o),null;case 13:if(zt(L),p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(ut&&er!==null&&o.mode&1&&!(o.flags&128))ss(),as(),o.flags|=98560,g=!1;else if(g=_a(o),p!==null&&p.dehydrated!==null){if(a===null){if(!g)throw Error(l(318));if(!Et)throw Error(l(344));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(l(317));yp(g,o)}else as(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;tr(o),g=!1}else $n!==null&&(Qp($n),$n=null),g=!0;if(!g)return o.flags&65536?o:null}return o.flags&128?(o.lanes=h,o):(h=p!==null,h!==(a!==null&&a.memoizedState!==null)&&h&&(o.child.flags|=8192,o.mode&1&&(a===null||L.current&1?Pn===0&&(Pn=3):Xp())),o.updateQueue!==null&&(o.flags|=4),tr(o),null);case 4:return b(),bc(a,o),a===null&&wt(o.stateNode.containerInfo),tr(o),null;case 10:return Xl(o.type._context),tr(o),null;case 17:return wn(o.type)&&ns(),tr(o),null;case 19:if(zt(L),g=o.memoizedState,g===null)return tr(o),null;if(p=(o.flags&128)!==0,E=g.rendering,E===null)if(p)kc(g,!1);else{if(Pn!==0||a!==null&&a.flags&128)for(a=o.child;a!==null;){if(E=z(a),E!==null){for(o.flags|=128,kc(g,!1),a=E.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),o.subtreeFlags=0,a=h,h=o.child;h!==null;)p=h,g=a,p.flags&=14680066,E=p.alternate,E===null?(p.childLanes=0,p.lanes=g,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=E.childLanes,p.lanes=E.lanes,p.child=E.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=E.memoizedProps,p.memoizedState=E.memoizedState,p.updateQueue=E.updateQueue,p.type=E.type,g=E.dependencies,p.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),h=h.sibling;return Ve(L,L.current&1|2),o.child}a=a.sibling}g.tail!==null&&_n()>Hp&&(o.flags|=128,p=!0,kc(g,!1),o.lanes=4194304)}else{if(!p)if(a=z(E),a!==null){if(o.flags|=128,p=!0,a=a.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),kc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!ut)return tr(o),null}else 2*_n()-g.renderingStartTime>Hp&&h!==1073741824&&(o.flags|=128,p=!0,kc(g,!1),o.lanes=4194304);g.isBackwards?(E.sibling=o.child,o.child=E):(a=g.last,a!==null?a.sibling=E:o.child=E,g.last=E)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=_n(),o.sibling=null,a=L.current,Ve(L,p?a&1|2:a&1),o):(tr(o),null);case 22:case 23:return Yp(),h=o.memoizedState!==null,a!==null&&a.memoizedState!==null!==h&&(o.flags|=8192),h&&o.mode&1?Qr&1073741824&&(tr(o),$e&&o.subtreeFlags&6&&(o.flags|=8192)):tr(o),null;case 24:return null;case 25:return null}throw Error(l(156,o.tag))}function Ww(a,o){switch(Do(o),o.tag){case 1:return wn(o.type)&&ns(),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return b(),zt(Cn),zt(kn),q(),a=o.flags,a&65536&&!(a&128)?(o.flags=a&-65537|128,o):null;case 5:return A(o),null;case 13:if(zt(L),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(l(340));as()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return zt(L),null;case 4:return b(),null;case 10:return Xl(o.type._context),null;case 22:case 23:return Yp(),null;case 24:return null;default:return null}}var sh=!1,nr=!1,Hw=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function tu(a,o){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(p){Qt(a,o,p)}else h.current=null}function Ap(a,o,h){try{h()}catch(p){Qt(a,o,p)}}var jv=!1;function Kw(a,o){for(fe(a.containerInfo),Fe=o;Fe!==null;)if(a=Fe,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Fe=o;else for(;Fe!==null;){a=Fe;try{var h=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var p=h.memoizedProps,g=h.memoizedState,E=a.stateNode,I=E.getSnapshotBeforeUpdate(a.elementType===a.type?p:Ri(a.type,p),g);E.__reactInternalSnapshotBeforeUpdate=I}break;case 3:$e&&ca(a.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(J){Qt(a,a.return,J)}if(o=a.sibling,o!==null){o.return=a.return,Fe=o;break}Fe=a.return}return h=jv,jv=!1,h}function Cc(a,o,h){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&a)===a){var E=g.destroy;g.destroy=void 0,E!==void 0&&Ap(o,h,E)}g=g.next}while(g!==p)}}function ah(a,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var h=o=o.next;do{if((h.tag&a)===a){var p=h.create;h.destroy=p()}h=h.next}while(h!==o)}}function Mp(a){var o=a.ref;if(o!==null){var h=a.stateNode;switch(a.tag){case 5:a=Ke(h);break;default:a=h}typeof o=="function"?o(a):o.current=a}}function Rv(a){var o=a.alternate;o!==null&&(a.alternate=null,Rv(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&dr(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Ov(a){return a.tag===5||a.tag===3||a.tag===4}function Av(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ov(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Dp(a,o,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?si(h,a,o):Cs(h,a);else if(p!==4&&(a=a.child,a!==null))for(Dp(a,o,h),a=a.sibling;a!==null;)Dp(a,o,h),a=a.sibling}function Ip(a,o,h){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?Yi(h,a,o):Co(h,a);else if(p!==4&&(a=a.child,a!==null))for(Ip(a,o,h),a=a.sibling;a!==null;)Ip(a,o,h),a=a.sibling}var qn=null,Oi=!1;function cs(a,o,h){for(h=h.child;h!==null;)Lp(a,o,h),h=h.sibling}function Lp(a,o,h){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(is,h)}catch{}switch(h.tag){case 5:nr||tu(h,o);case 6:if($e){var p=qn,g=Oi;qn=null,cs(a,o,h),qn=p,Oi=g,qn!==null&&(Oi?Ie(qn,h.stateNode):Hr(qn,h.stateNode))}else cs(a,o,h);break;case 18:$e&&qn!==null&&(Oi?fc(qn,h.stateNode):Vd(qn,h.stateNode));break;case 4:$e?(p=qn,g=Oi,qn=h.stateNode.containerInfo,Oi=!0,cs(a,o,h),qn=p,Oi=g):(He&&(p=h.stateNode.containerInfo,g=No(p),It(p,g)),cs(a,o,h));break;case 0:case 11:case 14:case 15:if(!nr&&(p=h.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var E=g,I=E.destroy;E=E.tag,I!==void 0&&(E&2||E&4)&&Ap(h,o,I),g=g.next}while(g!==p)}cs(a,o,h);break;case 1:if(!nr&&(tu(h,o),p=h.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=h.memoizedProps,p.state=h.memoizedState,p.componentWillUnmount()}catch(J){Qt(h,o,J)}cs(a,o,h);break;case 21:cs(a,o,h);break;case 22:h.mode&1?(nr=(p=nr)||h.memoizedState!==null,cs(a,o,h),nr=p):cs(a,o,h);break;default:cs(a,o,h)}}function Mv(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new Hw),o.forEach(function(p){var g=t8.bind(null,a,p);h.has(p)||(h.add(p),p.then(g,g))})}}function Ai(a,o){var h=o.deletions;if(h!==null)for(var p=0;p<h.length;p++){var g=h[p];try{var E=a,I=o;if($e){var J=I;e:for(;J!==null;){switch(J.tag){case 5:qn=J.stateNode,Oi=!1;break e;case 3:qn=J.stateNode.containerInfo,Oi=!0;break e;case 4:qn=J.stateNode.containerInfo,Oi=!0;break e}J=J.return}if(qn===null)throw Error(l(160));Lp(E,I,g),qn=null,Oi=!1}else Lp(E,I,g);var le=g.alternate;le!==null&&(le.return=null),g.return=null}catch(Ce){Qt(g,o,Ce)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Dv(o,a),o=o.sibling}function Dv(a,o){var h=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Ai(o,a),ds(a),p&4){try{Cc(3,a,a.return),ah(3,a)}catch(Ae){Qt(a,a.return,Ae)}try{Cc(5,a,a.return)}catch(Ae){Qt(a,a.return,Ae)}}break;case 1:Ai(o,a),ds(a),p&512&&h!==null&&tu(h,h.return);break;case 5:if(Ai(o,a),ds(a),p&512&&h!==null&&tu(h,h.return),$e){if(a.flags&32){var g=a.stateNode;try{Xi(g)}catch(Ae){Qt(a,a.return,Ae)}}if(p&4&&(g=a.stateNode,g!=null)){var E=a.memoizedProps;if(h=h!==null?h.memoizedProps:E,p=a.type,o=a.updateQueue,a.updateQueue=null,o!==null)try{ii(g,o,p,h,E,a)}catch(Ae){Qt(a,a.return,Ae)}}}break;case 6:if(Ai(o,a),ds(a),p&4&&$e){if(a.stateNode===null)throw Error(l(162));g=a.stateNode,E=a.memoizedProps,h=h!==null?h.memoizedProps:E;try{Qi(g,h,E)}catch(Ae){Qt(a,a.return,Ae)}}break;case 3:if(Ai(o,a),ds(a),p&4){if($e&&Et&&h!==null&&h.memoizedState.isDehydrated)try{Gd(o.containerInfo)}catch(Ae){Qt(a,a.return,Ae)}if(He){g=o.containerInfo,E=o.pendingChildren;try{It(g,E)}catch(Ae){Qt(a,a.return,Ae)}}}break;case 4:if(Ai(o,a),ds(a),p&4&&He){E=a.stateNode,g=E.containerInfo,E=E.pendingChildren;try{It(g,E)}catch(Ae){Qt(a,a.return,Ae)}}break;case 13:Ai(o,a),ds(a),g=a.child,g.flags&8192&&(E=g.memoizedState!==null,g.stateNode.isHidden=E,!E||g.alternate!==null&&g.alternate.memoizedState!==null||(Wp=_n())),p&4&&Mv(a);break;case 22:var I=h!==null&&h.memoizedState!==null;if(a.mode&1?(nr=(h=nr)||I,Ai(o,a),nr=h):Ai(o,a),ds(a),p&8192){if(h=a.memoizedState!==null,(a.stateNode.isHidden=h)&&!I&&a.mode&1)for(Fe=a,p=a.child;p!==null;){for(o=Fe=p;Fe!==null;){I=Fe;var J=I.child;switch(I.tag){case 0:case 11:case 14:case 15:Cc(4,I,I.return);break;case 1:tu(I,I.return);var le=I.stateNode;if(typeof le.componentWillUnmount=="function"){var Ce=I,Ue=I.return;try{var ot=Ce;le.props=ot.memoizedProps,le.state=ot.memoizedState,le.componentWillUnmount()}catch(Ae){Qt(Ce,Ue,Ae)}}break;case 5:tu(I,I.return);break;case 22:if(I.memoizedState!==null){Fv(o);continue}}J!==null?(J.return=I,Fe=J):Fv(o)}p=p.sibling}if($e){e:if(p=null,$e)for(o=a;;){if(o.tag===5){if(p===null){p=o;try{g=o.stateNode,h?Ci(g):je(o.stateNode,o.memoizedProps)}catch(Ae){Qt(a,a.return,Ae)}}}else if(o.tag===6){if(p===null)try{E=o.stateNode,h?Es(E):Eo(E,o.memoizedProps)}catch(Ae){Qt(a,a.return,Ae)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;p===o&&(p=null),o=o.return}p===o&&(p=null),o.sibling.return=o.return,o=o.sibling}}}break;case 19:Ai(o,a),ds(a),p&4&&Mv(a);break;case 21:break;default:Ai(o,a),ds(a)}}function ds(a){var o=a.flags;if(o&2){try{if($e){e:{for(var h=a.return;h!==null;){if(Ov(h)){var p=h;break e}h=h.return}throw Error(l(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(Xi(g),p.flags&=-33);var E=Av(a);Ip(a,E,g);break;case 3:case 4:var I=p.stateNode.containerInfo,J=Av(a);Dp(a,J,I);break;default:throw Error(l(161))}}}catch(le){Qt(a,a.return,le)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function $w(a,o,h){Fe=a,Iv(a)}function Iv(a,o,h){for(var p=(a.mode&1)!==0;Fe!==null;){var g=Fe,E=g.child;if(g.tag===22&&p){var I=g.memoizedState!==null||sh;if(!I){var J=g.alternate,le=J!==null&&J.memoizedState!==null||nr;J=sh;var Ce=nr;if(sh=I,(nr=le)&&!Ce)for(Fe=g;Fe!==null;)I=Fe,le=I.child,I.tag===22&&I.memoizedState!==null?zv(g):le!==null?(le.return=I,Fe=le):zv(g);for(;E!==null;)Fe=E,Iv(E),E=E.sibling;Fe=g,sh=J,nr=Ce}Lv(a)}else g.subtreeFlags&8772&&E!==null?(E.return=g,Fe=E):Lv(a)}}function Lv(a){for(;Fe!==null;){var o=Fe;if(o.flags&8772){var h=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:nr||ah(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!nr)if(h===null)p.componentDidMount();else{var g=o.elementType===o.type?h.memoizedProps:Ri(o.type,h.memoizedProps);p.componentDidUpdate(g,h.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=o.updateQueue;E!==null&&Zl(o,E,p);break;case 3:var I=o.updateQueue;if(I!==null){if(h=null,o.child!==null)switch(o.child.tag){case 5:h=Ke(o.child.stateNode);break;case 1:h=o.child.stateNode}Zl(o,I,h)}break;case 5:var J=o.stateNode;h===null&&o.flags&4&&ua(J,o.type,o.memoizedProps,o);break;case 6:break;case 4:break;case 12:break;case 13:if(Et&&o.memoizedState===null){var le=o.alternate;if(le!==null){var Ce=le.memoizedState;if(Ce!==null){var Ue=Ce.dehydrated;Ue!==null&&Ps(Ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}nr||o.flags&512&&Mp(o)}catch(ot){Qt(o,o.return,ot)}}if(o===a){Fe=null;break}if(h=o.sibling,h!==null){h.return=o.return,Fe=h;break}Fe=o.return}}function Fv(a){for(;Fe!==null;){var o=Fe;if(o===a){Fe=null;break}var h=o.sibling;if(h!==null){h.return=o.return,Fe=h;break}Fe=o.return}}function zv(a){for(;Fe!==null;){var o=Fe;try{switch(o.tag){case 0:case 11:case 15:var h=o.return;try{ah(4,o)}catch(le){Qt(o,h,le)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var g=o.return;try{p.componentDidMount()}catch(le){Qt(o,g,le)}}var E=o.return;try{Mp(o)}catch(le){Qt(o,E,le)}break;case 5:var I=o.return;try{Mp(o)}catch(le){Qt(o,I,le)}}}catch(le){Qt(o,o.return,le)}if(o===a){Fe=null;break}var J=o.sibling;if(J!==null){J.return=o.return,Fe=J;break}Fe=o.return}}var oh=0,lh=1,uh=2,ch=3,dh=4;if(typeof Symbol=="function"&&Symbol.for){var Ec=Symbol.for;oh=Ec("selector.component"),lh=Ec("selector.has_pseudo_class"),uh=Ec("selector.role"),ch=Ec("selector.test_id"),dh=Ec("selector.text")}function Fp(a){var o=kr(a);if(o!=null){if(typeof o.memoizedProps["data-testname"]!="string")throw Error(l(364));return o}if(a=Dn(a),a===null)throw Error(l(362));return a.stateNode.current}function zp(a,o){switch(o.$$typeof){case oh:if(a.type===o.value)return!0;break;case lh:e:{o=o.value,a=[a,0];for(var h=0;h<a.length;){var p=a[h++],g=a[h++],E=o[g];if(p.tag!==5||!qi(p)){for(;E!=null&&zp(p,E);)g++,E=o[g];if(g===o.length){o=!0;break e}else for(p=p.child;p!==null;)a.push(p,g),p=p.sibling}}o=!1}return o;case uh:if(a.tag===5&&ks(a.stateNode,o.value))return!0;break;case dh:if((a.tag===5||a.tag===6)&&(a=hr(a),a!==null&&0<=a.indexOf(o.value)))return!0;break;case ch:if(a.tag===5&&(a=a.memoizedProps["data-testname"],typeof a=="string"&&a.toLowerCase()===o.value.toLowerCase()))return!0;break;default:throw Error(l(365))}return!1}function Bp(a){switch(a.$$typeof){case oh:return"<"+(V(a.value)||"Unknown")+">";case lh:return":has("+(Bp(a)||"")+")";case uh:return'[role="'+a.value+'"]';case dh:return'"'+a.value+'"';case ch:return'[data-testname="'+a.value+'"]';default:throw Error(l(365))}}function Bv(a,o){var h=[];a=[a,0];for(var p=0;p<a.length;){var g=a[p++],E=a[p++],I=o[E];if(g.tag!==5||!qi(g)){for(;I!=null&&zp(g,I);)E++,I=o[E];if(E===o.length)h.push(g);else for(g=g.child;g!==null;)a.push(g,E),g=g.sibling}}return h}function Up(a,o){if(!ri)throw Error(l(363));a=Fp(a),a=Bv(a,o),o=[],a=Array.from(a);for(var h=0;h<a.length;){var p=a[h++];if(p.tag===5)qi(p)||o.push(p.stateNode);else for(p=p.child;p!==null;)a.push(p),p=p.sibling}return o}var qw=Math.ceil,hh=u.ReactCurrentDispatcher,Gp=u.ReactCurrentOwner,mn=u.ReactCurrentBatchConfig,yt=0,Fn=null,Sn=null,Qn=0,Qr=0,nu=Kr(0),Pn=0,Nc=null,Ho=0,fh=0,Vp=0,Pc=null,Dr=null,Wp=0,Hp=1/0,zs=null;function ru(){Hp=_n()+500}var ph=!1,Kp=null,Na=null,mh=!1,Pa=null,gh=0,Tc=0,$p=null,yh=-1,vh=0;function rr(){return yt&6?_n():yh!==-1?yh:yh=_n()}function Ta(a){return a.mode&1?yt&2&&Qn!==0?Qn&-Qn:Kl.transition!==null?(vh===0&&(vh=Os()),vh):(a=Qe,a!==0?a:Wr()):1}function hi(a,o,h,p){if(50<Tc)throw Tc=0,$p=null,Error(l(185));jr(a,h,p),(!(yt&2)||a!==Fn)&&(a===Fn&&(!(yt&2)&&(fh|=h),Pn===4&&ja(a,Qn)),Ir(a,p),h===1&&yt===0&&!(o.mode&1)&&(ru(),Vl&&oi()))}function Ir(a,o){var h=a.callbackNode;xp(a,o);var p=Oo(a,a===Fn?Qn:0);if(p===0)h!==null&&ma(h),a.callbackNode=null,a.callbackPriority=0;else if(o=p&-p,a.callbackPriority!==o){if(h!=null&&ma(h),o===1)a.tag===0?vc(Gv.bind(null,a)):Ao(Gv.bind(null,a)),Cr?dc(function(){!(yt&6)&&oi()}):As(Rr,oi),h=null;else{switch($r(p)){case 1:h=Rr;break;case 4:h=gc;break;case 16:h=Gl;break;case 536870912:h=yc;break;default:h=Gl}h=Xv(h,Uv.bind(null,a))}a.callbackPriority=o,a.callbackNode=h}}function Uv(a,o){if(yh=-1,vh=0,yt&6)throw Error(l(327));var h=a.callbackNode;if(qo()&&a.callbackNode!==h)return null;var p=Oo(a,a===Fn?Qn:0);if(p===0)return null;if(p&30||p&a.expiredLanes||o)o=xh(a,p);else{o=p;var g=yt;yt|=2;var E=Hv();(Fn!==a||Qn!==o)&&(zs=null,ru(),Ko(a,o));do try{Xw();break}catch(J){Wv(a,J)}while(1);Yl(),hh.current=E,yt=g,Sn!==null?o=0:(Fn=null,Qn=0,o=Pn)}if(o!==0){if(o===2&&(g=Vn(a),g!==0&&(p=g,o=qp(a,g))),o===1)throw h=Nc,Ko(a,0),ja(a,p),Ir(a,_n()),h;if(o===6)ja(a,p);else{if(g=a.current.alternate,!(p&30)&&!Qw(g)&&(o=xh(a,p),o===2&&(E=Vn(a),E!==0&&(p=E,o=qp(a,E))),o===1))throw h=Nc,Ko(a,0),ja(a,p),Ir(a,_n()),h;switch(a.finishedWork=g,a.finishedLanes=p,o){case 0:case 1:throw Error(l(345));case 2:$o(a,Dr,zs);break;case 3:if(ja(a,p),(p&130023424)===p&&(o=Wp+500-_n(),10<o)){if(Oo(a,0)!==0)break;if(g=a.suspendedLanes,(g&p)!==p){rr(),a.pingedLanes|=a.suspendedLanes&g;break}a.timeoutHandle=K($o.bind(null,a,Dr,zs),o);break}$o(a,Dr,zs);break;case 4:if(ja(a,p),(p&4194240)===p)break;for(o=a.eventTimes,g=-1;0<p;){var I=31-Tr(p);E=1<<I,I=o[I],I>g&&(g=I),p&=~E}if(p=g,p=_n()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*qw(p/1960))-p,10<p){a.timeoutHandle=K($o.bind(null,a,Dr,zs),p);break}$o(a,Dr,zs);break;case 5:$o(a,Dr,zs);break;default:throw Error(l(329))}}}return Ir(a,_n()),a.callbackNode===h?Uv.bind(null,a):null}function qp(a,o){var h=Pc;return a.current.memoizedState.isDehydrated&&(Ko(a,o).flags|=256),a=xh(a,o),a!==2&&(o=Dr,Dr=h,o!==null&&Qp(o)),a}function Qp(a){Dr===null?Dr=a:Dr.push.apply(Dr,a)}function Qw(a){for(var o=a;;){if(o.flags&16384){var h=o.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var p=0;p<h.length;p++){var g=h[p],E=g.getSnapshot;g=g.value;try{if(!Wn(E(),g))return!1}catch{return!1}}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ja(a,o){for(o&=~Vp,o&=~fh,a.suspendedLanes|=o,a.pingedLanes&=~o,a=a.expirationTimes;0<o;){var h=31-Tr(o),p=1<<h;a[h]=-1,o&=~p}}function Gv(a){if(yt&6)throw Error(l(327));qo();var o=Oo(a,0);if(!(o&1))return Ir(a,_n()),null;var h=xh(a,o);if(a.tag!==0&&h===2){var p=Vn(a);p!==0&&(o=p,h=qp(a,p))}if(h===1)throw h=Nc,Ko(a,0),ja(a,o),Ir(a,_n()),h;if(h===6)throw Error(l(345));return a.finishedWork=a.current.alternate,a.finishedLanes=o,$o(a,Dr,zs),Ir(a,_n()),null}function Vv(a){Pa!==null&&Pa.tag===0&&!(yt&6)&&qo();var o=yt;yt|=1;var h=mn.transition,p=Qe;try{if(mn.transition=null,Qe=1,a)return a()}finally{Qe=p,mn.transition=h,yt=o,!(yt&6)&&oi()}}function Yp(){Qr=nu.current,zt(nu)}function Ko(a,o){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==pe&&(a.timeoutHandle=pe,ve(h)),Sn!==null)for(h=Sn.return;h!==null;){var p=h;switch(Do(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&ns();break;case 3:b(),zt(Cn),zt(kn),q();break;case 5:A(p);break;case 4:b();break;case 13:zt(L);break;case 19:zt(L);break;case 10:Xl(p.type._context);break;case 22:case 23:Yp()}h=h.return}if(Fn=a,Sn=a=Ra(a.current,null),Qn=Qr=o,Pn=0,Nc=null,Vp=fh=Ho=0,Dr=Pc=null,Ls!==null){for(o=0;o<Ls.length;o++)if(h=Ls[o],p=h.interleaved,p!==null){h.interleaved=null;var g=p.next,E=h.pending;if(E!==null){var I=E.next;E.next=g,p.next=I}h.pending=p}Ls=null}return a}function Wv(a,o){do{var h=Sn;try{if(Yl(),Y.current=Jd,X){for(var p=G.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}X=!1}if(Z=0,Q=$=G=null,ee=!1,ie=0,Gp.current=null,h===null||h.return===null){Pn=1,Nc=o,Sn=null;break}e:{var E=a,I=h.return,J=h,le=o;if(o=Qn,J.flags|=32768,le!==null&&typeof le=="object"&&typeof le.then=="function"){var Ce=le,Ue=J,ot=Ue.tag;if(!(Ue.mode&1)&&(ot===0||ot===11||ot===15)){var Ae=Ue.alternate;Ae?(Ue.updateQueue=Ae.updateQueue,Ue.memoizedState=Ae.memoizedState,Ue.lanes=Ae.lanes):(Ue.updateQueue=null,Ue.memoizedState=null)}var Kt=mv(I);if(Kt!==null){Kt.flags&=-257,gv(Kt,I,J,E,o),Kt.mode&1&&pv(E,Ce,o),o=Kt,le=Ce;var Ut=o.updateQueue;if(Ut===null){var Lr=new Set;Lr.add(le),o.updateQueue=Lr}else Ut.add(le);break e}else{if(!(o&1)){pv(E,Ce,o),Xp();break e}le=Error(l(426))}}else if(ut&&J.mode&1){var Bs=mv(I);if(Bs!==null){!(Bs.flags&65536)&&(Bs.flags|=256),gv(Bs,I,J,E,o),Fo(eu(le,J));break e}}E=le=eu(le,J),Pn!==4&&(Pn=2),Pc===null?Pc=[E]:Pc.push(E),E=I;do{switch(E.tag){case 3:E.flags|=65536,o&=-o,E.lanes|=o;var ae=hv(E,le,o);_c(E,ae);break e;case 1:J=le;var te=E.type,de=E.stateNode;if(!(E.flags&128)&&(typeof te.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(Na===null||!Na.has(de)))){E.flags|=65536,o&=-o,E.lanes|=o;var De=fv(E,J,o);_c(E,De);break e}}E=E.return}while(E!==null)}$v(h)}catch(qe){o=qe,Sn===h&&h!==null&&(Sn=h=h.return);continue}break}while(1)}function Hv(){var a=hh.current;return hh.current=Jd,a===null?Jd:a}function Xp(){(Pn===0||Pn===3||Pn===2)&&(Pn=4),Fn===null||!(Ho&268435455)&&!(fh&268435455)||ja(Fn,Qn)}function xh(a,o){var h=yt;yt|=2;var p=Hv();(Fn!==a||Qn!==o)&&(zs=null,Ko(a,o));do try{Yw();break}catch(g){Wv(a,g)}while(1);if(Yl(),yt=h,hh.current=p,Sn!==null)throw Error(l(261));return Fn=null,Qn=0,Pn}function Yw(){for(;Sn!==null;)Kv(Sn)}function Xw(){for(;Sn!==null&&!mc();)Kv(Sn)}function Kv(a){var o=Yv(a.alternate,a,Qr);a.memoizedProps=a.pendingProps,o===null?$v(a):Sn=o,Gp.current=null}function $v(a){var o=a;do{var h=o.alternate;if(a=o.return,o.flags&32768){if(h=Ww(h,o),h!==null){h.flags&=32767,Sn=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Pn=6,Sn=null;return}}else if(h=Vw(h,o,Qr),h!==null){Sn=h;return}if(o=o.sibling,o!==null){Sn=o;return}Sn=o=a}while(o!==null);Pn===0&&(Pn=5)}function $o(a,o,h){var p=Qe,g=mn.transition;try{mn.transition=null,Qe=1,Zw(a,o,h,p)}finally{mn.transition=g,Qe=p}return null}function Zw(a,o,h,p){do qo();while(Pa!==null);if(yt&6)throw Error(l(327));h=a.finishedWork;var g=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(l(177));a.callbackNode=null,a.callbackPriority=0;var E=h.lanes|h.childLanes;if(Hd(a,E),a===Fn&&(Sn=Fn=null,Qn=0),!(h.subtreeFlags&2064)&&!(h.flags&2064)||mh||(mh=!0,Xv(Gl,function(){return qo(),null})),E=(h.flags&15990)!==0,h.subtreeFlags&15990||E){E=mn.transition,mn.transition=null;var I=Qe;Qe=1;var J=yt;yt|=4,Gp.current=null,Kw(a,h),Dv(h,a),me(a.containerInfo),a.current=h,$w(h),rs(),yt=J,Qe=I,mn.transition=E}else a.current=h;if(mh&&(mh=!1,Pa=a,gh=g),E=a.pendingLanes,E===0&&(Na=null),Kd(h.stateNode),Ir(a,_n()),o!==null)for(p=a.onRecoverableError,h=0;h<o.length;h++)g=o[h],p(g.value,{componentStack:g.stack,digest:g.digest});if(ph)throw ph=!1,a=Kp,Kp=null,a;return gh&1&&a.tag!==0&&qo(),E=a.pendingLanes,E&1?a===$p?Tc++:(Tc=0,$p=a):Tc=0,oi(),null}function qo(){if(Pa!==null){var a=$r(gh),o=mn.transition,h=Qe;try{if(mn.transition=null,Qe=16>a?16:a,Pa===null)var p=!1;else{if(a=Pa,Pa=null,gh=0,yt&6)throw Error(l(331));var g=yt;for(yt|=4,Fe=a.current;Fe!==null;){var E=Fe,I=E.child;if(Fe.flags&16){var J=E.deletions;if(J!==null){for(var le=0;le<J.length;le++){var Ce=J[le];for(Fe=Ce;Fe!==null;){var Ue=Fe;switch(Ue.tag){case 0:case 11:case 15:Cc(8,Ue,E)}var ot=Ue.child;if(ot!==null)ot.return=Ue,Fe=ot;else for(;Fe!==null;){Ue=Fe;var Ae=Ue.sibling,Kt=Ue.return;if(Rv(Ue),Ue===Ce){Fe=null;break}if(Ae!==null){Ae.return=Kt,Fe=Ae;break}Fe=Kt}}}var Ut=E.alternate;if(Ut!==null){var Lr=Ut.child;if(Lr!==null){Ut.child=null;do{var Bs=Lr.sibling;Lr.sibling=null,Lr=Bs}while(Lr!==null)}}Fe=E}}if(E.subtreeFlags&2064&&I!==null)I.return=E,Fe=I;else e:for(;Fe!==null;){if(E=Fe,E.flags&2048)switch(E.tag){case 0:case 11:case 15:Cc(9,E,E.return)}var ae=E.sibling;if(ae!==null){ae.return=E.return,Fe=ae;break e}Fe=E.return}}var te=a.current;for(Fe=te;Fe!==null;){I=Fe;var de=I.child;if(I.subtreeFlags&2064&&de!==null)de.return=I,Fe=de;else e:for(I=te;Fe!==null;){if(J=Fe,J.flags&2048)try{switch(J.tag){case 0:case 11:case 15:ah(9,J)}}catch(qe){Qt(J,J.return,qe)}if(J===I){Fe=null;break e}var De=J.sibling;if(De!==null){De.return=J.return,Fe=De;break e}Fe=J.return}}if(yt=g,oi(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(is,a)}catch{}p=!0}return p}finally{Qe=h,mn.transition=o}}return!1}function qv(a,o,h){o=eu(h,o),o=hv(a,o,1),a=ls(a,o,1),o=rr(),a!==null&&(jr(a,1,o),Ir(a,o))}function Qt(a,o,h){if(a.tag===3)qv(a,a,h);else for(;o!==null;){if(o.tag===3){qv(o,a,h);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Na===null||!Na.has(p))){a=eu(h,a),a=fv(o,a,1),o=ls(o,a,1),a=rr(),o!==null&&(jr(o,1,a),Ir(o,a));break}}o=o.return}}function Jw(a,o,h){var p=a.pingCache;p!==null&&p.delete(o),o=rr(),a.pingedLanes|=a.suspendedLanes&h,Fn===a&&(Qn&h)===h&&(Pn===4||Pn===3&&(Qn&130023424)===Qn&&500>_n()-Wp?Ko(a,0):Vp|=h),Ir(a,o)}function Qv(a,o){o===0&&(a.mode&1?(o=Bl,Bl<<=1,!(Bl&130023424)&&(Bl=4194304)):o=1);var h=rr();a=mr(a,o),a!==null&&(jr(a,o,h),Ir(a,h))}function e8(a){var o=a.memoizedState,h=0;o!==null&&(h=o.retryLane),Qv(a,h)}function t8(a,o){var h=0;switch(a.tag){case 13:var p=a.stateNode,g=a.memoizedState;g!==null&&(h=g.retryLane);break;case 19:p=a.stateNode;break;default:throw Error(l(314))}p!==null&&p.delete(o),Qv(a,h)}var Yv;Yv=function(a,o,h){if(a!==null)if(a.memoizedProps!==o.pendingProps||Cn.current)Mr=!0;else{if(!(a.lanes&h)&&!(o.flags&128))return Mr=!1,Gw(a,o,h);Mr=!!(a.flags&131072)}else Mr=!1,ut&&o.flags&1048576&&Ds(o,wa,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;nh(a,o),a=o.pendingProps;var g=jt(o,kn.current);Is(o,h),g=Pe(null,o,p,a,g,h);var E=_e();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,wn(p)?(E=!0,fa(o)):E=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Wt(o),g.updater=eh,o.stateNode=g,g._reactInternals=o,kp(o,p,a,h),o=Pp(null,o,p,!0,E,h)):(o.tag=0,ut&&E&&Mo(o),gr(null,o,g,h),o=o.child),o;case 16:p=o.elementType;e:{switch(nh(a,o),a=o.pendingProps,g=p._init,p=g(p._payload),o.type=p,g=o.tag=r8(p),a=Ri(p,a),g){case 0:o=Np(null,o,p,a,h);break e;case 1:o=Sv(null,o,p,a,h);break e;case 11:o=yv(null,o,p,a,h);break e;case 14:o=vv(null,o,p,Ri(p.type,a),h);break e}throw Error(l(306,p,""))}return o;case 0:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:Ri(p,g),Np(a,o,p,g,h);case 1:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:Ri(p,g),Sv(a,o,p,g,h);case 3:e:{if(bv(o),a===null)throw Error(l(387));p=o.pendingProps,E=o.memoizedState,g=E.element,Vo(a,o),ci(o,p,null,h);var I=o.memoizedState;if(p=I.element,Et&&E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){g=eu(Error(l(423)),o),o=kv(a,o,p,h,g);break e}else if(p!==g){g=eu(Error(l(424)),o),o=kv(a,o,p,h,g);break e}else for(Et&&(er=Zi(o.stateNode.containerInfo),Kn=o,ut=!0,$n=null,ji=!1),h=$l(o,null,p,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(as(),p===g){o=Fs(a,o,h);break e}gr(a,o,p,h)}o=o.child}return o;case 5:return P(o),a===null&&Hl(o),p=o.type,g=o.pendingProps,E=a!==null?a.memoizedProps:null,I=g.children,ct(p,g)?I=null:E!==null&&ct(p,E)&&(o.flags|=32),_v(a,o),gr(a,o,I,h),o.child;case 6:return a===null&&Hl(o),null;case 13:return Cv(a,o,h);case 4:return y(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=os(o,null,p,h):gr(a,o,p,h),o.child;case 11:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:Ri(p,g),yv(a,o,p,g,h);case 7:return gr(a,o,o.pendingProps,h),o.child;case 8:return gr(a,o,o.pendingProps.children,h),o.child;case 12:return gr(a,o,o.pendingProps.children,h),o.child;case 10:e:{if(p=o.type._context,g=o.pendingProps,E=o.memoizedProps,I=g.value,Qd(o,p,I),E!==null)if(Wn(E.value,I)){if(E.children===g.children&&!Cn.current){o=Fs(a,o,h);break e}}else for(E=o.child,E!==null&&(E.return=o);E!==null;){var J=E.dependencies;if(J!==null){I=E.child;for(var le=J.firstContext;le!==null;){if(le.context===p){if(E.tag===1){le=an(-1,h&-h),le.tag=2;var Ce=E.updateQueue;if(Ce!==null){Ce=Ce.shared;var Ue=Ce.pending;Ue===null?le.next=le:(le.next=Ue.next,Ue.next=le),Ce.pending=le}}E.lanes|=h,le=E.alternate,le!==null&&(le.lanes|=h),Go(E.return,h,o),J.lanes|=h;break}le=le.next}}else if(E.tag===10)I=E.type===o.type?null:E.child;else if(E.tag===18){if(I=E.return,I===null)throw Error(l(341));I.lanes|=h,J=I.alternate,J!==null&&(J.lanes|=h),Go(I,h,o),I=E.sibling}else I=E.child;if(I!==null)I.return=E;else for(I=E;I!==null;){if(I===o){I=null;break}if(E=I.sibling,E!==null){E.return=I.return,I=E;break}I=I.return}E=I}gr(a,o,g.children,h),o=o.child}return o;case 9:return g=o.type,p=o.pendingProps.children,Is(o,h),g=pr(g),p=p(g),o.flags|=1,gr(a,o,p,h),o.child;case 14:return p=o.type,g=Ri(p,o.pendingProps),g=Ri(p.type,g),vv(a,o,p,g,h);case 15:return xv(a,o,o.type,o.pendingProps,h);case 17:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:Ri(p,g),nh(a,o),o.tag=1,wn(p)?(a=!0,fa(o)):a=!1,Is(o,h),cv(o,p,g),kp(o,p,g,h),Pp(null,o,p,!0,a,h);case 19:return Nv(a,o,h);case 22:return wv(a,o,h)}throw Error(l(156,o.tag))};function Xv(a,o){return As(a,o)}function n8(a,o,h,p){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(a,o,h,p){return new n8(a,o,h,p)}function Zp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function r8(a){if(typeof a=="function")return Zp(a)?1:0;if(a!=null){if(a=a.$$typeof,a===R)return 11;if(a===j)return 14}return 2}function Ra(a,o){var h=a.alternate;return h===null?(h=fi(a.tag,o,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=o,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,o=a.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function wh(a,o,h,p,g,E){var I=2;if(p=a,typeof a=="function")Zp(a)&&(I=1);else if(typeof a=="string")I=5;else e:switch(a){case w:return Qo(h.children,g,E,o);case C:I=8,g|=8;break;case S:return a=fi(12,h,o,g|2),a.elementType=S,a.lanes=E,a;case O:return a=fi(13,h,o,g),a.elementType=O,a.lanes=E,a;case T:return a=fi(19,h,o,g),a.elementType=T,a.lanes=E,a;case N:return _h(h,g,E,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case _:I=10;break e;case k:I=9;break e;case R:I=11;break e;case j:I=14;break e;case x:I=16,p=null;break e}throw Error(l(130,a==null?a:typeof a,""))}return o=fi(I,h,o,g),o.elementType=a,o.type=p,o.lanes=E,o}function Qo(a,o,h,p){return a=fi(7,a,p,o),a.lanes=h,a}function _h(a,o,h,p){return a=fi(22,a,p,o),a.elementType=N,a.lanes=h,a.stateNode={isHidden:!1},a}function Jp(a,o,h){return a=fi(6,a,null,o),a.lanes=h,a}function em(a,o,h){return o=fi(4,a.children!==null?a.children:[],a.key,o),o.lanes=h,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function i8(a,o,h,p,g){this.tag=o,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=pe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pa(0),this.expirationTimes=pa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pa(0),this.identifierPrefix=p,this.onRecoverableError=g,Et&&(this.mutableSourceEagerHydrationData=null)}function Zv(a,o,h,p,g,E,I,J,le){return a=new i8(a,o,h,J,le),o===1?(o=1,E===!0&&(o|=8)):o=0,E=fi(3,null,null,o),a.current=E,E.stateNode=a,E.memoizedState={element:p,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wt(E),a}function Jv(a){if(!a)return Pi;a=a._reactInternals;e:{if(ne(a)!==a||a.tag!==1)throw Error(l(170));var o=a;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(wn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(l(171))}if(a.tag===1){var h=a.type;if(wn(h))return Fl(a,h,o)}return o}function e2(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(l(188)):(a=Object.keys(a).join(","),Error(l(268,a)));return a=oe(o),a===null?null:a.stateNode}function t2(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<o?h:o}}function Sh(a,o){t2(a,o),(a=a.alternate)&&t2(a,o)}function s8(a){return a=oe(a),a===null?null:a.stateNode}function a8(){return null}return n.attemptContinuousHydration=function(a){if(a.tag===13){var o=mr(a,134217728);if(o!==null){var h=rr();hi(o,a,134217728,h)}Sh(a,134217728)}},n.attemptDiscreteHydration=function(a){if(a.tag===13){var o=mr(a,1);if(o!==null){var h=rr();hi(o,a,1,h)}Sh(a,1)}},n.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var o=Ta(a),h=mr(a,o);if(h!==null){var p=rr();hi(h,a,o,p)}Sh(a,o)}},n.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var o=a.stateNode;if(o.current.memoizedState.isDehydrated){var h=gt(o.pendingLanes);h!==0&&(Ul(o,h|1),Ir(o,_n()),!(yt&6)&&(ru(),oi()))}break;case 13:Vv(function(){var p=mr(a,1);if(p!==null){var g=rr();hi(p,a,1,g)}}),Sh(a,1)}},n.batchedUpdates=function(a,o){var h=yt;yt|=1;try{return a(o)}finally{yt=h,yt===0&&(ru(),Vl&&oi())}},n.createComponentSelector=function(a){return{$$typeof:oh,value:a}},n.createContainer=function(a,o,h,p,g,E,I){return Zv(a,o,!1,null,h,p,g,E,I)},n.createHasPseudoClassSelector=function(a){return{$$typeof:lh,value:a}},n.createHydrationContainer=function(a,o,h,p,g,E,I,J,le){return a=Zv(h,p,!0,a,g,E,I,J,le),a.context=Jv(null),h=a.current,p=rr(),g=Ta(h),E=an(p,g),E.callback=o??null,ls(h,E,g),a.current.lanes=g,jr(a,g,p),Ir(a,p),a},n.createPortal=function(a,o,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:p==null?null:""+p,children:a,containerInfo:o,implementation:h}},n.createRoleSelector=function(a){return{$$typeof:uh,value:a}},n.createTestNameSelector=function(a){return{$$typeof:ch,value:a}},n.createTextSelector=function(a){return{$$typeof:dh,value:a}},n.deferredUpdates=function(a){var o=Qe,h=mn.transition;try{return mn.transition=null,Qe=16,a()}finally{Qe=o,mn.transition=h}},n.discreteUpdates=function(a,o,h,p,g){var E=Qe,I=mn.transition;try{return mn.transition=null,Qe=1,a(o,h,p,g)}finally{Qe=E,mn.transition=I,yt===0&&ru()}},n.findAllNodes=Up,n.findBoundingRects=function(a,o){if(!ri)throw Error(l(363));o=Up(a,o),a=[];for(var h=0;h<o.length;h++)a.push(ko(o[h]));for(o=a.length-1;0<o;o--){h=a[o];for(var p=h.x,g=p+h.width,E=h.y,I=E+h.height,J=o-1;0<=J;J--)if(o!==J){var le=a[J],Ce=le.x,Ue=Ce+le.width,ot=le.y,Ae=ot+le.height;if(p>=Ce&&E>=ot&&g<=Ue&&I<=Ae){a.splice(o,1);break}else if(p!==Ce||h.width!==le.width||Ae<E||ot>I){if(!(E!==ot||h.height!==le.height||Ue<p||Ce>g)){Ce>p&&(le.width+=Ce-p,le.x=p),Ue<g&&(le.width=g-Ce),a.splice(o,1);break}}else{ot>E&&(le.height+=ot-E,le.y=E),Ae<I&&(le.height=I-ot),a.splice(o,1);break}}}return a},n.findHostInstance=e2,n.findHostInstanceWithNoPortals=function(a){return a=re(a),a=a!==null?Oe(a):null,a===null?null:a.stateNode},n.findHostInstanceWithWarning=function(a){return e2(a)},n.flushControlled=function(a){var o=yt;yt|=1;var h=mn.transition,p=Qe;try{mn.transition=null,Qe=1,a()}finally{Qe=p,mn.transition=h,yt=o,yt===0&&(ru(),oi())}},n.flushPassiveEffects=qo,n.flushSync=Vv,n.focusWithin=function(a,o){if(!ri)throw Error(l(363));for(a=Fp(a),o=Bv(a,o),o=Array.from(o),a=0;a<o.length;){var h=o[a++];if(!qi(h)){if(h.tag===5&&sn(h.stateNode))return!0;for(h=h.child;h!==null;)o.push(h),h=h.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Qe},n.getFindAllNodesFailureDescription=function(a,o){if(!ri)throw Error(l(363));var h=0,p=[];a=[Fp(a),0];for(var g=0;g<a.length;){var E=a[g++],I=a[g++],J=o[I];if((E.tag!==5||!qi(E))&&(zp(E,J)&&(p.push(Bp(J)),I++,I>h&&(h=I)),I<o.length))for(E=E.child;E!==null;)a.push(E,I),E=E.sibling}if(h<o.length){for(a=[];h<o.length;h++)a.push(Bp(o[h]));return`findAllNodes was able to match part of the selector:
  `+(p.join(" > ")+`

No matching component was found for:
  `)+a.join(" > ")}return null},n.getPublicRootInstance=function(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return Ke(a.child.stateNode);default:return a.child.stateNode}},n.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:s8,findFiberByHostInstance:a.findFiberByHostInstance||a8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(o.isDisabled||!o.supportsFiber)a=!0;else{try{is=o.inject(a),Or=o}catch{}a=!!o.checkDCE}}return a},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(a,o,h,p){if(!ri)throw Error(l(363));a=Up(a,o);var g=Jn(a,h,p).disconnect;return{disconnect:function(){g()}}},n.registerMutableSourceForHydration=function(a,o){var h=o._getVersion;h=h(o._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[o,h]:a.mutableSourceEagerHydrationData.push(o,h)},n.runWithPriority=function(a,o){var h=Qe;try{return Qe=a,o()}finally{Qe=h}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(a,o,h,p){var g=o.current,E=rr(),I=Ta(g);return h=Jv(h),o.context===null?o.context=h:o.pendingContext=h,o=an(E,I),o.payload={element:a},p=p===void 0?null:p,p!==null&&(o.callback=p),a=ls(g,o,I),a!==null&&(hi(a,g,I,E),Ca(a,g,I)),I},n};Sw.exports=QT;var YT=Sw.exports;const XT=Ju(YT);var bw={exports:{}},Al={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Al.ConcurrentRoot=1;Al.ContinuousEventPriority=4;Al.DefaultEventPriority=16;Al.DiscreteEventPriority=1;Al.IdleEventPriority=536870912;Al.LegacyRoot=0;bw.exports=Al;var kw=bw.exports;const N4={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let P4=!1,T4=!1;const qy=".react-konva-event",ZT=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,JT=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,ej={};function mp(t,e,n=ej){if(!P4&&"zIndex"in e&&(console.warn(JT),P4=!0),!T4&&e.draggable){var r=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;r&&!i&&(console.warn(ZT),T4=!0)}for(var s in n)if(!N4[s]){var l=s.slice(0,2)==="on",u=n[s]!==e[s];if(l&&u){var d=s.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),t.off(d,n[s])}var m=!e.hasOwnProperty(s);m&&t.setAttr(s,void 0)}var w=e._useStrictMode,C={},S=!1;const _={};for(var s in e)if(!N4[s]){var l=s.slice(0,2)==="on",k=n[s]!==e[s];if(l&&k){var d=s.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),e[s]&&(_[d]=e[s])}!l&&(e[s]!==n[s]||w&&e[s]!==t.getAttr(s))&&(S=!0,C[s]=e[s])}S&&(t.setAttrs(C),bo(t));for(var d in _)t.on(d+qy,_[d])}function bo(t){if(!ft.Konva.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const Cw={},tj={};Td.Node.prototype._applyProps=mp;function nj(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),bo(t)}function rj(t,e,n){let r=Td[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=Td.Group);const i={},s={};for(var l in e){var u=l.slice(0,2)==="on";u?s[l]=e[l]:i[l]=e[l]}const d=new r(i);return mp(d,s),d}function ij(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function sj(t,e,n){return!1}function aj(t){return t}function oj(){return null}function lj(){return null}function uj(t,e,n,r){return tj}function cj(){}function dj(t){}function hj(t,e){return!1}function fj(){return Cw}function pj(){return Cw}const mj=setTimeout,gj=clearTimeout,yj=-1;function vj(t,e){return!1}const xj=!1,wj=!0,_j=!0;function Sj(t,e){e.parent===t?e.moveToTop():t.add(e),bo(t)}function bj(t,e){e.parent===t?e.moveToTop():t.add(e),bo(t)}function Ew(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),bo(t)}function kj(t,e,n){Ew(t,e,n)}function Cj(t,e){e.destroy(),e.off(qy),bo(t)}function Ej(t,e){e.destroy(),e.off(qy),bo(t)}function Nj(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function Pj(t,e,n){}function Tj(t,e,n,r,i){mp(t,i,r)}function jj(t){t.hide(),bo(t)}function Rj(t){}function Oj(t,e){(e.visible==null||e.visible)&&t.show()}function Aj(t,e){}function Mj(t){}function Dj(){}const Ij=()=>kw.DefaultEventPriority,Lj=Object.freeze(Object.defineProperty({__proto__:null,appendChild:Sj,appendChildToContainer:bj,appendInitialChild:nj,cancelTimeout:gj,clearContainer:Mj,commitMount:Pj,commitTextUpdate:Nj,commitUpdate:Tj,createInstance:rj,createTextInstance:ij,detachDeletedInstance:Dj,finalizeInitialChildren:sj,getChildHostContext:pj,getCurrentEventPriority:Ij,getPublicInstance:aj,getRootHostContext:fj,hideInstance:jj,hideTextInstance:Rj,idlePriority:qc.unstable_IdlePriority,insertBefore:Ew,insertInContainerBefore:kj,isPrimaryRenderer:xj,noTimeout:yj,now:qc.unstable_now,prepareForCommit:oj,preparePortalMount:lj,prepareUpdate:uj,removeChild:Cj,removeChildFromContainer:Ej,resetAfterCommit:cj,resetTextContent:dj,run:qc.unstable_runWithPriority,scheduleTimeout:mj,shouldDeprioritizeSubtree:hj,shouldSetTextContent:vj,supportsMutation:_j,unhideInstance:Oj,unhideTextInstance:Aj,warnsIfNotActing:wj},Symbol.toStringTag,{value:"Module"}));var Fj=Object.defineProperty,zj=Object.defineProperties,Bj=Object.getOwnPropertyDescriptors,j4=Object.getOwnPropertySymbols,Uj=Object.prototype.hasOwnProperty,Gj=Object.prototype.propertyIsEnumerable,R4=(t,e,n)=>e in t?Fj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O4=(t,e)=>{for(var n in e||(e={}))Uj.call(e,n)&&R4(t,n,e[n]);if(j4)for(var n of j4(e))Gj.call(e,n)&&R4(t,n,e[n]);return t},Vj=(t,e)=>zj(t,Bj(e)),A4,M4;typeof window<"u"&&((A4=window.document)!=null&&A4.createElement||((M4=window.navigator)==null?void 0:M4.product)==="ReactNative")?U.useLayoutEffect:U.useEffect;function Nw(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=Nw(r,e,n);if(i)return i;r=e?null:r.sibling}}function Pw(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const D4=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=D4;return}return D4.apply(this,arguments)};const Qy=Pw(U.createContext(null));class Tw extends U.Component{render(){return U.createElement(Qy.Provider,{value:this._reactInternals},this.props.children)}}function Wj(){const t=U.useContext(Qy);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=U.useId();return U.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=Nw(r,!1,s=>{let l=s.memoizedState;for(;l;){if(l.memoizedState===e)return!0;l=l.next}});if(i)return i}},[t,e])}function Hj(){const t=Wj(),[e]=U.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==Qy&&!e.has(i)&&e.set(i,U.useContext(Pw(i)))}n=n.return}return e}function Kj(){const t=Hj();return U.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>U.createElement(e,null,U.createElement(n.Provider,Vj(O4({},r),{value:t.get(n)}))),e=>U.createElement(Tw,O4({},e))),[t])}function $j(t){const e=Se.useRef({});return Se.useLayoutEffect(()=>{e.current=t}),Se.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const qj=t=>{const e=Se.useRef(null),n=Se.useRef(null),r=Se.useRef(null),i=$j(t),s=Kj(),l=u=>{const{forwardedRef:d}=t;d&&(typeof d=="function"?d(u):d.current=u)};return Se.useLayoutEffect(()=>(n.current=new Td.Stage({width:t.width,height:t.height,container:e.current}),l(n.current),r.current=$c.createContainer(n.current,kw.LegacyRoot,!1,null),$c.updateContainer(Se.createElement(s,{},t.children),r.current),()=>{Td.isBrowser&&(l(null),$c.updateContainer(null,r.current,null),n.current.destroy())}),[]),Se.useLayoutEffect(()=>{l(n.current),mp(n.current,t,i),$c.updateContainer(Se.createElement(s,{},t.children),r.current,null)}),Se.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},Hm="Layer",Qj="Group",Yy="Rect",jw="Circle",Yj="Line",Xj="Text",$c=XT(Lj);$c.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Se.version,rendererPackageName:"react-konva"});const Zj=Se.forwardRef((t,e)=>Se.createElement(Tw,{},Se.createElement(qj,{...t,forwardedRef:e})));function Jj({table:t,viewport:e,stageSize:n}){const r={pitch:t.holePitch,origin:t.origin,width:t.width,height:t.height,units:t.units},i=U.useMemo(()=>{const u={x:-e.x/e.scale,y:-e.y/e.scale,width:n.width/e.scale,height:n.height/e.scale};return vC(r,u)},[r,e,n]),s=U.useMemo(()=>yC(r,e.scale),[r,e.scale]),l=U.useMemo(()=>{const u=[],{pitch:d,origin:m,width:w,height:C}=r,S=Math.max(m.x,-e.x/e.scale-d),_=Math.min(m.x+w,(-e.x+n.width)/e.scale+d),k=Math.max(m.y,-e.y/e.scale-d),R=Math.min(m.y+C,(-e.y+n.height)/e.scale+d);for(let O=S;O<=_;O+=d)for(let T=k;T<=R;T+=d)u.push({x:O,y:T});return u},[r,e,n]);return v.jsxs(v.Fragment,{children:[v.jsx(Yy,{x:t.origin.x,y:t.origin.y,width:t.width,height:t.height,stroke:"#6b7280",strokeWidth:2,fill:"transparent",shadowColor:"black",shadowBlur:2,shadowOffset:{x:1,y:1},shadowOpacity:.1}),i.map((u,d)=>v.jsx(Yj,{points:[u.start.x,u.start.y,u.end.x,u.end.y],stroke:"#e5e7eb",strokeWidth:1,dash:[2,2],opacity:.6},`line-${d}`)),l.map((u,d)=>v.jsx(jw,{x:u.x,y:u.y,radius:s/2,fill:"#9ca3af",opacity:.4},`hole-${d}`))]})}const Da=36,eR=8,I4=6;function tR(t){return t.includes("laser")||t.includes("source")}function nR(t){return t.includes("camera")||t.includes("detector")||t.includes("sensor")||t.includes("spectrograph")}function rR(t){return tR(t)?"#ef4444":nR(t)?"#22c55e":"#3b82f6"}const iR=U.memo(({devices:t,onDeviceSelect:e,onDeviceMove:n,tablePitch:r,tableOrigin:i})=>{const s=U.useCallback(u=>{var w;const d=(w=u.target.getStage())==null?void 0:w.getPointerPosition();if(!d)return;const m=Hf(d,{pitch:r,origin:i});u.target.position({x:m.x,y:m.y})},[r,i]),l=U.useCallback((u,d)=>{const{x:m,y:w}=u.target.position();n(d,{x:m,y:w})},[n]);return v.jsx(v.Fragment,{children:t.map(u=>{const d=rR(u.type);return v.jsxs(Qj,{x:u.pose.x,y:u.pose.y,rotation:u.pose.theta??0,offsetX:Da/2,offsetY:Da/2,draggable:!0,onClick:()=>e(u.id),onTap:()=>e(u.id),onDragMove:s,onDragEnd:m=>l(m,u.id),listening:!0,children:[v.jsx(Yy,{width:Da,height:Da,cornerRadius:eR,fill:"#0f172a",stroke:"#94a3b8",strokeWidth:2,shadowBlur:2,shadowColor:"black"}),v.jsx(jw,{x:Da/2+I4/2,y:0,radius:I4/2,fill:d,stroke:"white",strokeWidth:1,listening:!1}),v.jsx(Xj,{text:u.label||u.type,fontSize:12,fill:"#cbd5e1",y:Da/2+2,offsetX:Da/2,width:Da*2,align:"center",listening:!1})]},u.id)})})});function sR({selectionBox:t,isSelecting:e}){return!e||!t?null:v.jsx(Yy,{x:t.x,y:t.y,width:t.width,height:t.height,fill:"rgba(79, 70, 229, 0.1)",stroke:"#4f46e5",strokeWidth:1,dash:[5,5]})}function aR(){const t=U.useRef(null),e=U.useRef(null),[n,r]=U.useState({width:800,height:600}),{currentSnapshot:i,addComponent:s,moveComponent:l}=kl(),{selectedIds:u,setSelection:d,clearSelection:m}=Oy(),{viewport:w,setViewport:C,gridVisible:S,startSelection:_,updateSelection:k,endSelection:R,isSelecting:O,selectionBox:T,toggleSidebarLeft:j,toggleSidebarRight:x}=jy();U.useEffect(()=>{const re=()=>{if(e.current){const oe=e.current.getBoundingClientRect();r({width:oe.width,height:oe.height})}};return re(),window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]),U.useEffect(()=>{const re={[gn.DESELECT]:m,[gn.SELECT_ALL]:()=>{console.log("Select all")},[gn.DUPLICATE]:()=>{console.log("Duplicate")},[gn.DELETE]:()=>{console.log("Delete")},[gn.ROTATE]:()=>{console.log("Rotate")},[gn.ROTATE_REVERSE]:()=>{console.log("Reverse rotate")},[gn.TOGGLE_LEFT_SIDEBAR]:()=>{j()},[gn.TOGGLE_RIGHT_SIDEBAR]:()=>{x()}},oe=nC(re);return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[m,j,x]);const N=re=>{re.target===re.target.getStage()&&m()},D=re=>{if(re.target===re.target.getStage()){const ge=re.target.getPointerPosition();_(ge.x,ge.y)}},M=re=>{if(O){const oe=re.target.getPointerPosition();k(oe.x,oe.y)}},V=re=>{O&&R()},F=re=>{re.evt.preventDefault();const oe=1.1,ge=re.target.getStage(),Oe=ge.scaleX(),ke=ge.getPointerPosition(),Ke={x:(ke.x-ge.x())/Oe,y:(ke.y-ge.y())/Oe},Xe=re.evt.deltaY>0?Oe*oe:Oe/oe,ue=Math.max(.1,Math.min(10,Xe));C({scale:ue,x:ke.x-Ke.x*ue,y:ke.y-Ke.y*ue})},ne=re=>{re.preventDefault();try{const oe=JSON.parse(re.dataTransfer.getData("application/json"));if(oe.type==="device"){const ge=t.current;if(!ge)return;const Oe=ge.getPointerPosition();if(!Oe)return;const ke=Hf(Oe,{pitch:(i==null?void 0:i.table.holePitch)||25,origin:(i==null?void 0:i.table.origin)||{x:0,y:0}});if(i){const Ke={id:crypto.randomUUID(),tableId:i.table.id,type:oe.deviceType,label:oe.deviceType.split(".").pop()||"Device",pose:{x:ke.x,y:ke.y,theta:0},locked:!1,meta:{}};s(Ke)}}}catch(oe){console.error("Failed to parse drop data:",oe)}},W=re=>{re.preventDefault()};return v.jsx("div",{ref:e,className:"w-full h-full bg-gray-100 relative overflow-hidden",onDrop:ne,onDragOver:W,children:v.jsxs(Zj,{ref:t,width:n.width,height:n.height,scaleX:w.scale,scaleY:w.scale,x:w.x,y:w.y,onClick:N,onMouseDown:D,onMouseMove:M,onMouseUp:V,onWheel:F,draggable:!0,onDragEnd:re=>{C({x:re.target.x(),y:re.target.y()})},children:[v.jsx(Hm,{children:S&&v.jsx(Jj,{table:(i==null?void 0:i.table)||{id:"default",name:"Default",createdAt:Date.now(),updatedAt:Date.now(),units:"mm",width:800,height:600,holePitch:25,threadType:"1/4-20",origin:{x:0,y:0},gridEnabled:!0,snapToHoles:!0,version:1},viewport:w,stageSize:n})}),v.jsx(Hm,{children:v.jsx(iR,{devices:(i==null?void 0:i.components)||[],selectedIds:u,onDeviceSelect:re=>d([re]),onDeviceMove:(re,oe)=>l(re,{x:oe.x,y:oe.y,theta:0}),onDeviceRotate:(re,oe)=>{console.log("Rotate device:",re,oe)},tablePitch:(i==null?void 0:i.table.holePitch)||25,tableOrigin:(i==null?void 0:i.table.origin)||{x:0,y:0}})}),v.jsx(Hm,{children:v.jsx(sR,{selectionBox:T,isSelecting:O})})]})})}function oR(){const[t]=D7(),e=t.get("table"),{loadTable:n,currentSnapshot:r,isLoading:i,error:s}=kl();return U.useEffect(()=>{e&&n(e).catch(l=>{console.error("Failed to load table:",l)})},[e,n]),i?v.jsx("div",{className:"h-full w-full flex items-center justify-center",children:v.jsx("p",{className:"text-gray-600",children:"Loading table..."})}):s?v.jsx("div",{className:"h-full w-full flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsxs("p",{className:"text-red-600",children:["Error loading table: ",s]}),v.jsx("button",{onClick:()=>window.history.back(),className:"mt-2 text-blue-600 hover:text-blue-800",children:"Go Back"})]})}):r?v.jsx("div",{className:"h-full w-full",children:v.jsx(aR,{})}):v.jsx("div",{className:"h-full w-full flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-gray-600",children:"No table loaded"}),v.jsx("button",{onClick:()=>window.history.back(),className:"mt-2 text-blue-600 hover:text-blue-800",children:"Go Back"})]})})}function lR(){return v.jsx("div",{className:"h-full p-6",children:v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Extensions"}),v.jsx("p",{className:"text-gray-600",children:"Install and manage device drivers and analysis tools"})]}),v.jsx(B6,{})]})})}function uR(){return v.jsx("div",{className:"h-full p-6",children:v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Workflows"}),v.jsx("p",{className:"text-gray-600",children:"Create and manage automated workflows"})]}),v.jsx(U6,{})]})})}function cR(){return v.jsx("div",{className:"h-full p-6",children:v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),v.jsx("p",{className:"text-gray-600",children:"Configure application preferences"})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"card",children:[v.jsx("div",{className:"card-header",children:v.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"General"})}),v.jsx("div",{className:"card-body",children:v.jsx("p",{className:"text-gray-500",children:"General settings coming soon..."})})]}),v.jsxs("div",{className:"card",children:[v.jsx("div",{className:"card-header",children:v.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Canvas"})}),v.jsx("div",{className:"card-body",children:v.jsx("p",{className:"text-gray-500",children:"Canvas settings coming soon..."})})]}),v.jsxs("div",{className:"card",children:[v.jsx("div",{className:"card-header",children:v.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Devices"})}),v.jsx("div",{className:"card-body",children:v.jsx("p",{className:"text-gray-500",children:"Device settings coming soon..."})})]})]})]})})}function dR(){return v.jsx("div",{className:"h-full p-6",children:v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"About LightWork"}),v.jsx("p",{className:"text-gray-600",children:"Optics bench lab application"})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsx("div",{className:"card",children:v.jsx("div",{className:"card-body",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-brand-100 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx("span",{className:"text-2xl",children:""})}),v.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"LightWork"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"Version 0.1.0"}),v.jsx("p",{className:"text-gray-500",children:"A production-quality frontend for optics bench lab applications. Configure devices, manage workflows, and orchestrate experiments with an intuitive Tinkercad-style interface."})]})})}),v.jsxs("div",{className:"card",children:[v.jsx("div",{className:"card-header",children:v.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Features"})}),v.jsx("div",{className:"card-body",children:v.jsxs("ul",{className:"space-y-2 text-gray-600",children:[v.jsx("li",{children:" 2D top-view editor with drag-and-drop device placement"}),v.jsx("li",{children:" Newport-style hole grid with snap-to-grid functionality"}),v.jsx("li",{children:" Device status monitoring and live telemetry"}),v.jsx("li",{children:" Workflow automation and scripting"}),v.jsx("li",{children:" Extension marketplace for device drivers"}),v.jsx("li",{children:" Real-time collaboration and project sharing"})]})})]}),v.jsxs("div",{className:"card",children:[v.jsx("div",{className:"card-header",children:v.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Technology"})}),v.jsx("div",{className:"card-body",children:v.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Frontend"}),v.jsxs("ul",{className:"space-y-1 text-gray-600",children:[v.jsx("li",{children:"React 18 + TypeScript"}),v.jsx("li",{children:"Vite + Tailwind CSS"}),v.jsx("li",{children:"React-Konva (2D Canvas)"}),v.jsx("li",{children:"Zustand (State Management)"}),v.jsx("li",{children:"React Query (Data Fetching)"})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Backend"}),v.jsxs("ul",{className:"space-y-1 text-gray-600",children:[v.jsx("li",{children:"REST API + WebSocket"}),v.jsx("li",{children:"Device Driver Extensions"}),v.jsx("li",{children:"Workflow Engine"}),v.jsx("li",{children:"Real-time Telemetry"}),v.jsx("li",{children:"Project Persistence"})]})]})]})})]}),v.jsxs("div",{className:"card",children:[v.jsx("div",{className:"card-header",children:v.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Open Source"})}),v.jsxs("div",{className:"card-body",children:[v.jsx("p",{className:"text-gray-600 mb-4",children:"LightWork is built with open source technologies and follows modern web development best practices."}),v.jsx("div",{className:"text-sm text-gray-500",children:v.jsx("p",{children:"Built with  for the scientific community"})})]})]})]})]})})}var hR=typeof global=="object"&&global&&global.Object===Object&&global;const fR=hR;var pR=typeof self=="object"&&self&&self.Object===Object&&self,mR=fR||pR||Function("return this")();const Rw=mR;var gR=Rw.Symbol;const Xf=gR;var Ow=Object.prototype,yR=Ow.hasOwnProperty,vR=Ow.toString,Uc=Xf?Xf.toStringTag:void 0;function xR(t){var e=yR.call(t,Uc),n=t[Uc];try{t[Uc]=void 0;var r=!0}catch{}var i=vR.call(t);return r&&(e?t[Uc]=n:delete t[Uc]),i}var wR=Object.prototype,_R=wR.toString;function SR(t){return _R.call(t)}var bR="[object Null]",kR="[object Undefined]",L4=Xf?Xf.toStringTag:void 0;function CR(t){return t==null?t===void 0?kR:bR:L4&&L4 in Object(t)?xR(t):SR(t)}function ER(t){return t!=null&&typeof t=="object"}var NR="[object Symbol]";function PR(t){return typeof t=="symbol"||ER(t)&&CR(t)==NR}var TR=/\s/;function jR(t){for(var e=t.length;e--&&TR.test(t.charAt(e)););return e}var RR=/^\s+/;function OR(t){return t&&t.slice(0,jR(t)+1).replace(RR,"")}function P1(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var F4=0/0,AR=/^[-+]0x[0-9a-f]+$/i,MR=/^0b[01]+$/i,DR=/^0o[0-7]+$/i,IR=parseInt;function z4(t){if(typeof t=="number")return t;if(PR(t))return F4;if(P1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=P1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=OR(t);var n=MR.test(t);return n||DR.test(t)?IR(t.slice(2),n?2:8):AR.test(t)?F4:+t}var LR=function(){return Rw.Date.now()};const Km=LR;var FR="Expected a function",zR=Math.max,BR=Math.min;function UR(t,e,n){var r,i,s,l,u,d,m=0,w=!1,C=!1,S=!0;if(typeof t!="function")throw new TypeError(FR);e=z4(e)||0,P1(n)&&(w=!!n.leading,C="maxWait"in n,s=C?zR(z4(n.maxWait)||0,e):s,S="trailing"in n?!!n.trailing:S);function _(M){var V=r,F=i;return r=i=void 0,m=M,l=t.apply(F,V),l}function k(M){return m=M,u=setTimeout(T,e),w?_(M):l}function R(M){var V=M-d,F=M-m,ne=e-V;return C?BR(ne,s-F):ne}function O(M){var V=M-d,F=M-m;return d===void 0||V>=e||V<0||C&&F>=s}function T(){var M=Km();if(O(M))return j(M);u=setTimeout(T,R(M))}function j(M){return u=void 0,S&&r?_(M):(r=i=void 0,l)}function x(){u!==void 0&&clearTimeout(u),m=0,r=d=i=u=void 0}function N(){return u===void 0?l:j(Km())}function D(){var M=Km(),V=O(M);if(r=arguments,i=this,d=M,V){if(u===void 0)return k(d);if(C)return clearTimeout(u),u=setTimeout(T,e),_(d)}return u===void 0&&(u=setTimeout(T,e)),l}return D.cancel=x,D.flush=N,D}const B4=UR(async()=>{const{saveCurrentTable:t,isDirty:e,currentSnapshot:n}=kl.getState();if(e&&n)try{await t(),console.log("Auto-saved successfully")}catch(r){console.error("Auto-save failed:",r)}},2e3);let U4=!1;function GR(){const t=kl.subscribe(n=>{U4=n.isDirty,n.isDirty&&B4()}),e=n=>{if(U4)return n.preventDefault(),n.returnValue="You have unsaved changes. Are you sure you want to leave?",n.returnValue};return window.addEventListener("beforeunload",e),()=>{t(),window.removeEventListener("beforeunload",e),B4.cancel()}}async function VR(){try{console.log(" Testing storage system..."),await F6(),console.log(" Database ready"),await Jk(),console.log(" Cleared existing data"),await cf(Am),console.log(" Saved sample table snapshot");const t=await y1(Am.table.id);return console.log(" Loaded table snapshot:",t.table.name),t.components.length===Am.components.length?console.log(" Component count matches"):console.error(" Component count mismatch"),console.log(" Storage system test completed successfully!"),!0}catch(t){return console.error(" Storage system test failed:",t),!1}}typeof window<"u"&&setTimeout(()=>{VR()},100);function WR(){const{refreshTableList:t,refreshStats:e}=kl();return U.useEffect(()=>{const n=GR();return(async()=>{try{await F6(),await t(),await e()}catch(i){console.warn("Storage initialization warning:",i)}})(),n},[t,e]),v.jsx("div",{className:"h-screen flex flex-col bg-white",children:v.jsxs(j7,{children:[v.jsx(Gs,{path:"/",element:v.jsx(IC,{})}),v.jsx(Gs,{path:"/explore",element:v.jsx(KC,{})}),v.jsxs(Gs,{path:"/editor",element:v.jsx(bC,{}),children:[v.jsx(Gs,{index:!0,element:v.jsx(oR,{})}),v.jsx(Gs,{path:"extensions",element:v.jsx(lR,{})}),v.jsx(Gs,{path:"workflows",element:v.jsx(uR,{})}),v.jsx(Gs,{path:"settings",element:v.jsx(cR,{})}),v.jsx(Gs,{path:"about",element:v.jsx(dR,{})})]})]})})}const HR=new oS({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1},mutations:{retry:1}}});$m.createRoot(document.getElementById("root")).render(v.jsx(Se.StrictMode,{children:v.jsxs(uS,{client:HR,children:[v.jsxs(M7,{children:[v.jsx(WR,{}),v.jsx(LS,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#374151",border:"1px solid #e5e7eb"}}})]}),v.jsx(cS,{initialIsOpen:!1})]})}));
