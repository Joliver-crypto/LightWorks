var j0=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var H=(t,e,n)=>(j0(t,e,"read from private field"),n?n.call(t):e.get(t)),ze=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Ce=(t,e,n,r)=>(j0(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var kc=(t,e,n,r)=>({set _(i){Ce(t,e,i,n)},get _(){return H(t,e,r)}}),Jt=(t,e,n)=>(j0(t,e,"access private method"),n);function k9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G5={exports:{}},qd={},B5={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fu=Symbol.for("react.element"),E9=Symbol.for("react.portal"),N9=Symbol.for("react.fragment"),b9=Symbol.for("react.strict_mode"),P9=Symbol.for("react.profiler"),T9=Symbol.for("react.provider"),R9=Symbol.for("react.context"),j9=Symbol.for("react.forward_ref"),M9=Symbol.for("react.suspense"),O9=Symbol.for("react.memo"),A9=Symbol.for("react.lazy"),ny=Symbol.iterator;function L9(t){return t===null||typeof t!="object"?null:(t=ny&&t[ny]||t["@@iterator"],typeof t=="function"?t:null)}var V5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W5=Object.assign,H5={};function Fo(t,e,n){this.props=t,this.context=e,this.refs=H5,this.updater=n||V5}Fo.prototype.isReactComponent={};Fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $5(){}$5.prototype=Fo.prototype;function Z1(t,e,n){this.props=t,this.context=e,this.refs=H5,this.updater=n||V5}var J1=Z1.prototype=new $5;J1.constructor=Z1;W5(J1,Fo.prototype);J1.isPureReactComponent=!0;var ry=Array.isArray,K5=Object.prototype.hasOwnProperty,eg={current:null},Q5={key:!0,ref:!0,__self:!0,__source:!0};function Y5(t,e,n){var r,i={},a=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(a=""+e.key),e)K5.call(e,r)&&!Q5.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var d=Array(u),f=0;f<u;f++)d[f]=arguments[f+2];i.children=d}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:fu,type:t,key:a,ref:l,props:i,_owner:eg.current}}function F9(t,e){return{$$typeof:fu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tg(t){return typeof t=="object"&&t!==null&&t.$$typeof===fu}function D9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iy=/\/+/g;function M0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?D9(""+t.key):e.toString(36)}function Zc(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case fu:case E9:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+M0(l,0):r,ry(i)?(n="",t!=null&&(n=t.replace(iy,"$&/")+"/"),Zc(i,e,n,"",function(f){return f})):i!=null&&(tg(i)&&(i=F9(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(iy,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",ry(t))for(var u=0;u<t.length;u++){a=t[u];var d=r+M0(a,u);l+=Zc(a,e,n,d,i)}else if(d=L9(t),typeof d=="function")for(t=d.call(t),u=0;!(a=t.next()).done;)a=a.value,d=r+M0(a,u++),l+=Zc(a,e,n,d,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Ec(t,e,n){if(t==null)return t;var r=[],i=0;return Zc(t,r,"","",function(a){return e.call(n,a,i++)}),r}function I9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},Jc={transition:null},z9={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:Jc,ReactCurrentOwner:eg};function X5(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:Ec,forEach:function(t,e,n){Ec(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ec(t,function(){e++}),e},toArray:function(t){return Ec(t,function(e){return e})||[]},only:function(t){if(!tg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Fo;Me.Fragment=N9;Me.Profiler=P9;Me.PureComponent=Z1;Me.StrictMode=b9;Me.Suspense=M9;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z9;Me.act=X5;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=W5({},t.props),i=t.key,a=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,l=eg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(d in e)K5.call(e,d)&&!Q5.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&u!==void 0?u[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var f=0;f<d;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:fu,type:t.type,key:i,ref:a,props:r,_owner:l}};Me.createContext=function(t){return t={$$typeof:R9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:T9,_context:t},t.Consumer=t};Me.createElement=Y5;Me.createFactory=function(t){var e=Y5.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:j9,render:t}};Me.isValidElement=tg;Me.lazy=function(t){return{$$typeof:A9,_payload:{_status:-1,_result:t},_init:I9}};Me.memo=function(t,e){return{$$typeof:O9,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=Jc.transition;Jc.transition={};try{t()}finally{Jc.transition=e}};Me.unstable_act=X5;Me.useCallback=function(t,e){return hn.current.useCallback(t,e)};Me.useContext=function(t){return hn.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};Me.useEffect=function(t,e){return hn.current.useEffect(t,e)};Me.useId=function(){return hn.current.useId()};Me.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return hn.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};Me.useRef=function(t){return hn.current.useRef(t)};Me.useState=function(t){return hn.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return hn.current.useTransition()};Me.version="18.3.1";B5.exports=Me;var M=B5.exports;const q=hu(M),U9=k9({__proto__:null,default:q},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G9=M,B9=Symbol.for("react.element"),V9=Symbol.for("react.fragment"),W9=Object.prototype.hasOwnProperty,H9=G9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$9={key:!0,ref:!0,__self:!0,__source:!0};function q5(t,e,n){var r,i={},a=null,l=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)W9.call(e,r)&&!$9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:B9,type:t,key:a,ref:l,props:i,_owner:H9.current}}qd.Fragment=V9;qd.jsx=q5;qd.jsxs=q5;G5.exports=qd;var _=G5.exports,xp={},Z5={exports:{}},zn={},J5={exports:{}},e4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,$){var X=W.length;W.push($);e:for(;0<X;){var ce=X-1>>>1,Q=W[ce];if(0<i(Q,$))W[ce]=$,W[X]=Q,X=ce;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var $=W[0],X=W.pop();if(X!==$){W[0]=X;e:for(var ce=0,Q=W.length,fe=Q>>>1;ce<fe;){var Se=2*(ce+1)-1,Ae=W[Se],Ge=Se+1,A=W[Ge];if(0>i(Ae,X))Ge<Q&&0>i(A,Ae)?(W[ce]=A,W[Ge]=X,ce=Ge):(W[ce]=Ae,W[Se]=X,ce=Se);else if(Ge<Q&&0>i(A,X))W[ce]=A,W[Ge]=X,ce=Ge;else break e}}return $}function i(W,$){var X=W.sortIndex-$.sortIndex;return X!==0?X:W.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,S=null,v=3,y=!1,w=!1,N=!1,b=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(W){for(var $=n(f);$!==null;){if($.callback===null)r(f);else if($.startTime<=W)r(f),$.sortIndex=$.expirationTime,e(d,$);else break;$=n(f)}}function C(W){if(N=!1,g(W),!w)if(n(d)!==null)w=!0,ge(T);else{var $=n(f);$!==null&&me(C,$.startTime-W)}}function T(W,$){w=!1,N&&(N=!1,k(j),j=-1),y=!0;var X=v;try{for(g($),S=n(d);S!==null&&(!(S.expirationTime>$)||W&&!B());){var ce=S.callback;if(typeof ce=="function"){S.callback=null,v=S.priorityLevel;var Q=ce(S.expirationTime<=$);$=t.unstable_now(),typeof Q=="function"?S.callback=Q:S===n(d)&&r(d),g($)}else r(d);S=n(d)}if(S!==null)var fe=!0;else{var Se=n(f);Se!==null&&me(C,Se.startTime-$),fe=!1}return fe}finally{S=null,v=X,y=!1}}var R=!1,L=null,j=-1,I=5,O=-1;function B(){return!(t.unstable_now()-O<I)}function z(){if(L!==null){var W=t.unstable_now();O=W;var $=!0;try{$=L(!0,W)}finally{$?K():(R=!1,L=null)}}else R=!1}var K;if(typeof E=="function")K=function(){E(z)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,te=ne.port2;ne.port1.onmessage=z,K=function(){te.postMessage(null)}}else K=function(){b(z,0)};function ge(W){L=W,R||(R=!0,K())}function me(W,$){j=b(function(){W(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,ge(T))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var $=3;break;default:$=v}var X=v;v=$;try{return W()}finally{v=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,$){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var X=v;v=W;try{return $()}finally{v=X}},t.unstable_scheduleCallback=function(W,$,X){var ce=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ce+X:ce):X=ce,W){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=X+Q,W={id:m++,callback:$,priorityLevel:W,startTime:X,expirationTime:Q,sortIndex:-1},X>ce?(W.sortIndex=X,e(f,W),n(d)===null&&W===n(f)&&(N?(k(j),j=-1):N=!0,me(C,X-ce))):(W.sortIndex=Q,e(d,W),w||y||(w=!0,ge(T))),W},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(W){var $=v;return function(){var X=v;v=$;try{return W.apply(this,arguments)}finally{v=X}}}})(e4);J5.exports=e4;var Rl=J5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K9=M,In=Rl;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t4=new Set,Ul={};function ha(t,e){xo(t,e),xo(t+"Capture",e)}function xo(t,e){for(Ul[t]=e,t=0;t<e.length;t++)t4.add(e[t])}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_p=Object.prototype.hasOwnProperty,Q9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sy={},ay={};function Y9(t){return _p.call(ay,t)?!0:_p.call(sy,t)?!1:Q9.test(t)?ay[t]=!0:(sy[t]=!0,!1)}function X9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function q9(t,e,n,r){if(e===null||typeof e>"u"||X9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fn(t,e,n,r,i,a,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=l}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ng=/[\-:]([a-z])/g;function rg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ng,rg);Kt[e]=new fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ng,rg);Kt[e]=new fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ng,rg);Kt[e]=new fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new fn(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ig(t,e,n,r){var i=Kt.hasOwnProperty(e)?Kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(q9(e,n,i,r)&&(n=null),r||i===null?Y9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ci=K9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nc=Symbol.for("react.element"),Wa=Symbol.for("react.portal"),Ha=Symbol.for("react.fragment"),sg=Symbol.for("react.strict_mode"),wp=Symbol.for("react.profiler"),n4=Symbol.for("react.provider"),r4=Symbol.for("react.context"),ag=Symbol.for("react.forward_ref"),Sp=Symbol.for("react.suspense"),Cp=Symbol.for("react.suspense_list"),og=Symbol.for("react.memo"),Ki=Symbol.for("react.lazy"),i4=Symbol.for("react.offscreen"),oy=Symbol.iterator;function fl(t){return t===null||typeof t!="object"?null:(t=oy&&t[oy]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,O0;function kl(t){if(O0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);O0=e&&e[1]||""}return`
`+O0+t}var A0=!1;function L0(t,e){if(!t||A0)return"";A0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),a=r.stack.split(`
`),l=i.length-1,u=a.length-1;1<=l&&0<=u&&i[l]!==a[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==a[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==a[u]){var d=`
`+i[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=u);break}}}finally{A0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kl(t):""}function Z9(t){switch(t.tag){case 5:return kl(t.type);case 16:return kl("Lazy");case 13:return kl("Suspense");case 19:return kl("SuspenseList");case 0:case 2:case 15:return t=L0(t.type,!1),t;case 11:return t=L0(t.type.render,!1),t;case 1:return t=L0(t.type,!0),t;default:return""}}function kp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ha:return"Fragment";case Wa:return"Portal";case wp:return"Profiler";case sg:return"StrictMode";case Sp:return"Suspense";case Cp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case r4:return(t.displayName||"Context")+".Consumer";case n4:return(t._context.displayName||"Context")+".Provider";case ag:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case og:return e=t.displayName||null,e!==null?e:kp(t.type)||"Memo";case Ki:e=t._payload,t=t._init;try{return kp(t(e))}catch{}}return null}function J9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kp(e);case 8:return e===sg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function s4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ex(t){var e=s4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bc(t){t._valueTracker||(t._valueTracker=ex(t))}function a4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=s4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ep(t,e){var n=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ly(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ys(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function o4(t,e){e=e.checked,e!=null&&ig(t,"checked",e,!1)}function Np(t,e){o4(t,e);var n=ys(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bp(t,e.type,n):e.hasOwnProperty("defaultValue")&&bp(t,e.type,ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bp(t,e,n){(e!=="number"||hd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var El=Array.isArray;function no(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ys(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Pp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(El(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ys(n)}}function l4(t,e){var n=ys(e.value),r=ys(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function u4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?u4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pc,c4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pc=Pc||document.createElement("div"),Pc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tx=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(t){tx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),jl[e]=jl[t]})});function d4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||jl.hasOwnProperty(t)&&jl[t]?(""+e).trim():e+"px"}function h4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=d4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nx=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rp(t,e){if(e){if(nx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function jp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mp=null;function lg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Op=null,ro=null,io=null;function hy(t){if(t=mu(t)){if(typeof Op!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=nh(e),Op(t.stateNode,t.type,e))}}function f4(t){ro?io?io.push(t):io=[t]:ro=t}function p4(){if(ro){var t=ro,e=io;if(io=ro=null,hy(t),e)for(t=0;t<e.length;t++)hy(e[t])}}function g4(t,e){return t(e)}function m4(){}var F0=!1;function y4(t,e,n){if(F0)return t(e,n);F0=!0;try{return g4(t,e,n)}finally{F0=!1,(ro!==null||io!==null)&&(m4(),p4())}}function Bl(t,e){var n=t.stateNode;if(n===null)return null;var r=nh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var Ap=!1;if(vi)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){Ap=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{Ap=!1}function rx(t,e,n,r,i,a,l,u,d){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var Ml=!1,fd=null,pd=!1,Lp=null,ix={onError:function(t){Ml=!0,fd=t}};function sx(t,e,n,r,i,a,l,u,d){Ml=!1,fd=null,rx.apply(ix,arguments)}function ax(t,e,n,r,i,a,l,u,d){if(sx.apply(this,arguments),Ml){if(Ml){var f=fd;Ml=!1,fd=null}else throw Error(Z(198));pd||(pd=!0,Lp=f)}}function fa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function v4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fy(t){if(fa(t)!==t)throw Error(Z(188))}function ox(t){var e=t.alternate;if(!e){if(e=fa(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return fy(i),t;if(a===r)return fy(i),e;a=a.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,r=a;break}if(u===r){l=!0,r=i,n=a;break}u=u.sibling}if(!l){for(u=a.child;u;){if(u===n){l=!0,n=a,r=i;break}if(u===r){l=!0,r=a,n=i;break}u=u.sibling}if(!l)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function x4(t){return t=ox(t),t!==null?_4(t):null}function _4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_4(t);if(e!==null)return e;t=t.sibling}return null}var w4=In.unstable_scheduleCallback,py=In.unstable_cancelCallback,lx=In.unstable_shouldYield,ux=In.unstable_requestPaint,Et=In.unstable_now,cx=In.unstable_getCurrentPriorityLevel,ug=In.unstable_ImmediatePriority,S4=In.unstable_UserBlockingPriority,gd=In.unstable_NormalPriority,dx=In.unstable_LowPriority,C4=In.unstable_IdlePriority,Zd=null,Kr=null;function hx(t){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(Zd,t,void 0,(t.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:gx,fx=Math.log,px=Math.LN2;function gx(t){return t>>>=0,t===0?32:31-(fx(t)/px|0)|0}var Tc=64,Rc=4194304;function Nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function md(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~i;u!==0?r=Nl(u):(a&=l,a!==0&&(r=Nl(a)))}else l=n&~i,l!==0?r=Nl(l):a!==0&&(r=Nl(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Er(e),i=1<<n,r|=t[n],e&=~i;return r}function mx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-Er(a),u=1<<l,d=i[l];d===-1?(!(u&n)||u&r)&&(i[l]=mx(u,e)):d<=e&&(t.expiredLanes|=u),a&=~u}}function Fp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function k4(){var t=Tc;return Tc<<=1,!(Tc&4194240)&&(Tc=64),t}function D0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Er(e),t[e]=n}function vx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Er(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function cg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Er(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Xe=0;function E4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var N4,dg,b4,P4,T4,Dp=!1,jc=[],ls=null,us=null,cs=null,Vl=new Map,Wl=new Map,Xi=[],xx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gy(t,e){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(e.pointerId)}}function gl(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=mu(e),e!==null&&dg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _x(t,e,n,r,i){switch(e){case"focusin":return ls=gl(ls,t,e,n,r,i),!0;case"dragenter":return us=gl(us,t,e,n,r,i),!0;case"mouseover":return cs=gl(cs,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Vl.set(a,gl(Vl.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Wl.set(a,gl(Wl.get(a)||null,t,e,n,r,i)),!0}return!1}function R4(t){var e=Ys(t.target);if(e!==null){var n=fa(e);if(n!==null){if(e=n.tag,e===13){if(e=v4(n),e!==null){t.blockedOn=e,T4(t.priority,function(){b4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ed(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ip(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mp=r,n.target.dispatchEvent(r),Mp=null}else return e=mu(n),e!==null&&dg(e),t.blockedOn=n,!1;e.shift()}return!0}function my(t,e,n){ed(t)&&n.delete(e)}function wx(){Dp=!1,ls!==null&&ed(ls)&&(ls=null),us!==null&&ed(us)&&(us=null),cs!==null&&ed(cs)&&(cs=null),Vl.forEach(my),Wl.forEach(my)}function ml(t,e){t.blockedOn===e&&(t.blockedOn=null,Dp||(Dp=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,wx)))}function Hl(t){function e(i){return ml(i,t)}if(0<jc.length){ml(jc[0],t);for(var n=1;n<jc.length;n++){var r=jc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ls!==null&&ml(ls,t),us!==null&&ml(us,t),cs!==null&&ml(cs,t),Vl.forEach(e),Wl.forEach(e),n=0;n<Xi.length;n++)r=Xi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xi.length&&(n=Xi[0],n.blockedOn===null);)R4(n),n.blockedOn===null&&Xi.shift()}var so=Ci.ReactCurrentBatchConfig,yd=!0;function Sx(t,e,n,r){var i=Xe,a=so.transition;so.transition=null;try{Xe=1,hg(t,e,n,r)}finally{Xe=i,so.transition=a}}function Cx(t,e,n,r){var i=Xe,a=so.transition;so.transition=null;try{Xe=4,hg(t,e,n,r)}finally{Xe=i,so.transition=a}}function hg(t,e,n,r){if(yd){var i=Ip(t,e,n,r);if(i===null)K0(t,e,r,vd,n),gy(t,r);else if(_x(i,t,e,n,r))r.stopPropagation();else if(gy(t,r),e&4&&-1<xx.indexOf(t)){for(;i!==null;){var a=mu(i);if(a!==null&&N4(a),a=Ip(t,e,n,r),a===null&&K0(t,e,r,vd,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else K0(t,e,r,null,n)}}var vd=null;function Ip(t,e,n,r){if(vd=null,t=lg(r),t=Ys(t),t!==null)if(e=fa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=v4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vd=t,null}function j4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cx()){case ug:return 1;case S4:return 4;case gd:case dx:return 16;case C4:return 536870912;default:return 16}default:return 16}}var ss=null,fg=null,td=null;function M4(){if(td)return td;var t,e=fg,n=e.length,r,i="value"in ss?ss.value:ss.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[a-r];r++);return td=i.slice(t,1<r?1-r:void 0)}function nd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Mc(){return!0}function yy(){return!1}function Un(t){function e(n,r,i,a,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Mc:yy,this.isPropagationStopped=yy,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Mc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Mc)},persist:function(){},isPersistent:Mc}),e}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pg=Un(Do),gu=mt({},Do,{view:0,detail:0}),kx=Un(gu),I0,z0,yl,Jd=mt({},gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yl&&(yl&&t.type==="mousemove"?(I0=t.screenX-yl.screenX,z0=t.screenY-yl.screenY):z0=I0=0,yl=t),I0)},movementY:function(t){return"movementY"in t?t.movementY:z0}}),vy=Un(Jd),Ex=mt({},Jd,{dataTransfer:0}),Nx=Un(Ex),bx=mt({},gu,{relatedTarget:0}),U0=Un(bx),Px=mt({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),Tx=Un(Px),Rx=mt({},Do,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jx=Un(Rx),Mx=mt({},Do,{data:0}),xy=Un(Mx),Ox={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ax={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lx[t])?!!e[t]:!1}function gg(){return Fx}var Dx=mt({},gu,{key:function(t){if(t.key){var e=Ox[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=nd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ax[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gg,charCode:function(t){return t.type==="keypress"?nd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?nd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ix=Un(Dx),zx=mt({},Jd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_y=Un(zx),Ux=mt({},gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gg}),Gx=Un(Ux),Bx=mt({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vx=Un(Bx),Wx=mt({},Jd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hx=Un(Wx),$x=[9,13,27,32],mg=vi&&"CompositionEvent"in window,Ol=null;vi&&"documentMode"in document&&(Ol=document.documentMode);var Kx=vi&&"TextEvent"in window&&!Ol,O4=vi&&(!mg||Ol&&8<Ol&&11>=Ol),wy=String.fromCharCode(32),Sy=!1;function A4(t,e){switch(t){case"keyup":return $x.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function Qx(t,e){switch(t){case"compositionend":return L4(e);case"keypress":return e.which!==32?null:(Sy=!0,wy);case"textInput":return t=e.data,t===wy&&Sy?null:t;default:return null}}function Yx(t,e){if($a)return t==="compositionend"||!mg&&A4(t,e)?(t=M4(),td=fg=ss=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O4&&e.locale!=="ko"?null:e.data;default:return null}}var Xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xx[t.type]:e==="textarea"}function F4(t,e,n,r){f4(r),e=xd(e,"onChange"),0<e.length&&(n=new pg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Al=null,$l=null;function qx(t){K4(t,0)}function eh(t){var e=Ya(t);if(a4(e))return t}function Zx(t,e){if(t==="change")return e}var D4=!1;if(vi){var G0;if(vi){var B0="oninput"in document;if(!B0){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),B0=typeof ky.oninput=="function"}G0=B0}else G0=!1;D4=G0&&(!document.documentMode||9<document.documentMode)}function Ey(){Al&&(Al.detachEvent("onpropertychange",I4),$l=Al=null)}function I4(t){if(t.propertyName==="value"&&eh($l)){var e=[];F4(e,$l,t,lg(t)),y4(qx,e)}}function Jx(t,e,n){t==="focusin"?(Ey(),Al=e,$l=n,Al.attachEvent("onpropertychange",I4)):t==="focusout"&&Ey()}function e7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eh($l)}function t7(t,e){if(t==="click")return eh(e)}function n7(t,e){if(t==="input"||t==="change")return eh(e)}function r7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pr=typeof Object.is=="function"?Object.is:r7;function Kl(t,e){if(Pr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_p.call(e,i)||!Pr(t[i],e[i]))return!1}return!0}function Ny(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function by(t,e){var n=Ny(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ny(n)}}function z4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?z4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function U4(){for(var t=window,e=hd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hd(t.document)}return e}function yg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function i7(t){var e=U4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&z4(n.ownerDocument.documentElement,n)){if(r!==null&&yg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=by(n,a);var l=by(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var s7=vi&&"documentMode"in document&&11>=document.documentMode,Ka=null,zp=null,Ll=null,Up=!1;function Py(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Up||Ka==null||Ka!==hd(r)||(r=Ka,"selectionStart"in r&&yg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ll&&Kl(Ll,r)||(Ll=r,r=xd(zp,"onSelect"),0<r.length&&(e=new pg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ka)))}function Oc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qa={animationend:Oc("Animation","AnimationEnd"),animationiteration:Oc("Animation","AnimationIteration"),animationstart:Oc("Animation","AnimationStart"),transitionend:Oc("Transition","TransitionEnd")},V0={},G4={};vi&&(G4=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function th(t){if(V0[t])return V0[t];if(!Qa[t])return t;var e=Qa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in G4)return V0[t]=e[n];return t}var B4=th("animationend"),V4=th("animationiteration"),W4=th("animationstart"),H4=th("transitionend"),$4=new Map,Ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(t,e){$4.set(t,e),ha(e,[t])}for(var W0=0;W0<Ty.length;W0++){var H0=Ty[W0],a7=H0.toLowerCase(),o7=H0[0].toUpperCase()+H0.slice(1);Ss(a7,"on"+o7)}Ss(B4,"onAnimationEnd");Ss(V4,"onAnimationIteration");Ss(W4,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(H4,"onTransitionEnd");xo("onMouseEnter",["mouseout","mouseover"]);xo("onMouseLeave",["mouseout","mouseover"]);xo("onPointerEnter",["pointerout","pointerover"]);xo("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l7=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function Ry(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ax(r,e,void 0,t),t.currentTarget=null}function K4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var l=r.length-1;0<=l;l--){var u=r[l],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==a&&i.isPropagationStopped())break e;Ry(i,u,f),a=d}else for(l=0;l<r.length;l++){if(u=r[l],d=u.instance,f=u.currentTarget,u=u.listener,d!==a&&i.isPropagationStopped())break e;Ry(i,u,f),a=d}}}if(pd)throw t=Lp,pd=!1,Lp=null,t}function at(t,e){var n=e[Hp];n===void 0&&(n=e[Hp]=new Set);var r=t+"__bubble";n.has(r)||(Q4(e,t,2,!1),n.add(r))}function $0(t,e,n){var r=0;e&&(r|=4),Q4(n,t,r,e)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Ql(t){if(!t[Ac]){t[Ac]=!0,t4.forEach(function(n){n!=="selectionchange"&&(l7.has(n)||$0(n,!1,t),$0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ac]||(e[Ac]=!0,$0("selectionchange",!1,e))}}function Q4(t,e,n,r){switch(j4(e)){case 1:var i=Sx;break;case 4:i=Cx;break;default:i=hg}n=i.bind(null,e,n,t),i=void 0,!Ap||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function K0(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;l=l.return}for(;u!==null;){if(l=Ys(u),l===null)return;if(d=l.tag,d===5||d===6){r=a=l;continue e}u=u.parentNode}}r=r.return}y4(function(){var f=a,m=lg(n),S=[];e:{var v=$4.get(t);if(v!==void 0){var y=pg,w=t;switch(t){case"keypress":if(nd(n)===0)break e;case"keydown":case"keyup":y=Ix;break;case"focusin":w="focus",y=U0;break;case"focusout":w="blur",y=U0;break;case"beforeblur":case"afterblur":y=U0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Nx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Gx;break;case B4:case V4:case W4:y=Tx;break;case H4:y=Vx;break;case"scroll":y=kx;break;case"wheel":y=Hx;break;case"copy":case"cut":case"paste":y=jx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=_y}var N=(e&4)!==0,b=!N&&t==="scroll",k=N?v!==null?v+"Capture":null:v;N=[];for(var E=f,g;E!==null;){g=E;var C=g.stateNode;if(g.tag===5&&C!==null&&(g=C,k!==null&&(C=Bl(E,k),C!=null&&N.push(Yl(E,C,g)))),b)break;E=E.return}0<N.length&&(v=new y(v,w,null,n,m),S.push({event:v,listeners:N}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",v&&n!==Mp&&(w=n.relatedTarget||n.fromElement)&&(Ys(w)||w[xi]))break e;if((y||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=f,w=w?Ys(w):null,w!==null&&(b=fa(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=f),y!==w)){if(N=vy,C="onMouseLeave",k="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(N=_y,C="onPointerLeave",k="onPointerEnter",E="pointer"),b=y==null?v:Ya(y),g=w==null?v:Ya(w),v=new N(C,E+"leave",y,n,m),v.target=b,v.relatedTarget=g,C=null,Ys(m)===f&&(N=new N(k,E+"enter",w,n,m),N.target=g,N.relatedTarget=b,C=N),b=C,y&&w)t:{for(N=y,k=w,E=0,g=N;g;g=Ia(g))E++;for(g=0,C=k;C;C=Ia(C))g++;for(;0<E-g;)N=Ia(N),E--;for(;0<g-E;)k=Ia(k),g--;for(;E--;){if(N===k||k!==null&&N===k.alternate)break t;N=Ia(N),k=Ia(k)}N=null}else N=null;y!==null&&jy(S,v,y,N,!1),w!==null&&b!==null&&jy(S,b,w,N,!0)}}e:{if(v=f?Ya(f):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var T=Zx;else if(Cy(v))if(D4)T=n7;else{T=e7;var R=Jx}else(y=v.nodeName)&&y.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(T=t7);if(T&&(T=T(t,f))){F4(S,T,n,m);break e}R&&R(t,v,f),t==="focusout"&&(R=v._wrapperState)&&R.controlled&&v.type==="number"&&bp(v,"number",v.value)}switch(R=f?Ya(f):window,t){case"focusin":(Cy(R)||R.contentEditable==="true")&&(Ka=R,zp=f,Ll=null);break;case"focusout":Ll=zp=Ka=null;break;case"mousedown":Up=!0;break;case"contextmenu":case"mouseup":case"dragend":Up=!1,Py(S,n,m);break;case"selectionchange":if(s7)break;case"keydown":case"keyup":Py(S,n,m)}var L;if(mg)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else $a?A4(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(O4&&n.locale!=="ko"&&($a||j!=="onCompositionStart"?j==="onCompositionEnd"&&$a&&(L=M4()):(ss=m,fg="value"in ss?ss.value:ss.textContent,$a=!0)),R=xd(f,j),0<R.length&&(j=new xy(j,t,null,n,m),S.push({event:j,listeners:R}),L?j.data=L:(L=L4(n),L!==null&&(j.data=L)))),(L=Kx?Qx(t,n):Yx(t,n))&&(f=xd(f,"onBeforeInput"),0<f.length&&(m=new xy("onBeforeInput","beforeinput",null,n,m),S.push({event:m,listeners:f}),m.data=L))}K4(S,e)})}function Yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Bl(t,n),a!=null&&r.unshift(Yl(t,a,i)),a=Bl(t,e),a!=null&&r.push(Yl(t,a,i))),t=t.return}return r}function Ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jy(t,e,n,r,i){for(var a=e._reactName,l=[];n!==null&&n!==r;){var u=n,d=u.alternate,f=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&f!==null&&(u=f,i?(d=Bl(n,a),d!=null&&l.unshift(Yl(n,d,u))):i||(d=Bl(n,a),d!=null&&l.push(Yl(n,d,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var u7=/\r\n?/g,c7=/\u0000|\uFFFD/g;function My(t){return(typeof t=="string"?t:""+t).replace(u7,`
`).replace(c7,"")}function Lc(t,e,n){if(e=My(e),My(t)!==e&&n)throw Error(Z(425))}function _d(){}var Gp=null,Bp=null;function Vp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wp=typeof setTimeout=="function"?setTimeout:void 0,d7=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,h7=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(t){return Oy.resolve(null).then(t).catch(f7)}:Wp;function f7(t){setTimeout(function(){throw t})}function Q0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Hl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Hl(e)}function ds(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ay(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Io=Math.random().toString(36).slice(2),Hr="__reactFiber$"+Io,Xl="__reactProps$"+Io,xi="__reactContainer$"+Io,Hp="__reactEvents$"+Io,p7="__reactListeners$"+Io,g7="__reactHandles$"+Io;function Ys(t){var e=t[Hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xi]||n[Hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ay(t);t!==null;){if(n=t[Hr])return n;t=Ay(t)}return e}t=n,n=t.parentNode}return null}function mu(t){return t=t[Hr]||t[xi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function nh(t){return t[Xl]||null}var $p=[],Xa=-1;function Cs(t){return{current:t}}function ot(t){0>Xa||(t.current=$p[Xa],$p[Xa]=null,Xa--)}function rt(t,e){Xa++,$p[Xa]=t.current,t.current=e}var vs={},rn=Cs(vs),Nn=Cs(!1),aa=vs;function _o(t,e){var n=t.type.contextTypes;if(!n)return vs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function wd(){ot(Nn),ot(rn)}function Ly(t,e,n){if(rn.current!==vs)throw Error(Z(168));rt(rn,e),rt(Nn,n)}function Y4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,J9(t)||"Unknown",i));return mt({},n,r)}function Sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vs,aa=rn.current,rt(rn,t),rt(Nn,Nn.current),!0}function Fy(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=Y4(t,e,aa),r.__reactInternalMemoizedMergedChildContext=t,ot(Nn),ot(rn),rt(rn,t)):ot(Nn),rt(Nn,n)}var di=null,rh=!1,Y0=!1;function X4(t){di===null?di=[t]:di.push(t)}function m7(t){rh=!0,X4(t)}function ks(){if(!Y0&&di!==null){Y0=!0;var t=0,e=Xe;try{var n=di;for(Xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}di=null,rh=!1}catch(i){throw di!==null&&(di=di.slice(t+1)),w4(ug,ks),i}finally{Xe=e,Y0=!1}}return null}var qa=[],Za=0,Cd=null,kd=0,Jn=[],er=0,oa=null,fi=1,pi="";function Hs(t,e){qa[Za++]=kd,qa[Za++]=Cd,Cd=t,kd=e}function q4(t,e,n){Jn[er++]=fi,Jn[er++]=pi,Jn[er++]=oa,oa=t;var r=fi;t=pi;var i=32-Er(r)-1;r&=~(1<<i),n+=1;var a=32-Er(e)+i;if(30<a){var l=i-i%5;a=(r&(1<<l)-1).toString(32),r>>=l,i-=l,fi=1<<32-Er(e)+i|n<<i|r,pi=a+t}else fi=1<<a|n<<i|r,pi=t}function vg(t){t.return!==null&&(Hs(t,1),q4(t,1,0))}function xg(t){for(;t===Cd;)Cd=qa[--Za],qa[Za]=null,kd=qa[--Za],qa[Za]=null;for(;t===oa;)oa=Jn[--er],Jn[er]=null,pi=Jn[--er],Jn[er]=null,fi=Jn[--er],Jn[er]=null}var Dn=null,Fn=null,ct=!1,Cr=null;function Z4(t,e){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dn=t,Fn=ds(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dn=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oa!==null?{id:fi,overflow:pi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dn=t,Fn=null,!0):!1;default:return!1}}function Kp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qp(t){if(ct){var e=Fn;if(e){var n=e;if(!Dy(t,e)){if(Kp(t))throw Error(Z(418));e=ds(n.nextSibling);var r=Dn;e&&Dy(t,e)?Z4(r,n):(t.flags=t.flags&-4097|2,ct=!1,Dn=t)}}else{if(Kp(t))throw Error(Z(418));t.flags=t.flags&-4097|2,ct=!1,Dn=t}}}function Iy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dn=t}function Fc(t){if(t!==Dn)return!1;if(!ct)return Iy(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vp(t.type,t.memoizedProps)),e&&(e=Fn)){if(Kp(t))throw J4(),Error(Z(418));for(;e;)Z4(t,e),e=ds(e.nextSibling)}if(Iy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fn=ds(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=Dn?ds(t.stateNode.nextSibling):null;return!0}function J4(){for(var t=Fn;t;)t=ds(t.nextSibling)}function wo(){Fn=Dn=null,ct=!1}function _g(t){Cr===null?Cr=[t]:Cr.push(t)}var y7=Ci.ReactCurrentBatchConfig;function vl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(l){var u=i.refs;l===null?delete u[a]:u[a]=l},e._stringRef=a,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function Dc(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zy(t){var e=t._init;return e(t._payload)}function e3(t){function e(k,E){if(t){var g=k.deletions;g===null?(k.deletions=[E],k.flags|=16):g.push(E)}}function n(k,E){if(!t)return null;for(;E!==null;)e(k,E),E=E.sibling;return null}function r(k,E){for(k=new Map;E!==null;)E.key!==null?k.set(E.key,E):k.set(E.index,E),E=E.sibling;return k}function i(k,E){return k=gs(k,E),k.index=0,k.sibling=null,k}function a(k,E,g){return k.index=g,t?(g=k.alternate,g!==null?(g=g.index,g<E?(k.flags|=2,E):g):(k.flags|=2,E)):(k.flags|=1048576,E)}function l(k){return t&&k.alternate===null&&(k.flags|=2),k}function u(k,E,g,C){return E===null||E.tag!==6?(E=np(g,k.mode,C),E.return=k,E):(E=i(E,g),E.return=k,E)}function d(k,E,g,C){var T=g.type;return T===Ha?m(k,E,g.props.children,C,g.key):E!==null&&(E.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ki&&zy(T)===E.type)?(C=i(E,g.props),C.ref=vl(k,E,g),C.return=k,C):(C=ud(g.type,g.key,g.props,null,k.mode,C),C.ref=vl(k,E,g),C.return=k,C)}function f(k,E,g,C){return E===null||E.tag!==4||E.stateNode.containerInfo!==g.containerInfo||E.stateNode.implementation!==g.implementation?(E=rp(g,k.mode,C),E.return=k,E):(E=i(E,g.children||[]),E.return=k,E)}function m(k,E,g,C,T){return E===null||E.tag!==7?(E=sa(g,k.mode,C,T),E.return=k,E):(E=i(E,g),E.return=k,E)}function S(k,E,g){if(typeof E=="string"&&E!==""||typeof E=="number")return E=np(""+E,k.mode,g),E.return=k,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Nc:return g=ud(E.type,E.key,E.props,null,k.mode,g),g.ref=vl(k,null,E),g.return=k,g;case Wa:return E=rp(E,k.mode,g),E.return=k,E;case Ki:var C=E._init;return S(k,C(E._payload),g)}if(El(E)||fl(E))return E=sa(E,k.mode,g,null),E.return=k,E;Dc(k,E)}return null}function v(k,E,g,C){var T=E!==null?E.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:u(k,E,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Nc:return g.key===T?d(k,E,g,C):null;case Wa:return g.key===T?f(k,E,g,C):null;case Ki:return T=g._init,v(k,E,T(g._payload),C)}if(El(g)||fl(g))return T!==null?null:m(k,E,g,C,null);Dc(k,g)}return null}function y(k,E,g,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return k=k.get(g)||null,u(E,k,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Nc:return k=k.get(C.key===null?g:C.key)||null,d(E,k,C,T);case Wa:return k=k.get(C.key===null?g:C.key)||null,f(E,k,C,T);case Ki:var R=C._init;return y(k,E,g,R(C._payload),T)}if(El(C)||fl(C))return k=k.get(g)||null,m(E,k,C,T,null);Dc(E,C)}return null}function w(k,E,g,C){for(var T=null,R=null,L=E,j=E=0,I=null;L!==null&&j<g.length;j++){L.index>j?(I=L,L=null):I=L.sibling;var O=v(k,L,g[j],C);if(O===null){L===null&&(L=I);break}t&&L&&O.alternate===null&&e(k,L),E=a(O,E,j),R===null?T=O:R.sibling=O,R=O,L=I}if(j===g.length)return n(k,L),ct&&Hs(k,j),T;if(L===null){for(;j<g.length;j++)L=S(k,g[j],C),L!==null&&(E=a(L,E,j),R===null?T=L:R.sibling=L,R=L);return ct&&Hs(k,j),T}for(L=r(k,L);j<g.length;j++)I=y(L,k,j,g[j],C),I!==null&&(t&&I.alternate!==null&&L.delete(I.key===null?j:I.key),E=a(I,E,j),R===null?T=I:R.sibling=I,R=I);return t&&L.forEach(function(B){return e(k,B)}),ct&&Hs(k,j),T}function N(k,E,g,C){var T=fl(g);if(typeof T!="function")throw Error(Z(150));if(g=T.call(g),g==null)throw Error(Z(151));for(var R=T=null,L=E,j=E=0,I=null,O=g.next();L!==null&&!O.done;j++,O=g.next()){L.index>j?(I=L,L=null):I=L.sibling;var B=v(k,L,O.value,C);if(B===null){L===null&&(L=I);break}t&&L&&B.alternate===null&&e(k,L),E=a(B,E,j),R===null?T=B:R.sibling=B,R=B,L=I}if(O.done)return n(k,L),ct&&Hs(k,j),T;if(L===null){for(;!O.done;j++,O=g.next())O=S(k,O.value,C),O!==null&&(E=a(O,E,j),R===null?T=O:R.sibling=O,R=O);return ct&&Hs(k,j),T}for(L=r(k,L);!O.done;j++,O=g.next())O=y(L,k,j,O.value,C),O!==null&&(t&&O.alternate!==null&&L.delete(O.key===null?j:O.key),E=a(O,E,j),R===null?T=O:R.sibling=O,R=O);return t&&L.forEach(function(z){return e(k,z)}),ct&&Hs(k,j),T}function b(k,E,g,C){if(typeof g=="object"&&g!==null&&g.type===Ha&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Nc:e:{for(var T=g.key,R=E;R!==null;){if(R.key===T){if(T=g.type,T===Ha){if(R.tag===7){n(k,R.sibling),E=i(R,g.props.children),E.return=k,k=E;break e}}else if(R.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ki&&zy(T)===R.type){n(k,R.sibling),E=i(R,g.props),E.ref=vl(k,R,g),E.return=k,k=E;break e}n(k,R);break}else e(k,R);R=R.sibling}g.type===Ha?(E=sa(g.props.children,k.mode,C,g.key),E.return=k,k=E):(C=ud(g.type,g.key,g.props,null,k.mode,C),C.ref=vl(k,E,g),C.return=k,k=C)}return l(k);case Wa:e:{for(R=g.key;E!==null;){if(E.key===R)if(E.tag===4&&E.stateNode.containerInfo===g.containerInfo&&E.stateNode.implementation===g.implementation){n(k,E.sibling),E=i(E,g.children||[]),E.return=k,k=E;break e}else{n(k,E);break}else e(k,E);E=E.sibling}E=rp(g,k.mode,C),E.return=k,k=E}return l(k);case Ki:return R=g._init,b(k,E,R(g._payload),C)}if(El(g))return w(k,E,g,C);if(fl(g))return N(k,E,g,C);Dc(k,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,E!==null&&E.tag===6?(n(k,E.sibling),E=i(E,g),E.return=k,k=E):(n(k,E),E=np(g,k.mode,C),E.return=k,k=E),l(k)):n(k,E)}return b}var So=e3(!0),t3=e3(!1),Ed=Cs(null),Nd=null,Ja=null,wg=null;function Sg(){wg=Ja=Nd=null}function Cg(t){var e=Ed.current;ot(Ed),t._currentValue=e}function Yp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ao(t,e){Nd=t,wg=Ja=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function rr(t){var e=t._currentValue;if(wg!==t)if(t={context:t,memoizedValue:e,next:null},Ja===null){if(Nd===null)throw Error(Z(308));Ja=t,Nd.dependencies={lanes:0,firstContext:t}}else Ja=Ja.next=t;return e}var Xs=null;function kg(t){Xs===null?Xs=[t]:Xs.push(t)}function n3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kg(e)):(n.next=i.next,i.next=n),e.interleaved=n,_i(t,r)}function _i(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qi=!1;function Eg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_i(t,n)}return i=r.interleaved,i===null?(e.next=e,kg(r)):(e.next=i.next,i.next=e),r.interleaved=e,_i(t,n)}function rd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cg(t,n)}}function Uy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bd(t,e,n,r){var i=t.updateQueue;Qi=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var d=u,f=d.next;d.next=null,l===null?a=f:l.next=f,l=d;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==l&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=d))}if(a!==null){var S=i.baseState;l=0,m=f=d=null,u=a;do{var v=u.lane,y=u.eventTime;if((r&v)===v){m!==null&&(m=m.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=t,N=u;switch(v=e,y=n,N.tag){case 1:if(w=N.payload,typeof w=="function"){S=w.call(y,S,v);break e}S=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=N.payload,v=typeof w=="function"?w.call(y,S,v):w,v==null)break e;S=mt({},S,v);break e;case 2:Qi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[u]:v.push(u))}else y={eventTime:y,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=y,d=S):m=m.next=y,l|=v;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;v=u,u=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(m===null&&(d=S),i.baseState=d,i.firstBaseUpdate=f,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ua|=l,t.lanes=l,t.memoizedState=S}}function Gy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var yu={},Qr=Cs(yu),ql=Cs(yu),Zl=Cs(yu);function qs(t){if(t===yu)throw Error(Z(174));return t}function Ng(t,e){switch(rt(Zl,e),rt(ql,t),rt(Qr,yu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tp(e,t)}ot(Qr),rt(Qr,e)}function Co(){ot(Qr),ot(ql),ot(Zl)}function i3(t){qs(Zl.current);var e=qs(Qr.current),n=Tp(e,t.type);e!==n&&(rt(ql,t),rt(Qr,n))}function bg(t){ql.current===t&&(ot(Qr),ot(ql))}var pt=Cs(0);function Pd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var X0=[];function Pg(){for(var t=0;t<X0.length;t++)X0[t]._workInProgressVersionPrimary=null;X0.length=0}var id=Ci.ReactCurrentDispatcher,q0=Ci.ReactCurrentBatchConfig,la=0,gt=null,Mt=null,Gt=null,Td=!1,Fl=!1,Jl=0,v7=0;function en(){throw Error(Z(321))}function Tg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pr(t[n],e[n]))return!1;return!0}function Rg(t,e,n,r,i,a){if(la=a,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,id.current=t===null||t.memoizedState===null?S7:C7,t=n(r,i),Fl){a=0;do{if(Fl=!1,Jl=0,25<=a)throw Error(Z(301));a+=1,Gt=Mt=null,e.updateQueue=null,id.current=k7,t=n(r,i)}while(Fl)}if(id.current=Rd,e=Mt!==null&&Mt.next!==null,la=0,Gt=Mt=gt=null,Td=!1,e)throw Error(Z(300));return t}function jg(){var t=Jl!==0;return Jl=0,t}function Gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?gt.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function ir(){if(Mt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Gt===null?gt.memoizedState:Gt.next;if(e!==null)Gt=e,Mt=t;else{if(t===null)throw Error(Z(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Gt===null?gt.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function eu(t,e){return typeof e=="function"?e(t):e}function Z0(t){var e=ir(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=Mt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var u=l=null,d=null,f=a;do{var m=f.lane;if((la&m)===m)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var S={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(u=d=S,l=r):d=d.next=S,gt.lanes|=m,ua|=m}f=f.next}while(f!==null&&f!==a);d===null?l=r:d.next=u,Pr(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,gt.lanes|=a,ua|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function J0(t){var e=ir(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do a=t(a,l.action),l=l.next;while(l!==i);Pr(a,e.memoizedState)||(En=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function s3(){}function a3(t,e){var n=gt,r=ir(),i=e(),a=!Pr(r.memoizedState,i);if(a&&(r.memoizedState=i,En=!0),r=r.queue,Mg(u3.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Gt!==null&&Gt.memoizedState.tag&1){if(n.flags|=2048,tu(9,l3.bind(null,n,r,i,e),void 0,null),Bt===null)throw Error(Z(349));la&30||o3(n,e,i)}return i}function o3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function l3(t,e,n,r){e.value=n,e.getSnapshot=r,c3(e)&&d3(t)}function u3(t,e,n){return n(function(){c3(e)&&d3(t)})}function c3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pr(t,n)}catch{return!0}}function d3(t){var e=_i(t,1);e!==null&&Nr(e,t,1,-1)}function By(t){var e=Gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:t},e.queue=t,t=t.dispatch=w7.bind(null,gt,t),[e.memoizedState,t]}function tu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function h3(){return ir().memoizedState}function sd(t,e,n,r){var i=Gr();gt.flags|=t,i.memoizedState=tu(1|e,n,void 0,r===void 0?null:r)}function ih(t,e,n,r){var i=ir();r=r===void 0?null:r;var a=void 0;if(Mt!==null){var l=Mt.memoizedState;if(a=l.destroy,r!==null&&Tg(r,l.deps)){i.memoizedState=tu(e,n,a,r);return}}gt.flags|=t,i.memoizedState=tu(1|e,n,a,r)}function Vy(t,e){return sd(8390656,8,t,e)}function Mg(t,e){return ih(2048,8,t,e)}function f3(t,e){return ih(4,2,t,e)}function p3(t,e){return ih(4,4,t,e)}function g3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function m3(t,e,n){return n=n!=null?n.concat([t]):null,ih(4,4,g3.bind(null,e,t),n)}function Og(){}function y3(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function v3(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function x3(t,e,n){return la&21?(Pr(n,e)||(n=k4(),gt.lanes|=n,ua|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function x7(t,e){var n=Xe;Xe=n!==0&&4>n?n:4,t(!0);var r=q0.transition;q0.transition={};try{t(!1),e()}finally{Xe=n,q0.transition=r}}function _3(){return ir().memoizedState}function _7(t,e,n){var r=ps(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},w3(t))S3(e,n);else if(n=n3(t,e,n,r),n!==null){var i=cn();Nr(n,t,r,i),C3(n,e,r)}}function w7(t,e,n){var r=ps(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(w3(t))S3(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,u=a(l,n);if(i.hasEagerState=!0,i.eagerState=u,Pr(u,l)){var d=e.interleaved;d===null?(i.next=i,kg(e)):(i.next=d.next,d.next=i),e.interleaved=i;return}}catch{}finally{}n=n3(t,e,i,r),n!==null&&(i=cn(),Nr(n,t,r,i),C3(n,e,r))}}function w3(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function S3(t,e){Fl=Td=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function C3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cg(t,n)}}var Rd={readContext:rr,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},S7={readContext:rr,useCallback:function(t,e){return Gr().memoizedState=[t,e===void 0?null:e],t},useContext:rr,useEffect:Vy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sd(4194308,4,g3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sd(4194308,4,t,e)},useInsertionEffect:function(t,e){return sd(4,2,t,e)},useMemo:function(t,e){var n=Gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_7.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=Gr();return t={current:t},e.memoizedState=t},useState:By,useDebugValue:Og,useDeferredValue:function(t){return Gr().memoizedState=t},useTransition:function(){var t=By(!1),e=t[0];return t=x7.bind(null,t[1]),Gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,i=Gr();if(ct){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),Bt===null)throw Error(Z(349));la&30||o3(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Vy(u3.bind(null,r,a,t),[t]),r.flags|=2048,tu(9,l3.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Gr(),e=Bt.identifierPrefix;if(ct){var n=pi,r=fi;n=(r&~(1<<32-Er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=v7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},C7={readContext:rr,useCallback:y3,useContext:rr,useEffect:Mg,useImperativeHandle:m3,useInsertionEffect:f3,useLayoutEffect:p3,useMemo:v3,useReducer:Z0,useRef:h3,useState:function(){return Z0(eu)},useDebugValue:Og,useDeferredValue:function(t){var e=ir();return x3(e,Mt.memoizedState,t)},useTransition:function(){var t=Z0(eu)[0],e=ir().memoizedState;return[t,e]},useMutableSource:s3,useSyncExternalStore:a3,useId:_3,unstable_isNewReconciler:!1},k7={readContext:rr,useCallback:y3,useContext:rr,useEffect:Mg,useImperativeHandle:m3,useInsertionEffect:f3,useLayoutEffect:p3,useMemo:v3,useReducer:J0,useRef:h3,useState:function(){return J0(eu)},useDebugValue:Og,useDeferredValue:function(t){var e=ir();return Mt===null?e.memoizedState=t:x3(e,Mt.memoizedState,t)},useTransition:function(){var t=J0(eu)[0],e=ir().memoizedState;return[t,e]},useMutableSource:s3,useSyncExternalStore:a3,useId:_3,unstable_isNewReconciler:!1};function vr(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sh={isMounted:function(t){return(t=t._reactInternals)?fa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),i=ps(t),a=mi(r,i);a.payload=e,n!=null&&(a.callback=n),e=hs(t,a,i),e!==null&&(Nr(e,t,i,r),rd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),i=ps(t),a=mi(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=hs(t,a,i),e!==null&&(Nr(e,t,i,r),rd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=ps(t),i=mi(n,r);i.tag=2,e!=null&&(i.callback=e),e=hs(t,i,r),e!==null&&(Nr(e,t,r,n),rd(e,t,r))}};function Wy(t,e,n,r,i,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,l):e.prototype&&e.prototype.isPureReactComponent?!Kl(n,r)||!Kl(i,a):!0}function k3(t,e,n){var r=!1,i=vs,a=e.contextType;return typeof a=="object"&&a!==null?a=rr(a):(i=bn(e)?aa:rn.current,r=e.contextTypes,a=(r=r!=null)?_o(t,i):vs),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Hy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sh.enqueueReplaceState(e,e.state,null)}function qp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Eg(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=rr(a):(a=bn(e)?aa:rn.current,i.context=_o(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Xp(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sh.enqueueReplaceState(i,i.state,null),bd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ko(t,e){try{var n="",r=e;do n+=Z9(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ep(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var E7=typeof WeakMap=="function"?WeakMap:Map;function E3(t,e,n){n=mi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Md||(Md=!0,l1=r),Zp(t,e)},n}function N3(t,e,n){n=mi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zp(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Zp(t,e),typeof r!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function $y(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new E7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=z7.bind(null,t,e,n),e.then(t,t))}function Ky(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mi(-1,1),e.tag=2,hs(n,e,1))),n.lanes|=1),t)}var N7=Ci.ReactCurrentOwner,En=!1;function ln(t,e,n,r){e.child=t===null?t3(e,null,n,r):So(e,t.child,n,r)}function Yy(t,e,n,r,i){n=n.render;var a=e.ref;return ao(e,i),r=Rg(t,e,n,r,a,i),n=jg(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wi(t,e,i)):(ct&&n&&vg(e),e.flags|=1,ln(t,e,r,i),e.child)}function Xy(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Gg(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,b3(t,e,a,r,i)):(t=ud(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:Kl,n(l,r)&&t.ref===e.ref)return wi(t,e,i)}return e.flags|=1,t=gs(a,r),t.ref=e.ref,t.return=e,e.child=t}function b3(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Kl(a,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,wi(t,e,i)}return Jp(t,e,n,r,i)}function P3(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(to,An),An|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(to,An),An|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,rt(to,An),An|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,rt(to,An),An|=r;return ln(t,e,i,n),e.child}function T3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jp(t,e,n,r,i){var a=bn(n)?aa:rn.current;return a=_o(e,a),ao(e,i),n=Rg(t,e,n,r,a,i),r=jg(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wi(t,e,i)):(ct&&r&&vg(e),e.flags|=1,ln(t,e,n,i),e.child)}function qy(t,e,n,r,i){if(bn(n)){var a=!0;Sd(e)}else a=!1;if(ao(e,i),e.stateNode===null)ad(t,e),k3(e,n,r),qp(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var d=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=rr(f):(f=bn(n)?aa:rn.current,f=_o(e,f));var m=n.getDerivedStateFromProps,S=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";S||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||d!==f)&&Hy(e,l,r,f),Qi=!1;var v=e.memoizedState;l.state=v,bd(e,r,l,i),d=e.memoizedState,u!==r||v!==d||Nn.current||Qi?(typeof m=="function"&&(Xp(e,n,m,r),d=e.memoizedState),(u=Qi||Wy(e,n,u,r,v,d,f))?(S||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),l.props=r,l.state=d,l.context=f,r=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,r3(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:vr(e.type,u),l.props=f,S=e.pendingProps,v=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=rr(d):(d=bn(n)?aa:rn.current,d=_o(e,d));var y=n.getDerivedStateFromProps;(m=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==S||v!==d)&&Hy(e,l,r,d),Qi=!1,v=e.memoizedState,l.state=v,bd(e,r,l,i);var w=e.memoizedState;u!==S||v!==w||Nn.current||Qi?(typeof y=="function"&&(Xp(e,n,y,r),w=e.memoizedState),(f=Qi||Wy(e,n,f,r,v,w,d)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,w,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,w,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),l.props=r,l.state=w,l.context=d,r=f):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return e1(t,e,n,r,a,i)}function e1(t,e,n,r,i,a){T3(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&Fy(e,n,!1),wi(t,e,a);r=e.stateNode,N7.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=So(e,t.child,null,a),e.child=So(e,null,u,a)):ln(t,e,u,a),e.memoizedState=r.state,i&&Fy(e,n,!0),e.child}function R3(t){var e=t.stateNode;e.pendingContext?Ly(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ly(t,e.context,!1),Ng(t,e.containerInfo)}function Zy(t,e,n,r,i){return wo(),_g(i),e.flags|=256,ln(t,e,n,r),e.child}var t1={dehydrated:null,treeContext:null,retryLane:0};function n1(t){return{baseLanes:t,cachePool:null,transitions:null}}function j3(t,e,n){var r=e.pendingProps,i=pt.current,a=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(pt,i&1),t===null)return Qp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=lh(l,r,0,null),t=sa(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=n1(n),e.memoizedState=t1,t):Ag(e,l));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return b7(t,e,l,r,u,i,n);if(a){a=r.fallback,l=e.mode,i=t.child,u=i.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=gs(i,d),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?a=gs(u,a):(a=sa(a,l,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=t.child.memoizedState,l=l===null?n1(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=t1,r}return a=t.child,t=a.sibling,r=gs(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ag(t,e){return e=lh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ic(t,e,n,r){return r!==null&&_g(r),So(e,t.child,null,n),t=Ag(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function b7(t,e,n,r,i,a,l){if(n)return e.flags&256?(e.flags&=-257,r=ep(Error(Z(422))),Ic(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=lh({mode:"visible",children:r.children},i,0,null),a=sa(a,i,l,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&So(e,t.child,null,l),e.child.memoizedState=n1(l),e.memoizedState=t1,a);if(!(e.mode&1))return Ic(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,a=Error(Z(419)),r=ep(a,r,void 0),Ic(t,e,l,r)}if(u=(l&t.childLanes)!==0,En||u){if(r=Bt,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,_i(t,i),Nr(r,t,i,-1))}return Ug(),r=ep(Error(Z(421))),Ic(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=U7.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Fn=ds(i.nextSibling),Dn=e,ct=!0,Cr=null,t!==null&&(Jn[er++]=fi,Jn[er++]=pi,Jn[er++]=oa,fi=t.id,pi=t.overflow,oa=e),e=Ag(e,r.children),e.flags|=4096,e)}function Jy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yp(t.return,e,n)}function tp(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function M3(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(ln(t,e,r.children,n),r=pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jy(t,n,e);else if(t.tag===19)Jy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Pd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tp(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Pd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tp(e,!0,n,null,a);break;case"together":tp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ad(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ua|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=gs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function P7(t,e,n){switch(e.tag){case 3:R3(e),wo();break;case 5:i3(e);break;case 1:bn(e.type)&&Sd(e);break;case 4:Ng(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(Ed,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(pt,pt.current&1),e.flags|=128,null):n&e.child.childLanes?j3(t,e,n):(rt(pt,pt.current&1),t=wi(t,e,n),t!==null?t.sibling:null);rt(pt,pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return M3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(pt,pt.current),r)break;return null;case 22:case 23:return e.lanes=0,P3(t,e,n)}return wi(t,e,n)}var O3,r1,A3,L3;O3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};r1=function(){};A3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qs(Qr.current);var a=null;switch(n){case"input":i=Ep(t,i),r=Ep(t,r),a=[];break;case"select":i=mt({},i,{value:void 0}),r=mt({},r,{value:void 0}),a=[];break;case"textarea":i=Pp(t,i),r=Pp(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_d)}Rp(n,r);var l;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Ul.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in r){var d=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&d!==u&&(d!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(a||(a=[]),a.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(a=a||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Ul.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&at("scroll",t),a||u===d||(a=[])):(a=a||[]).push(f,d))}n&&(a=a||[]).push("style",n);var f=a;(e.updateQueue=f)&&(e.flags|=4)}};L3=function(t,e,n,r){n!==r&&(e.flags|=4)};function xl(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function T7(t,e,n){var r=e.pendingProps;switch(xg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return bn(e.type)&&wd(),tn(e),null;case 3:return r=e.stateNode,Co(),ot(Nn),ot(rn),Pg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cr!==null&&(d1(Cr),Cr=null))),r1(t,e),tn(e),null;case 5:bg(e);var i=qs(Zl.current);if(n=e.type,t!==null&&e.stateNode!=null)A3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return tn(e),null}if(t=qs(Qr.current),Fc(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Hr]=e,r[Xl]=a,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(i=0;i<bl.length;i++)at(bl[i],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":ly(r,a),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},at("invalid",r);break;case"textarea":cy(r,a),at("invalid",r)}Rp(n,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="children"?typeof u=="string"?r.textContent!==u&&(a.suppressHydrationWarning!==!0&&Lc(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&Lc(r.textContent,u,t),i=["children",""+u]):Ul.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&at("scroll",r)}switch(n){case"input":bc(r),uy(r,a,!0);break;case"textarea":bc(r),dy(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=_d)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=u4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Hr]=e,t[Xl]=r,O3(t,e,!1,!1),e.stateNode=t;e:{switch(l=jp(n,r),n){case"dialog":at("cancel",t),at("close",t),i=r;break;case"iframe":case"object":case"embed":at("load",t),i=r;break;case"video":case"audio":for(i=0;i<bl.length;i++)at(bl[i],t);i=r;break;case"source":at("error",t),i=r;break;case"img":case"image":case"link":at("error",t),at("load",t),i=r;break;case"details":at("toggle",t),i=r;break;case"input":ly(t,r),i=Ep(t,r),at("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mt({},r,{value:void 0}),at("invalid",t);break;case"textarea":cy(t,r),i=Pp(t,r),at("invalid",t);break;default:i=r}Rp(n,i),u=i;for(a in u)if(u.hasOwnProperty(a)){var d=u[a];a==="style"?h4(t,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&c4(t,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Gl(t,d):typeof d=="number"&&Gl(t,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ul.hasOwnProperty(a)?d!=null&&a==="onScroll"&&at("scroll",t):d!=null&&ig(t,a,d,l))}switch(n){case"input":bc(t),uy(t,r,!1);break;case"textarea":bc(t),dy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ys(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?no(t,!!r.multiple,a,!1):r.defaultValue!=null&&no(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_d)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)L3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=qs(Zl.current),qs(Qr.current),Fc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hr]=e,(a=r.nodeValue!==n)&&(t=Dn,t!==null))switch(t.tag){case 3:Lc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Lc(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hr]=e,e.stateNode=r}return tn(e),null;case 13:if(ot(pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&Fn!==null&&e.mode&1&&!(e.flags&128))J4(),wo(),e.flags|=98560,a=!1;else if(a=Fc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Z(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Z(317));a[Hr]=e}else wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),a=!1}else Cr!==null&&(d1(Cr),Cr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?Ot===0&&(Ot=3):Ug())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return Co(),r1(t,e),t===null&&Ql(e.stateNode.containerInfo),tn(e),null;case 10:return Cg(e.type._context),tn(e),null;case 17:return bn(e.type)&&wd(),tn(e),null;case 19:if(ot(pt),a=e.memoizedState,a===null)return tn(e),null;if(r=(e.flags&128)!==0,l=a.rendering,l===null)if(r)xl(a,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Pd(t),l!==null){for(e.flags|=128,xl(a,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(pt,pt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Et()>Eo&&(e.flags|=128,r=!0,xl(a,!1),e.lanes=4194304)}else{if(!r)if(t=Pd(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!ct)return tn(e),null}else 2*Et()-a.renderingStartTime>Eo&&n!==1073741824&&(e.flags|=128,r=!0,xl(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(n=a.last,n!==null?n.sibling=l:e.child=l,a.last=l)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Et(),e.sibling=null,n=pt.current,rt(pt,r?n&1|2:n&1),e):(tn(e),null);case 22:case 23:return zg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?An&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function R7(t,e){switch(xg(e),e.tag){case 1:return bn(e.type)&&wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Co(),ot(Nn),ot(rn),Pg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bg(e),null;case 13:if(ot(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(pt),null;case 4:return Co(),null;case 10:return Cg(e.type._context),null;case 22:case 23:return zg(),null;case 24:return null;default:return null}}var zc=!1,nn=!1,j7=typeof WeakSet=="function"?WeakSet:Set,oe=null;function eo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_t(t,e,r)}else n.current=null}function i1(t,e,n){try{n()}catch(r){_t(t,e,r)}}var ev=!1;function M7(t,e){if(Gp=yd,t=U4(),yg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,f=0,m=0,S=t,v=null;t:for(;;){for(var y;S!==n||i!==0&&S.nodeType!==3||(u=l+i),S!==a||r!==0&&S.nodeType!==3||(d=l+r),S.nodeType===3&&(l+=S.nodeValue.length),(y=S.firstChild)!==null;)v=S,S=y;for(;;){if(S===t)break t;if(v===n&&++f===i&&(u=l),v===a&&++m===r&&(d=l),(y=S.nextSibling)!==null)break;S=v,v=S.parentNode}S=y}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bp={focusedElem:t,selectionRange:n},yd=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var N=w.memoizedProps,b=w.memoizedState,k=e.stateNode,E=k.getSnapshotBeforeUpdate(e.elementType===e.type?N:vr(e.type,N),b);k.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(C){_t(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return w=ev,ev=!1,w}function Dl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&i1(e,n,a)}i=i.next}while(i!==r)}}function ah(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function s1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function F3(t){var e=t.alternate;e!==null&&(t.alternate=null,F3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hr],delete e[Xl],delete e[Hp],delete e[p7],delete e[g7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function D3(t){return t.tag===5||t.tag===3||t.tag===4}function tv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||D3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function a1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_d));else if(r!==4&&(t=t.child,t!==null))for(a1(t,e,n),t=t.sibling;t!==null;)a1(t,e,n),t=t.sibling}function o1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(o1(t,e,n),t=t.sibling;t!==null;)o1(t,e,n),t=t.sibling}var Ht=null,Sr=!1;function Bi(t,e,n){for(n=n.child;n!==null;)I3(t,e,n),n=n.sibling}function I3(t,e,n){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(Zd,n)}catch{}switch(n.tag){case 5:nn||eo(n,e);case 6:var r=Ht,i=Sr;Ht=null,Bi(t,e,n),Ht=r,Sr=i,Ht!==null&&(Sr?(t=Ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(Sr?(t=Ht,n=n.stateNode,t.nodeType===8?Q0(t.parentNode,n):t.nodeType===1&&Q0(t,n),Hl(t)):Q0(Ht,n.stateNode));break;case 4:r=Ht,i=Sr,Ht=n.stateNode.containerInfo,Sr=!0,Bi(t,e,n),Ht=r,Sr=i;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&i1(n,e,l),i=i.next}while(i!==r)}Bi(t,e,n);break;case 1:if(!nn&&(eo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_t(n,e,u)}Bi(t,e,n);break;case 21:Bi(t,e,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,Bi(t,e,n),nn=r):Bi(t,e,n);break;default:Bi(t,e,n)}}function nv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new j7),e.forEach(function(r){var i=G7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:Ht=u.stateNode,Sr=!1;break e;case 3:Ht=u.stateNode.containerInfo,Sr=!0;break e;case 4:Ht=u.stateNode.containerInfo,Sr=!0;break e}u=u.return}if(Ht===null)throw Error(Z(160));I3(a,l,i),Ht=null,Sr=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(f){_t(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)z3(e,t),e=e.sibling}function z3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gr(e,t),Ur(t),r&4){try{Dl(3,t,t.return),ah(3,t)}catch(N){_t(t,t.return,N)}try{Dl(5,t,t.return)}catch(N){_t(t,t.return,N)}}break;case 1:gr(e,t),Ur(t),r&512&&n!==null&&eo(n,n.return);break;case 5:if(gr(e,t),Ur(t),r&512&&n!==null&&eo(n,n.return),t.flags&32){var i=t.stateNode;try{Gl(i,"")}catch(N){_t(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,l=n!==null?n.memoizedProps:a,u=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&o4(i,a),jp(u,l);var f=jp(u,a);for(l=0;l<d.length;l+=2){var m=d[l],S=d[l+1];m==="style"?h4(i,S):m==="dangerouslySetInnerHTML"?c4(i,S):m==="children"?Gl(i,S):ig(i,m,S,f)}switch(u){case"input":Np(i,a);break;case"textarea":l4(i,a);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?no(i,!!a.multiple,y,!1):v!==!!a.multiple&&(a.defaultValue!=null?no(i,!!a.multiple,a.defaultValue,!0):no(i,!!a.multiple,a.multiple?[]:"",!1))}i[Xl]=a}catch(N){_t(t,t.return,N)}}break;case 6:if(gr(e,t),Ur(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(N){_t(t,t.return,N)}}break;case 3:if(gr(e,t),Ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hl(e.containerInfo)}catch(N){_t(t,t.return,N)}break;case 4:gr(e,t),Ur(t);break;case 13:gr(e,t),Ur(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Dg=Et())),r&4&&nv(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(f=nn)||m,gr(e,t),nn=f):gr(e,t),Ur(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(oe=t,m=t.child;m!==null;){for(S=oe=m;oe!==null;){switch(v=oe,y=v.child,v.tag){case 0:case 11:case 14:case 15:Dl(4,v,v.return);break;case 1:eo(v,v.return);var w=v.stateNode;if(typeof w.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(N){_t(r,n,N)}}break;case 5:eo(v,v.return);break;case 22:if(v.memoizedState!==null){iv(S);continue}}y!==null?(y.return=v,oe=y):iv(S)}m=m.sibling}e:for(m=null,S=t;;){if(S.tag===5){if(m===null){m=S;try{i=S.stateNode,f?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=S.stateNode,d=S.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=d4("display",l))}catch(N){_t(t,t.return,N)}}}else if(S.tag===6){if(m===null)try{S.stateNode.nodeValue=f?"":S.memoizedProps}catch(N){_t(t,t.return,N)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===t)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===t)break e;for(;S.sibling===null;){if(S.return===null||S.return===t)break e;m===S&&(m=null),S=S.return}m===S&&(m=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:gr(e,t),Ur(t),r&4&&nv(t);break;case 21:break;default:gr(e,t),Ur(t)}}function Ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(D3(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gl(i,""),r.flags&=-33);var a=tv(t);o1(t,a,i);break;case 3:case 4:var l=r.stateNode.containerInfo,u=tv(t);a1(t,u,l);break;default:throw Error(Z(161))}}catch(d){_t(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function O7(t,e,n){oe=t,U3(t)}function U3(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,a=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||zc;if(!l){var u=i.alternate,d=u!==null&&u.memoizedState!==null||nn;u=zc;var f=nn;if(zc=l,(nn=d)&&!f)for(oe=i;oe!==null;)l=oe,d=l.child,l.tag===22&&l.memoizedState!==null?sv(i):d!==null?(d.return=l,oe=d):sv(i);for(;a!==null;)oe=a,U3(a),a=a.sibling;oe=i,zc=u,nn=f}rv(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,oe=a):rv(t)}}function rv(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||ah(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Gy(e,a,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gy(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var S=m.dehydrated;S!==null&&Hl(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}nn||e.flags&512&&s1(e)}catch(v){_t(e,e.return,v)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function iv(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function sv(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ah(4,e)}catch(d){_t(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(d){_t(e,i,d)}}var a=e.return;try{s1(e)}catch(d){_t(e,a,d)}break;case 5:var l=e.return;try{s1(e)}catch(d){_t(e,l,d)}}}catch(d){_t(e,e.return,d)}if(e===t){oe=null;break}var u=e.sibling;if(u!==null){u.return=e.return,oe=u;break}oe=e.return}}var A7=Math.ceil,jd=Ci.ReactCurrentDispatcher,Lg=Ci.ReactCurrentOwner,nr=Ci.ReactCurrentBatchConfig,Ue=0,Bt=null,Pt=null,$t=0,An=0,to=Cs(0),Ot=0,nu=null,ua=0,oh=0,Fg=0,Il=null,kn=null,Dg=0,Eo=1/0,ci=null,Md=!1,l1=null,fs=null,Uc=!1,as=null,Od=0,zl=0,u1=null,od=-1,ld=0;function cn(){return Ue&6?Et():od!==-1?od:od=Et()}function ps(t){return t.mode&1?Ue&2&&$t!==0?$t&-$t:y7.transition!==null?(ld===0&&(ld=k4()),ld):(t=Xe,t!==0||(t=window.event,t=t===void 0?16:j4(t.type)),t):1}function Nr(t,e,n,r){if(50<zl)throw zl=0,u1=null,Error(Z(185));pu(t,n,r),(!(Ue&2)||t!==Bt)&&(t===Bt&&(!(Ue&2)&&(oh|=n),Ot===4&&qi(t,$t)),Pn(t,r),n===1&&Ue===0&&!(e.mode&1)&&(Eo=Et()+500,rh&&ks()))}function Pn(t,e){var n=t.callbackNode;yx(t,e);var r=md(t,t===Bt?$t:0);if(r===0)n!==null&&py(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&py(n),e===1)t.tag===0?m7(av.bind(null,t)):X4(av.bind(null,t)),h7(function(){!(Ue&6)&&ks()}),n=null;else{switch(E4(r)){case 1:n=ug;break;case 4:n=S4;break;case 16:n=gd;break;case 536870912:n=C4;break;default:n=gd}n=Q3(n,G3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function G3(t,e){if(od=-1,ld=0,Ue&6)throw Error(Z(327));var n=t.callbackNode;if(oo()&&t.callbackNode!==n)return null;var r=md(t,t===Bt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ad(t,r);else{e=r;var i=Ue;Ue|=2;var a=V3();(Bt!==t||$t!==e)&&(ci=null,Eo=Et()+500,ia(t,e));do try{D7();break}catch(u){B3(t,u)}while(1);Sg(),jd.current=a,Ue=i,Pt!==null?e=0:(Bt=null,$t=0,e=Ot)}if(e!==0){if(e===2&&(i=Fp(t),i!==0&&(r=i,e=c1(t,i))),e===1)throw n=nu,ia(t,0),qi(t,r),Pn(t,Et()),n;if(e===6)qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!L7(i)&&(e=Ad(t,r),e===2&&(a=Fp(t),a!==0&&(r=a,e=c1(t,a))),e===1))throw n=nu,ia(t,0),qi(t,r),Pn(t,Et()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:$s(t,kn,ci);break;case 3:if(qi(t,r),(r&130023424)===r&&(e=Dg+500-Et(),10<e)){if(md(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wp($s.bind(null,t,kn,ci),e);break}$s(t,kn,ci);break;case 4:if(qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-Er(r);a=1<<l,l=e[l],l>i&&(i=l),r&=~a}if(r=i,r=Et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*A7(r/1960))-r,10<r){t.timeoutHandle=Wp($s.bind(null,t,kn,ci),r);break}$s(t,kn,ci);break;case 5:$s(t,kn,ci);break;default:throw Error(Z(329))}}}return Pn(t,Et()),t.callbackNode===n?G3.bind(null,t):null}function c1(t,e){var n=Il;return t.current.memoizedState.isDehydrated&&(ia(t,e).flags|=256),t=Ad(t,e),t!==2&&(e=kn,kn=n,e!==null&&d1(e)),t}function d1(t){kn===null?kn=t:kn.push.apply(kn,t)}function L7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Pr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qi(t,e){for(e&=~Fg,e&=~oh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Er(e),r=1<<n;t[n]=-1,e&=~r}}function av(t){if(Ue&6)throw Error(Z(327));oo();var e=md(t,0);if(!(e&1))return Pn(t,Et()),null;var n=Ad(t,e);if(t.tag!==0&&n===2){var r=Fp(t);r!==0&&(e=r,n=c1(t,r))}if(n===1)throw n=nu,ia(t,0),qi(t,e),Pn(t,Et()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$s(t,kn,ci),Pn(t,Et()),null}function Ig(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(Eo=Et()+500,rh&&ks())}}function ca(t){as!==null&&as.tag===0&&!(Ue&6)&&oo();var e=Ue;Ue|=1;var n=nr.transition,r=Xe;try{if(nr.transition=null,Xe=1,t)return t()}finally{Xe=r,nr.transition=n,Ue=e,!(Ue&6)&&ks()}}function zg(){An=to.current,ot(to)}function ia(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,d7(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(xg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wd();break;case 3:Co(),ot(Nn),ot(rn),Pg();break;case 5:bg(r);break;case 4:Co();break;case 13:ot(pt);break;case 19:ot(pt);break;case 10:Cg(r.type._context);break;case 22:case 23:zg()}n=n.return}if(Bt=t,Pt=t=gs(t.current,null),$t=An=e,Ot=0,nu=null,Fg=oh=ua=0,kn=Il=null,Xs!==null){for(e=0;e<Xs.length;e++)if(n=Xs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=i,r.next=l}n.pending=r}Xs=null}return t}function B3(t,e){do{var n=Pt;try{if(Sg(),id.current=Rd,Td){for(var r=gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Td=!1}if(la=0,Gt=Mt=gt=null,Fl=!1,Jl=0,Lg.current=null,n===null||n.return===null){Ot=1,nu=e,Pt=null;break}e:{var a=t,l=n.return,u=n,d=e;if(e=$t,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,m=u,S=m.tag;if(!(m.mode&1)&&(S===0||S===11||S===15)){var v=m.alternate;v?(m.updateQueue=v.updateQueue,m.memoizedState=v.memoizedState,m.lanes=v.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Ky(l);if(y!==null){y.flags&=-257,Qy(y,l,u,a,e),y.mode&1&&$y(a,f,e),e=y,d=f;var w=e.updateQueue;if(w===null){var N=new Set;N.add(d),e.updateQueue=N}else w.add(d);break e}else{if(!(e&1)){$y(a,f,e),Ug();break e}d=Error(Z(426))}}else if(ct&&u.mode&1){var b=Ky(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Qy(b,l,u,a,e),_g(ko(d,u));break e}}a=d=ko(d,u),Ot!==4&&(Ot=2),Il===null?Il=[a]:Il.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var k=E3(a,d,e);Uy(a,k);break e;case 1:u=d;var E=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof E.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(fs===null||!fs.has(g)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=N3(a,u,e);Uy(a,C);break e}}a=a.return}while(a!==null)}H3(n)}catch(T){e=T,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(1)}function V3(){var t=jd.current;return jd.current=Rd,t===null?Rd:t}function Ug(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Bt===null||!(ua&268435455)&&!(oh&268435455)||qi(Bt,$t)}function Ad(t,e){var n=Ue;Ue|=2;var r=V3();(Bt!==t||$t!==e)&&(ci=null,ia(t,e));do try{F7();break}catch(i){B3(t,i)}while(1);if(Sg(),Ue=n,jd.current=r,Pt!==null)throw Error(Z(261));return Bt=null,$t=0,Ot}function F7(){for(;Pt!==null;)W3(Pt)}function D7(){for(;Pt!==null&&!lx();)W3(Pt)}function W3(t){var e=K3(t.alternate,t,An);t.memoizedProps=t.pendingProps,e===null?H3(t):Pt=e,Lg.current=null}function H3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=R7(n,e),n!==null){n.flags&=32767,Pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Pt=null;return}}else if(n=T7(n,e,An),n!==null){Pt=n;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Ot===0&&(Ot=5)}function $s(t,e,n){var r=Xe,i=nr.transition;try{nr.transition=null,Xe=1,I7(t,e,n,r)}finally{nr.transition=i,Xe=r}return null}function I7(t,e,n,r){do oo();while(as!==null);if(Ue&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(vx(t,a),t===Bt&&(Pt=Bt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uc||(Uc=!0,Q3(gd,function(){return oo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=nr.transition,nr.transition=null;var l=Xe;Xe=1;var u=Ue;Ue|=4,Lg.current=null,M7(t,n),z3(n,t),i7(Bp),yd=!!Gp,Bp=Gp=null,t.current=n,O7(n),ux(),Ue=u,Xe=l,nr.transition=a}else t.current=n;if(Uc&&(Uc=!1,as=t,Od=i),a=t.pendingLanes,a===0&&(fs=null),hx(n.stateNode),Pn(t,Et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Md)throw Md=!1,t=l1,l1=null,t;return Od&1&&t.tag!==0&&oo(),a=t.pendingLanes,a&1?t===u1?zl++:(zl=0,u1=t):zl=0,ks(),null}function oo(){if(as!==null){var t=E4(Od),e=nr.transition,n=Xe;try{if(nr.transition=null,Xe=16>t?16:t,as===null)var r=!1;else{if(t=as,as=null,Od=0,Ue&6)throw Error(Z(331));var i=Ue;for(Ue|=4,oe=t.current;oe!==null;){var a=oe,l=a.child;if(oe.flags&16){var u=a.deletions;if(u!==null){for(var d=0;d<u.length;d++){var f=u[d];for(oe=f;oe!==null;){var m=oe;switch(m.tag){case 0:case 11:case 15:Dl(8,m,a)}var S=m.child;if(S!==null)S.return=m,oe=S;else for(;oe!==null;){m=oe;var v=m.sibling,y=m.return;if(F3(m),m===f){oe=null;break}if(v!==null){v.return=y,oe=v;break}oe=y}}}var w=a.alternate;if(w!==null){var N=w.child;if(N!==null){w.child=null;do{var b=N.sibling;N.sibling=null,N=b}while(N!==null)}}oe=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,oe=l;else e:for(;oe!==null;){if(a=oe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Dl(9,a,a.return)}var k=a.sibling;if(k!==null){k.return=a.return,oe=k;break e}oe=a.return}}var E=t.current;for(oe=E;oe!==null;){l=oe;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,oe=g;else e:for(l=E;oe!==null;){if(u=oe,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ah(9,u)}}catch(T){_t(u,u.return,T)}if(u===l){oe=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,oe=C;break e}oe=u.return}}if(Ue=i,ks(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(Zd,t)}catch{}r=!0}return r}finally{Xe=n,nr.transition=e}}return!1}function ov(t,e,n){e=ko(n,e),e=E3(t,e,1),t=hs(t,e,1),e=cn(),t!==null&&(pu(t,1,e),Pn(t,e))}function _t(t,e,n){if(t.tag===3)ov(t,t,n);else for(;e!==null;){if(e.tag===3){ov(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fs===null||!fs.has(r))){t=ko(n,t),t=N3(e,t,1),e=hs(e,t,1),t=cn(),e!==null&&(pu(e,1,t),Pn(e,t));break}}e=e.return}}function z7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,Bt===t&&($t&n)===n&&(Ot===4||Ot===3&&($t&130023424)===$t&&500>Et()-Dg?ia(t,0):Fg|=n),Pn(t,e)}function $3(t,e){e===0&&(t.mode&1?(e=Rc,Rc<<=1,!(Rc&130023424)&&(Rc=4194304)):e=1);var n=cn();t=_i(t,e),t!==null&&(pu(t,e,n),Pn(t,n))}function U7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$3(t,n)}function G7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),$3(t,n)}var K3;K3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,P7(t,e,n);En=!!(t.flags&131072)}else En=!1,ct&&e.flags&1048576&&q4(e,kd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ad(t,e),t=e.pendingProps;var i=_o(e,rn.current);ao(e,n),i=Rg(null,e,r,t,i,n);var a=jg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(a=!0,Sd(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Eg(e),i.updater=sh,e.stateNode=i,i._reactInternals=e,qp(e,r,t,n),e=e1(null,e,r,!0,a,n)):(e.tag=0,ct&&a&&vg(e),ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ad(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=V7(r),t=vr(r,t),i){case 0:e=Jp(null,e,r,t,n);break e;case 1:e=qy(null,e,r,t,n);break e;case 11:e=Yy(null,e,r,t,n);break e;case 14:e=Xy(null,e,r,vr(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),Jp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),qy(t,e,r,i,n);case 3:e:{if(R3(e),t===null)throw Error(Z(387));r=e.pendingProps,a=e.memoizedState,i=a.element,r3(t,e),bd(e,r,null,n);var l=e.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=ko(Error(Z(423)),e),e=Zy(t,e,r,n,i);break e}else if(r!==i){i=ko(Error(Z(424)),e),e=Zy(t,e,r,n,i);break e}else for(Fn=ds(e.stateNode.containerInfo.firstChild),Dn=e,ct=!0,Cr=null,n=t3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wo(),r===i){e=wi(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return i3(e),t===null&&Qp(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,l=i.children,Vp(r,i)?l=null:a!==null&&Vp(r,a)&&(e.flags|=32),T3(t,e),ln(t,e,l,n),e.child;case 6:return t===null&&Qp(e),null;case 13:return j3(t,e,n);case 4:return Ng(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=So(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),Yy(t,e,r,i,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,l=i.value,rt(Ed,r._currentValue),r._currentValue=l,a!==null)if(Pr(a.value,l)){if(a.children===i.children&&!Nn.current){e=wi(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var u=a.dependencies;if(u!==null){l=a.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=mi(-1,n&-n),d.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?d.next=d:(d.next=m.next,m.next=d),f.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),Yp(a.return,n,e),u.lanes|=n;break}d=d.next}}else if(a.tag===10)l=a.type===e.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(Z(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Yp(l,n,e),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===e){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ao(e,n),i=rr(i),r=r(i),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,i=vr(r,e.pendingProps),i=vr(r.type,i),Xy(t,e,r,i,n);case 15:return b3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vr(r,i),ad(t,e),e.tag=1,bn(r)?(t=!0,Sd(e)):t=!1,ao(e,n),k3(e,r,i),qp(e,r,i,n),e1(null,e,r,!0,t,n);case 19:return M3(t,e,n);case 22:return P3(t,e,n)}throw Error(Z(156,e.tag))};function Q3(t,e){return w4(t,e)}function B7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,e,n,r){return new B7(t,e,n,r)}function Gg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V7(t){if(typeof t=="function")return Gg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ag)return 11;if(t===og)return 14}return 2}function gs(t,e){var n=t.alternate;return n===null?(n=tr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ud(t,e,n,r,i,a){var l=2;if(r=t,typeof t=="function")Gg(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Ha:return sa(n.children,i,a,e);case sg:l=8,i|=8;break;case wp:return t=tr(12,n,e,i|2),t.elementType=wp,t.lanes=a,t;case Sp:return t=tr(13,n,e,i),t.elementType=Sp,t.lanes=a,t;case Cp:return t=tr(19,n,e,i),t.elementType=Cp,t.lanes=a,t;case i4:return lh(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case n4:l=10;break e;case r4:l=9;break e;case ag:l=11;break e;case og:l=14;break e;case Ki:l=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=tr(l,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function sa(t,e,n,r){return t=tr(7,t,r,e),t.lanes=n,t}function lh(t,e,n,r){return t=tr(22,t,r,e),t.elementType=i4,t.lanes=n,t.stateNode={isHidden:!1},t}function np(t,e,n){return t=tr(6,t,null,e),t.lanes=n,t}function rp(t,e,n){return e=tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function W7(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=D0(0),this.expirationTimes=D0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bg(t,e,n,r,i,a,l,u,d){return t=new W7(t,e,n,u,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=tr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eg(a),t}function H7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Y3(t){if(!t)return vs;t=t._reactInternals;e:{if(fa(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(bn(n))return Y4(t,n,e)}return e}function X3(t,e,n,r,i,a,l,u,d){return t=Bg(n,r,!0,t,i,a,l,u,d),t.context=Y3(null),n=t.current,r=cn(),i=ps(n),a=mi(r,i),a.callback=e??null,hs(n,a,i),t.current.lanes=i,pu(t,i,r),Pn(t,r),t}function uh(t,e,n,r){var i=e.current,a=cn(),l=ps(i);return n=Y3(n),e.context===null?e.context=n:e.pendingContext=n,e=mi(a,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hs(i,e,l),t!==null&&(Nr(t,i,l,a),rd(t,i,l)),l}function Ld(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vg(t,e){lv(t,e),(t=t.alternate)&&lv(t,e)}function $7(){return null}var q3=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wg(t){this._internalRoot=t}ch.prototype.render=Wg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));uh(t,e,null,null)};ch.prototype.unmount=Wg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ca(function(){uh(null,t,null,null)}),e[xi]=null}};function ch(t){this._internalRoot=t}ch.prototype.unstable_scheduleHydration=function(t){if(t){var e=P4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xi.length&&e!==0&&e<Xi[n].priority;n++);Xi.splice(n,0,t),n===0&&R4(t)}};function Hg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uv(){}function K7(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var f=Ld(l);a.call(f)}}var l=X3(e,r,t,0,null,!1,!1,"",uv);return t._reactRootContainer=l,t[xi]=l.current,Ql(t.nodeType===8?t.parentNode:t),ca(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=Ld(d);u.call(f)}}var d=Bg(t,0,!1,null,null,!1,!1,"",uv);return t._reactRootContainer=d,t[xi]=d.current,Ql(t.nodeType===8?t.parentNode:t),ca(function(){uh(e,d,n,r)}),d}function hh(t,e,n,r,i){var a=n._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var u=i;i=function(){var d=Ld(l);u.call(d)}}uh(e,l,t,i)}else l=K7(n,e,t,i,r);return Ld(l)}N4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nl(e.pendingLanes);n!==0&&(cg(e,n|1),Pn(e,Et()),!(Ue&6)&&(Eo=Et()+500,ks()))}break;case 13:ca(function(){var r=_i(t,1);if(r!==null){var i=cn();Nr(r,t,1,i)}}),Vg(t,1)}};dg=function(t){if(t.tag===13){var e=_i(t,134217728);if(e!==null){var n=cn();Nr(e,t,134217728,n)}Vg(t,134217728)}};b4=function(t){if(t.tag===13){var e=ps(t),n=_i(t,e);if(n!==null){var r=cn();Nr(n,t,e,r)}Vg(t,e)}};P4=function(){return Xe};T4=function(t,e){var n=Xe;try{return Xe=t,e()}finally{Xe=n}};Op=function(t,e,n){switch(e){case"input":if(Np(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nh(r);if(!i)throw Error(Z(90));a4(r),Np(r,i)}}}break;case"textarea":l4(t,n);break;case"select":e=n.value,e!=null&&no(t,!!n.multiple,e,!1)}};g4=Ig;m4=ca;var Q7={usingClientEntryPoint:!1,Events:[mu,Ya,nh,f4,p4,Ig]},_l={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y7={bundleType:_l.bundleType,version:_l.version,rendererPackageName:_l.rendererPackageName,rendererConfig:_l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=x4(t),t===null?null:t.stateNode},findFiberByHostInstance:_l.findFiberByHostInstance||$7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Zd=Gc.inject(Y7),Kr=Gc}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q7;zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hg(e))throw Error(Z(200));return H7(t,e,null,n)};zn.createRoot=function(t,e){if(!Hg(t))throw Error(Z(299));var n=!1,r="",i=q3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Bg(t,1,!1,null,null,n,!1,r,i),t[xi]=e.current,Ql(t.nodeType===8?t.parentNode:t),new Wg(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=x4(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return ca(t)};zn.hydrate=function(t,e,n){if(!dh(e))throw Error(Z(200));return hh(null,t,e,!0,n)};zn.hydrateRoot=function(t,e,n){if(!Hg(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",l=q3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=X3(e,null,t,1,n??null,i,!1,a,l),t[xi]=e.current,Ql(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ch(e)};zn.render=function(t,e,n){if(!dh(e))throw Error(Z(200));return hh(null,t,e,!1,n)};zn.unmountComponentAtNode=function(t){if(!dh(t))throw Error(Z(40));return t._reactRootContainer?(ca(function(){hh(null,null,t,!1,function(){t._reactRootContainer=null,t[xi]=null})}),!0):!1};zn.unstable_batchedUpdates=Ig;zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dh(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return hh(t,e,n,!1,r)};zn.version="18.3.1-next-f1338f8080-20240426";function Z3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z3)}catch(t){console.error(t)}}Z3(),Z5.exports=zn;var $g=Z5.exports;const X7=hu($g);var cv=$g;xp.createRoot=cv.createRoot,xp.hydrateRoot=cv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fd.apply(this,arguments)}var os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(os||(os={}));const dv="popstate";function q7(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return h1("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:e6(i)}return J7(e,n,null,t)}function Tn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function J3(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z7(){return Math.random().toString(36).substr(2,8)}function hv(t,e){return{usr:t.state,key:t.key,idx:e}}function h1(t,e,n,r){return n===void 0&&(n=null),Fd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fh(e):e,{state:n,key:e&&e.key||r||Z7()})}function e6(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function J7(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u=os.Pop,d=null,f=m();f==null&&(f=0,l.replaceState(Fd({},l.state,{idx:f}),""));function m(){return(l.state||{idx:null}).idx}function S(){u=os.Pop;let b=m(),k=b==null?null:b-f;f=b,d&&d({action:u,location:N.location,delta:k})}function v(b,k){u=os.Push;let E=h1(N.location,b,k);n&&n(E,b),f=m()+1;let g=hv(E,f),C=N.createHref(E);try{l.pushState(g,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(C)}a&&d&&d({action:u,location:N.location,delta:1})}function y(b,k){u=os.Replace;let E=h1(N.location,b,k);n&&n(E,b),f=m();let g=hv(E,f),C=N.createHref(E);l.replaceState(g,"",C),a&&d&&d({action:u,location:N.location,delta:0})}function w(b){let k=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof b=="string"?b:e6(b);return E=E.replace(/ $/,"%20"),Tn(k,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,k)}let N={get action(){return u},get location(){return t(i,l)},listen(b){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(dv,S),d=b,()=>{i.removeEventListener(dv,S),d=null}},createHref(b){return e(i,b)},createURL:w,encodeLocation(b){let k=w(b);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:y,go(b){return l.go(b)}};return N}var fv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fv||(fv={}));function e_(t,e,n){return n===void 0&&(n="/"),t_(t,e,n,!1)}function t_(t,e,n,r){let i=typeof e=="string"?fh(e):e,a=r6(i.pathname||"/",n);if(a==null)return null;let l=t6(t);n_(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=f_(a);u=d_(l[d],f,r)}return u}function t6(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Tn(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=lo([r,d.relativePath]),m=n.concat(d);a.children&&a.children.length>0&&(Tn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),t6(a.children,e,m,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:u_(f,a.index),routesMeta:m})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let d of n6(a.path))i(a,l,d)}),e}function n6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=n6(r.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function n_(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:c_(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const r_=/^:[\w-]+$/,i_=3,s_=2,a_=1,o_=10,l_=-2,pv=t=>t==="*";function u_(t,e){let n=t.split("/"),r=n.length;return n.some(pv)&&(r+=l_),e&&(r+=s_),n.filter(i=>!pv(i)).reduce((i,a)=>i+(r_.test(a)?i_:a===""?a_:o_),r)}function c_(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function d_(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},a="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",S=gv({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),v=d.route;if(!S&&f&&n&&!r[r.length-1].route.index&&(S=gv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!S)return null;Object.assign(i,S.params),l.push({params:i,pathname:lo([a,S.pathname]),pathnameBase:p_(lo([a,S.pathnameBase])),route:v}),S.pathnameBase!=="/"&&(a=lo([a,S.pathnameBase]))}return l}function gv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=h_(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,m,S)=>{let{paramName:v,isOptional:y}=m;if(v==="*"){let N=u[S]||"";l=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const w=u[S];return y&&!w?f[v]=void 0:f[v]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function h_(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),J3(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function f_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return J3(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function r6(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const lo=t=>t.join("/").replace(/\/\/+/g,"/"),p_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function g_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const i6=["post","put","patch","delete"];new Set(i6);const m_=["get",...i6];new Set(m_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dd.apply(this,arguments)}const y_=M.createContext(null),v_=M.createContext(null),s6=M.createContext(null),ph=M.createContext(null),vu=M.createContext({outlet:null,matches:[],isDataRoute:!1}),a6=M.createContext(null);function Kg(){return M.useContext(ph)!=null}function x_(){return Kg()||Tn(!1),M.useContext(ph).location}const __=M.createContext(null);function w_(t){let e=M.useContext(vu).outlet;return e&&M.createElement(__.Provider,{value:t},e)}function S_(t,e){return C_(t,e)}function C_(t,e,n,r){Kg()||Tn(!1);let{navigator:i}=M.useContext(s6),{matches:a}=M.useContext(vu),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=x_(),m;if(e){var S;let b=typeof e=="string"?fh(e):e;d==="/"||(S=b.pathname)!=null&&S.startsWith(d)||Tn(!1),m=b}else m=f;let v=m.pathname||"/",y=v;if(d!=="/"){let b=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=e_(t,{pathname:y}),N=P_(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:lo([d,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:lo([d,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return e&&N?M.createElement(ph.Provider,{value:{location:Dd({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:os.Pop}},N):N}function k_(){let t=M_(),e=g_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,a)}const E_=M.createElement(k_,null);class N_ extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(vu.Provider,{value:this.props.routeContext},M.createElement(a6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function b_(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(y_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(vu.Provider,{value:e},r)}function P_(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let m=l.findIndex(S=>S.route.id&&(u==null?void 0:u[S.route.id])!==void 0);m>=0||Tn(!1),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let S=l[m];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(f=m),S.route.id){let{loaderData:v,errors:y}=n,w=S.route.loader&&v[S.route.id]===void 0&&(!y||y[S.route.id]===void 0);if(S.route.lazy||w){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((m,S,v)=>{let y,w=!1,N=null,b=null;n&&(y=u&&S.route.id?u[S.route.id]:void 0,N=S.route.errorElement||E_,d&&(f<0&&v===0?(O_("route-fallback",!1),w=!0,b=null):f===v&&(w=!0,b=S.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,v+1)),E=()=>{let g;return y?g=N:w?g=b:S.route.Component?g=M.createElement(S.route.Component,null):S.route.element?g=S.route.element:g=m,M.createElement(b_,{match:S,routeContext:{outlet:m,matches:k,isDataRoute:n!=null},children:g})};return n&&(S.route.ErrorBoundary||S.route.errorElement||v===0)?M.createElement(N_,{location:n.location,revalidation:n.revalidation,component:N,error:y,children:E(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):E()},null)}var f1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(f1||{});function T_(t){let e=M.useContext(v_);return e||Tn(!1),e}function R_(t){let e=M.useContext(vu);return e||Tn(!1),e}function j_(t){let e=R_(),n=e.matches[e.matches.length-1];return n.route.id||Tn(!1),n.route.id}function M_(){var t;let e=M.useContext(a6),n=T_(f1.UseRouteError),r=j_(f1.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const mv={};function O_(t,e,n){!e&&!mv[t]&&(mv[t]=!0)}function A_(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function L_(t){return w_(t.context)}function Ks(t){Tn(!1)}function F_(t){let{basename:e="/",children:n=null,location:r,navigationType:i=os.Pop,navigator:a,static:l=!1,future:u}=t;Kg()&&Tn(!1);let d=e.replace(/^\/*/,"/"),f=M.useMemo(()=>({basename:d,navigator:a,static:l,future:Dd({v7_relativeSplatPath:!1},u)}),[d,u,a,l]);typeof r=="string"&&(r=fh(r));let{pathname:m="/",search:S="",hash:v="",state:y=null,key:w="default"}=r,N=M.useMemo(()=>{let b=r6(m,d);return b==null?null:{location:{pathname:b,search:S,hash:v,state:y,key:w},navigationType:i}},[d,m,S,v,y,w,i]);return N==null?null:M.createElement(s6.Provider,{value:f},M.createElement(ph.Provider,{children:n,value:N}))}function D_(t){let{children:e,location:n}=t;return S_(p1(e),n)}new Promise(()=>{});function p1(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let a=[...e,i];if(r.type===M.Fragment){n.push.apply(n,p1(r.props.children,a));return}r.type!==Ks&&Tn(!1),!r.props.index||!r.props.children||Tn(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=p1(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const I_="6";try{window.__reactRouterVersion=I_}catch{}const z_="startTransition",yv=U9[z_];function U_(t){let{basename:e,children:n,future:r,window:i}=t,a=M.useRef();a.current==null&&(a.current=q7({window:i,v5Compat:!0}));let l=a.current,[u,d]=M.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},m=M.useCallback(S=>{f&&yv?yv(()=>d(S)):d(S)},[d,f]);return M.useLayoutEffect(()=>l.listen(m),[l,m]),M.useEffect(()=>A_(r),[r]),M.createElement(F_,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}var vv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vv||(vv={}));var xv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xv||(xv={}));var gh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},G_={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ji,q1,M5,B_=(M5=class{constructor(){ze(this,Ji,G_);ze(this,q1,!1)}setTimeoutProvider(t){Ce(this,Ji,t)}setTimeout(t,e){return H(this,Ji).setTimeout(t,e)}clearTimeout(t){H(this,Ji).clearTimeout(t)}setInterval(t,e){return H(this,Ji).setInterval(t,e)}clearInterval(t){H(this,Ji).clearInterval(t)}},Ji=new WeakMap,q1=new WeakMap,M5),g1=new B_;function V_(t){setTimeout(t,0)}var mh=typeof window>"u"||"Deno"in globalThis;function xr(){}function W_(t,e){return typeof t=="function"?t(e):t}function H_(t){return typeof t=="number"&&t>=0&&t!==1/0}function $_(t,e){return Math.max(t+(e||0)-Date.now(),0)}function m1(t,e){return typeof t=="function"?t(e):t}function K_(t,e){return typeof t=="function"?t(e):t}function _v(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:l,stale:u}=t;if(l){if(r){if(e.queryHash!==Qg(l,e.options))return!1}else if(!iu(e.queryKey,l))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||a&&!a(e))}function wv(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(ru(e.options.mutationKey)!==ru(a))return!1}else if(!iu(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Qg(t,e){return((e==null?void 0:e.queryKeyHashFn)||ru)(t)}function ru(t){return JSON.stringify(t,(e,n)=>y1(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function iu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>iu(t[n],e[n])):!1}var Q_=Object.prototype.hasOwnProperty;function o6(t,e){if(t===e)return t;const n=Sv(t)&&Sv(e);if(!n&&!(y1(t)&&y1(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),l=a.length,u=n?new Array(l):{};let d=0;for(let f=0;f<l;f++){const m=n?f:a[f],S=t[m],v=e[m];if(S===v){u[m]=S,(n?f<i:Q_.call(t,m))&&d++;continue}if(S===null||v===null||typeof S!="object"||typeof v!="object"){u[m]=v;continue}const y=o6(S,v);u[m]=y,y===S&&d++}return i===l&&d===i?t:u}function Sv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function y1(t){if(!Cv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Cv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Cv(t){return Object.prototype.toString.call(t)==="[object Object]"}function Y_(t){return new Promise(e=>{g1.setTimeout(e,t)})}function X_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?o6(t,e):e}function q_(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Z_(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Yg=Symbol();function l6(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Yg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Zs,es,co,O5,J_=(O5=class extends gh{constructor(){super();ze(this,Zs,void 0);ze(this,es,void 0);ze(this,co,void 0);Ce(this,co,e=>{if(!mh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,es)||this.setEventListener(H(this,co))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,es))==null||e.call(this),Ce(this,es,void 0))}setEventListener(e){var n;Ce(this,co,e),(n=H(this,es))==null||n.call(this),Ce(this,es,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){H(this,Zs)!==e&&(Ce(this,Zs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof H(this,Zs)=="boolean"?H(this,Zs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Zs=new WeakMap,es=new WeakMap,co=new WeakMap,O5),u6=new J_;function ew(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var tw=V_;function nw(){let t=[],e=0,n=u=>{u()},r=u=>{u()},i=tw;const a=u=>{e?t.push(u):i(()=>{n(u)})},l=()=>{const u=t;t=[],u.length&&i(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||l()}return d},batchCalls:u=>(...d)=>{a(()=>{u(...d)})},schedule:a,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{i=u}}}var un=nw(),ho,ts,fo,A5,rw=(A5=class extends gh{constructor(){super();ze(this,ho,!0);ze(this,ts,void 0);ze(this,fo,void 0);Ce(this,fo,e=>{if(!mh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,ts)||this.setEventListener(H(this,fo))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,ts))==null||e.call(this),Ce(this,ts,void 0))}setEventListener(e){var n;Ce(this,fo,e),(n=H(this,ts))==null||n.call(this),Ce(this,ts,e(this.setOnline.bind(this)))}setOnline(e){H(this,ho)!==e&&(Ce(this,ho,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return H(this,ho)}},ho=new WeakMap,ts=new WeakMap,fo=new WeakMap,A5),Id=new rw;function iw(t){return Math.min(1e3*2**t,3e4)}function c6(t){return(t??"online")==="online"?Id.isOnline():!0}var v1=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function d6(t){let e=!1,n=0,r;const i=ew(),a=()=>i.status!=="pending",l=N=>{var b;if(!a()){const k=new v1(N);v(k),(b=t.onCancel)==null||b.call(t,k)}},u=()=>{e=!0},d=()=>{e=!1},f=()=>u6.isFocused()&&(t.networkMode==="always"||Id.isOnline())&&t.canRun(),m=()=>c6(t.networkMode)&&t.canRun(),S=N=>{a()||(r==null||r(),i.resolve(N))},v=N=>{a()||(r==null||r(),i.reject(N))},y=()=>new Promise(N=>{var b;r=k=>{(a()||f())&&N(k)},(b=t.onPause)==null||b.call(t)}).then(()=>{var N;r=void 0,a()||(N=t.onContinue)==null||N.call(t)}),w=()=>{if(a())return;let N;const b=n===0?t.initialPromise:void 0;try{N=b??t.fn()}catch(k){N=Promise.reject(k)}Promise.resolve(N).then(S).catch(k=>{var R;if(a())return;const E=t.retry??(mh?0:3),g=t.retryDelay??iw,C=typeof g=="function"?g(n,k):g,T=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,k);if(e||!T){v(k);return}n++,(R=t.onFail)==null||R.call(t,n,k),Y_(C).then(()=>f()?void 0:y()).then(()=>{e?v(k):w()})})};return{promise:i,status:()=>i.status,cancel:l,continue:()=>(r==null||r(),i),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?w():y().then(w),i)}}var Js,L5,h6=(L5=class{constructor(){ze(this,Js,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),H_(this.gcTime)&&Ce(this,Js,g1.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(mh?1/0:5*60*1e3))}clearGcTimeout(){H(this,Js)&&(g1.clearTimeout(H(this,Js)),Ce(this,Js,void 0))}},Js=new WeakMap,L5),ea,po,Zn,ta,Ut,cu,na,_r,li,F5,sw=(F5=class extends h6{constructor(e){super();ze(this,_r);ze(this,ea,void 0);ze(this,po,void 0);ze(this,Zn,void 0);ze(this,ta,void 0);ze(this,Ut,void 0);ze(this,cu,void 0);ze(this,na,void 0);Ce(this,na,!1),Ce(this,cu,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ce(this,ta,e.client),Ce(this,Zn,H(this,ta).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ce(this,ea,kv(this.options)),this.state=e.state??H(this,ea),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=H(this,Ut))==null?void 0:e.promise}setOptions(e){if(this.options={...H(this,cu),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=kv(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Ce(this,ea,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,Zn).remove(this)}setData(e,n){const r=X_(this.state.data,e,this.options);return Jt(this,_r,li).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Jt(this,_r,li).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=H(this,Ut))==null?void 0:r.promise;return(i=H(this,Ut))==null||i.cancel(e),n?n.then(xr).catch(xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,ea))}isActive(){return this.observers.some(e=>K_(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>m1(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!$_(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=H(this,Ut))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=H(this,Ut))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),H(this,Zn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(H(this,Ut)&&(H(this,na)?H(this,Ut).cancel({revert:!0}):H(this,Ut).cancelRetry()),this.scheduleGc()),H(this,Zn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Jt(this,_r,li).call(this,{type:"invalidate"})}async fetch(e,n){var d,f,m,S,v,y,w,N,b,k,E,g;if(this.state.fetchStatus!=="idle"&&((d=H(this,Ut))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(H(this,Ut))return H(this,Ut).continueRetry(),H(this,Ut).promise}if(e&&this.setOptions(e),!this.options.queryFn){const C=this.observers.find(T=>T.options.queryFn);C&&this.setOptions(C.options)}const r=new AbortController,i=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(Ce(this,na,!0),r.signal)})},a=()=>{const C=l6(this.options,n),R=(()=>{const L={client:H(this,ta),queryKey:this.queryKey,meta:this.meta};return i(L),L})();return Ce(this,na,!1),this.options.persister?this.options.persister(C,R,this):C(R)},u=(()=>{const C={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:H(this,ta),state:this.state,fetchFn:a};return i(C),C})();(f=this.options.behavior)==null||f.onFetch(u,this),Ce(this,po,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=u.fetchOptions)==null?void 0:m.meta))&&Jt(this,_r,li).call(this,{type:"fetch",meta:(S=u.fetchOptions)==null?void 0:S.meta}),Ce(this,Ut,d6({initialPromise:n==null?void 0:n.initialPromise,fn:u.fetchFn,onCancel:C=>{C instanceof v1&&C.revert&&this.setState({...H(this,po),fetchStatus:"idle"}),r.abort()},onFail:(C,T)=>{Jt(this,_r,li).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{Jt(this,_r,li).call(this,{type:"pause"})},onContinue:()=>{Jt(this,_r,li).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}));try{const C=await H(this,Ut).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(y=(v=H(this,Zn).config).onSuccess)==null||y.call(v,C,this),(N=(w=H(this,Zn).config).onSettled)==null||N.call(w,C,this.state.error,this),C}catch(C){if(C instanceof v1){if(C.silent)return H(this,Ut).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw Jt(this,_r,li).call(this,{type:"error",error:C}),(k=(b=H(this,Zn).config).onError)==null||k.call(b,C,this),(g=(E=H(this,Zn).config).onSettled)==null||g.call(E,this.state.data,C,this),C}finally{this.scheduleGc()}}},ea=new WeakMap,po=new WeakMap,Zn=new WeakMap,ta=new WeakMap,Ut=new WeakMap,cu=new WeakMap,na=new WeakMap,_r=new WeakSet,li=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...aw(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ce(this,po,e.manual?i:void 0),i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),H(this,Zn).notify({query:this,type:"updated",action:e})})},F5);function aw(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:c6(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function kv(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Ev(t){return{onFetch:(e,n)=>{var m,S,v,y,w;const r=e.options,i=(v=(S=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:S.fetchMore)==null?void 0:v.direction,a=((y=e.state.data)==null?void 0:y.pages)||[],l=((w=e.state.data)==null?void 0:w.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let N=!1;const b=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?N=!0:e.signal.addEventListener("abort",()=>{N=!0}),e.signal)})},k=l6(e.options,e.fetchOptions),E=async(g,C,T)=>{if(N)return Promise.reject();if(C==null&&g.pages.length)return Promise.resolve(g);const L=(()=>{const B={client:e.client,queryKey:e.queryKey,pageParam:C,direction:T?"backward":"forward",meta:e.options.meta};return b(B),B})(),j=await k(L),{maxPages:I}=e.options,O=T?Z_:q_;return{pages:O(g.pages,j,I),pageParams:O(g.pageParams,C,I)}};if(i&&a.length){const g=i==="backward",C=g?ow:Nv,T={pages:a,pageParams:l},R=C(r,T);u=await E(T,R,g)}else{const g=t??a.length;do{const C=d===0?l[0]??r.initialPageParam:Nv(r,u);if(d>0&&C==null)break;u=await E(u,C),d++}while(d<g)}return u};e.options.persister?e.fetchFn=()=>{var N,b;return(b=(N=e.options).persister)==null?void 0:b.call(N,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=f}}}function Nv(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function ow(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Br,on,ra,Vr,Hi,D5,lw=(D5=class extends h6{constructor(e){super();ze(this,Vr);ze(this,Br,void 0);ze(this,on,void 0);ze(this,ra,void 0);this.mutationId=e.mutationId,Ce(this,on,e.mutationCache),Ce(this,Br,[]),this.state=e.state||uw(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){H(this,Br).includes(e)||(H(this,Br).push(e),this.clearGcTimeout(),H(this,on).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ce(this,Br,H(this,Br).filter(n=>n!==e)),this.scheduleGc(),H(this,on).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){H(this,Br).length||(this.state.status==="pending"?this.scheduleGc():H(this,on).remove(this))}continue(){var e;return((e=H(this,ra))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,l,u,d,f,m,S,v,y,w,N,b,k,E,g,C,T,R,L,j;const n=()=>{Jt(this,Vr,Hi).call(this,{type:"continue"})};Ce(this,ra,d6({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,O)=>{Jt(this,Vr,Hi).call(this,{type:"failed",failureCount:I,error:O})},onPause:()=>{Jt(this,Vr,Hi).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,on).canRun(this)}));const r=this.state.status==="pending",i=!H(this,ra).canStart();try{if(r)n();else{Jt(this,Vr,Hi).call(this,{type:"pending",variables:e,isPaused:i}),await((l=(a=H(this,on).config).onMutate)==null?void 0:l.call(a,e,this));const O=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,e));O!==this.state.context&&Jt(this,Vr,Hi).call(this,{type:"pending",context:O,variables:e,isPaused:i})}const I=await H(this,ra).start();return await((m=(f=H(this,on).config).onSuccess)==null?void 0:m.call(f,I,e,this.state.context,this)),await((v=(S=this.options).onSuccess)==null?void 0:v.call(S,I,e,this.state.context)),await((w=(y=H(this,on).config).onSettled)==null?void 0:w.call(y,I,null,this.state.variables,this.state.context,this)),await((b=(N=this.options).onSettled)==null?void 0:b.call(N,I,null,e,this.state.context)),Jt(this,Vr,Hi).call(this,{type:"success",data:I}),I}catch(I){try{throw await((E=(k=H(this,on).config).onError)==null?void 0:E.call(k,I,e,this.state.context,this)),await((C=(g=this.options).onError)==null?void 0:C.call(g,I,e,this.state.context)),await((R=(T=H(this,on).config).onSettled)==null?void 0:R.call(T,void 0,I,this.state.variables,this.state.context,this)),await((j=(L=this.options).onSettled)==null?void 0:j.call(L,void 0,I,e,this.state.context)),I}finally{Jt(this,Vr,Hi).call(this,{type:"error",error:I})}}finally{H(this,on).runNext(this)}}},Br=new WeakMap,on=new WeakMap,ra=new WeakMap,Vr=new WeakSet,Hi=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),un.batch(()=>{H(this,Br).forEach(r=>{r.onMutationUpdate(e)}),H(this,on).notify({mutation:this,type:"updated",action:e})})},D5);function uw(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hi,wr,du,I5,cw=(I5=class extends gh{constructor(e={}){super();ze(this,hi,void 0);ze(this,wr,void 0);ze(this,du,void 0);this.config=e,Ce(this,hi,new Set),Ce(this,wr,new Map),Ce(this,du,0)}build(e,n,r){const i=new lw({mutationCache:this,mutationId:++kc(this,du)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){H(this,hi).add(e);const n=Bc(e);if(typeof n=="string"){const r=H(this,wr).get(n);r?r.push(e):H(this,wr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(H(this,hi).delete(e)){const n=Bc(e);if(typeof n=="string"){const r=H(this,wr).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&H(this,wr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Bc(e);if(typeof n=="string"){const r=H(this,wr).get(n),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Bc(e);if(typeof n=="string"){const i=(r=H(this,wr).get(n))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){un.batch(()=>{H(this,hi).forEach(e=>{this.notify({type:"removed",mutation:e})}),H(this,hi).clear(),H(this,wr).clear()})}getAll(){return Array.from(H(this,hi))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>wv(n,r))}findAll(e={}){return this.getAll().filter(n=>wv(e,n))}notify(e){un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return un.batch(()=>Promise.all(e.map(n=>n.continue().catch(xr))))}},hi=new WeakMap,wr=new WeakMap,du=new WeakMap,I5);function Bc(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Wr,z5,dw=(z5=class extends gh{constructor(e={}){super();ze(this,Wr,void 0);this.config=e,Ce(this,Wr,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??Qg(i,n);let l=this.get(a);return l||(l=new sw({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(l)),l}add(e){H(this,Wr).has(e.queryHash)||(H(this,Wr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=H(this,Wr).get(e.queryHash);n&&(e.destroy(),n===e&&H(this,Wr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,Wr).get(e)}getAll(){return[...H(this,Wr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>_v(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>_v(e,r)):n}notify(e){un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){un.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){un.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wr=new WeakMap,z5),vt,ns,rs,go,mo,is,yo,vo,U5,hw=(U5=class{constructor(t={}){ze(this,vt,void 0);ze(this,ns,void 0);ze(this,rs,void 0);ze(this,go,void 0);ze(this,mo,void 0);ze(this,is,void 0);ze(this,yo,void 0);ze(this,vo,void 0);Ce(this,vt,t.queryCache||new dw),Ce(this,ns,t.mutationCache||new cw),Ce(this,rs,t.defaultOptions||{}),Ce(this,go,new Map),Ce(this,mo,new Map),Ce(this,is,0)}mount(){kc(this,is)._++,H(this,is)===1&&(Ce(this,yo,u6.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,vt).onFocus())})),Ce(this,vo,Id.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,vt).onOnline())})))}unmount(){var t,e;kc(this,is)._--,H(this,is)===0&&((t=H(this,yo))==null||t.call(this),Ce(this,yo,void 0),(e=H(this,vo))==null||e.call(this),Ce(this,vo,void 0))}isFetching(t){return H(this,vt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return H(this,ns).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,vt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=H(this,vt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(m1(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return H(this,vt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=H(this,vt).get(r.queryHash),a=i==null?void 0:i.state.data,l=W_(e,a);if(l!==void 0)return H(this,vt).build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return un.batch(()=>H(this,vt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,vt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=H(this,vt);un.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=H(this,vt);return un.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=un.batch(()=>H(this,vt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(xr).catch(xr)}invalidateQueries(t,e={}){return un.batch(()=>(H(this,vt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=un.batch(()=>H(this,vt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(xr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(xr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=H(this,vt).build(this,e);return n.isStaleByTime(m1(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xr).catch(xr)}fetchInfiniteQuery(t){return t.behavior=Ev(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xr).catch(xr)}ensureInfiniteQueryData(t){return t.behavior=Ev(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Id.isOnline()?H(this,ns).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,vt)}getMutationCache(){return H(this,ns)}getDefaultOptions(){return H(this,rs)}setDefaultOptions(t){Ce(this,rs,t)}setQueryDefaults(t,e){H(this,go).set(ru(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...H(this,go).values()],n={};return e.forEach(r=>{iu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){H(this,mo).set(ru(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...H(this,mo).values()],n={};return e.forEach(r=>{iu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...H(this,rs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Qg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Yg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...H(this,rs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){H(this,vt).clear(),H(this,ns).clear()}},vt=new WeakMap,ns=new WeakMap,rs=new WeakMap,go=new WeakMap,mo=new WeakMap,is=new WeakMap,yo=new WeakMap,vo=new WeakMap,U5),fw=M.createContext(void 0),pw=({client:t,children:e})=>(M.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),_.jsx(fw.Provider,{value:t,children:e})),gw=function(){return null},mw=t=>{switch(t){case"success":return xw;case"info":return ww;case"warning":return _w;case"error":return Sw;default:return null}},yw=Array(12).fill(0),vw=({visible:t,className:e})=>q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},q.createElement("div",{className:"sonner-spinner"},yw.map((n,r)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),xw=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_w=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ww=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Sw=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Cw=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),kw=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},x1=1,Ew=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:x1++,a=this.toasts.find(u=>u.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...t,id:i,title:n}),{...u,...t,id:i,dismissible:l,title:n}):u):this.addToast({title:n,...r,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,a,l=r.then(async d=>{if(a=["resolve",d],q.isValidElement(d))i=!1,this.create({id:n,type:"default",message:d});else if(bw(d)&&!d.ok){i=!1;let f=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,m=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description;this.create({id:n,type:"error",message:f,description:m})}else if(e.success!==void 0){i=!1;let f=typeof e.success=="function"?await e.success(d):e.success,m=typeof e.description=="function"?await e.description(d):e.description;this.create({id:n,type:"success",message:f,description:m})}}).catch(async d=>{if(a=["reject",d],e.error!==void 0){i=!1;let f=typeof e.error=="function"?await e.error(d):e.error,m=typeof e.description=="function"?await e.description(d):e.description;this.create({id:n,type:"error",message:f,description:m})}}).finally(()=>{var d;i&&(this.dismiss(n),n=void 0),(d=e.finally)==null||d.call(e)}),u=()=>new Promise((d,f)=>l.then(()=>a[0]==="reject"?f(a[1]):d(a[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||x1++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Cn=new Ew,Nw=(t,e)=>{let n=(e==null?void 0:e.id)||x1++;return Cn.addToast({title:t,...e,id:n}),n},bw=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Pw=Nw,Tw=()=>Cn.toasts,Rw=()=>Cn.getActiveToasts();Object.assign(Pw,{success:Cn.success,info:Cn.info,warning:Cn.warning,error:Cn.error,custom:Cn.custom,message:Cn.message,promise:Cn.promise,dismiss:Cn.dismiss,loading:Cn.loading},{getHistory:Tw,getToasts:Rw});function jw(t,{insertAt:e}={}){if(!t||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}jw(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vc(t){return t.label!==void 0}var Mw=3,Ow="32px",Aw="16px",bv=4e3,Lw=356,Fw=14,Dw=20,Iw=200;function mr(...t){return t.filter(Boolean).join(" ")}function zw(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Uw=t=>{var e,n,r,i,a,l,u,d,f,m,S;let{invert:v,toast:y,unstyled:w,interacting:N,setHeights:b,visibleToasts:k,heights:E,index:g,toasts:C,expanded:T,removeToast:R,defaultRichColors:L,closeButton:j,style:I,cancelButtonStyle:O,actionButtonStyle:B,className:z="",descriptionClassName:K="",duration:ne,position:te,gap:ge,loadingIcon:me,expandByDefault:W,classNames:$,icons:X,closeButtonAriaLabel:ce="Close toast",pauseWhenPageIsHidden:Q}=t,[fe,Se]=q.useState(null),[Ae,Ge]=q.useState(null),[A,Y]=q.useState(!1),[de,Ie]=q.useState(!1),[ve,Ke]=q.useState(!1),[qe,Gn]=q.useState(!1),[Ye,or]=q.useState(!1),[Rn,Bn]=q.useState(0),[df,Pi]=q.useState(0),Ms=q.useRef(y.duration||ne||bv),Eu=q.useRef(null),Zr=q.useRef(null),Os=g===0,hf=g+1<=k,pn=y.type,Ti=y.dismissible!==!1,ff=y.className||"",pf=y.descriptionClassName||"",Ca=q.useMemo(()=>E.findIndex(xe=>xe.toastId===y.id)||0,[E,y.id]),gf=q.useMemo(()=>{var xe;return(xe=y.closeButton)!=null?xe:j},[y.closeButton,j]),Nu=q.useMemo(()=>y.duration||ne||bv,[y.duration,ne]),$o=q.useRef(0),Ri=q.useRef(0),bu=q.useRef(0),ji=q.useRef(null),[Pu,mf]=te.split("-"),Tu=q.useMemo(()=>E.reduce((xe,Qe,Ze)=>Ze>=Ca?xe:xe+Qe.height,0),[E,Ca]),Ru=kw(),yf=y.invert||v,Ko=pn==="loading";Ri.current=q.useMemo(()=>Ca*ge+Tu,[Ca,Tu]),q.useEffect(()=>{Ms.current=Nu},[Nu]),q.useEffect(()=>{Y(!0)},[]),q.useEffect(()=>{let xe=Zr.current;if(xe){let Qe=xe.getBoundingClientRect().height;return Pi(Qe),b(Ze=>[{toastId:y.id,height:Qe,position:y.position},...Ze]),()=>b(Ze=>Ze.filter(gn=>gn.toastId!==y.id))}},[b,y.id]),q.useLayoutEffect(()=>{if(!A)return;let xe=Zr.current,Qe=xe.style.height;xe.style.height="auto";let Ze=xe.getBoundingClientRect().height;xe.style.height=Qe,Pi(Ze),b(gn=>gn.find(mn=>mn.toastId===y.id)?gn.map(mn=>mn.toastId===y.id?{...mn,height:Ze}:mn):[{toastId:y.id,height:Ze,position:y.position},...gn])},[A,y.title,y.description,b,y.id]);let Rr=q.useCallback(()=>{Ie(!0),Bn(Ri.current),b(xe=>xe.filter(Qe=>Qe.toastId!==y.id)),setTimeout(()=>{R(y)},Iw)},[y,R,b,Ri]);q.useEffect(()=>{if(y.promise&&pn==="loading"||y.duration===1/0||y.type==="loading")return;let xe;return T||N||Q&&Ru?(()=>{if(bu.current<$o.current){let Qe=new Date().getTime()-$o.current;Ms.current=Ms.current-Qe}bu.current=new Date().getTime()})():Ms.current!==1/0&&($o.current=new Date().getTime(),xe=setTimeout(()=>{var Qe;(Qe=y.onAutoClose)==null||Qe.call(y,y),Rr()},Ms.current)),()=>clearTimeout(xe)},[T,N,y,pn,Q,Ru,Rr]),q.useEffect(()=>{y.delete&&Rr()},[Rr,y.delete]);function ju(){var xe,Qe,Ze;return X!=null&&X.loading?q.createElement("div",{className:mr($==null?void 0:$.loader,(xe=y==null?void 0:y.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":pn==="loading"},X.loading):me?q.createElement("div",{className:mr($==null?void 0:$.loader,(Qe=y==null?void 0:y.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":pn==="loading"},me):q.createElement(vw,{className:mr($==null?void 0:$.loader,(Ze=y==null?void 0:y.classNames)==null?void 0:Ze.loader),visible:pn==="loading"})}return q.createElement("li",{tabIndex:0,ref:Zr,className:mr(z,ff,$==null?void 0:$.toast,(e=y==null?void 0:y.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[pn],(n=y==null?void 0:y.classNames)==null?void 0:n[pn]),"data-sonner-toast":"","data-rich-colors":(r=y.richColors)!=null?r:L,"data-styled":!(y.jsx||y.unstyled||w),"data-mounted":A,"data-promise":!!y.promise,"data-swiped":Ye,"data-removed":de,"data-visible":hf,"data-y-position":Pu,"data-x-position":mf,"data-index":g,"data-front":Os,"data-swiping":ve,"data-dismissible":Ti,"data-type":pn,"data-invert":yf,"data-swipe-out":qe,"data-swipe-direction":Ae,"data-expanded":!!(T||W&&A),style:{"--index":g,"--toasts-before":g,"--z-index":C.length-g,"--offset":`${de?Rn:Ri.current}px`,"--initial-height":W?"auto":`${df}px`,...I,...y.style},onDragEnd:()=>{Ke(!1),Se(null),ji.current=null},onPointerDown:xe=>{Ko||!Ti||(Eu.current=new Date,Bn(Ri.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(Ke(!0),ji.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,Qe,Ze,gn;if(qe||!Ti)return;ji.current=null;let mn=Number(((xe=Zr.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jr=Number(((Qe=Zr.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Jr=new Date().getTime()-((Ze=Eu.current)==null?void 0:Ze.getTime()),jn=fe==="x"?mn:jr,lr=Math.abs(jn)/Jr;if(Math.abs(jn)>=Dw||lr>.11){Bn(Ri.current),(gn=y.onDismiss)==null||gn.call(y,y),Ge(fe==="x"?mn>0?"right":"left":jr>0?"down":"up"),Rr(),Gn(!0),or(!1);return}Ke(!1),Se(null)},onPointerMove:xe=>{var Qe,Ze,gn,mn;if(!ji.current||!Ti||((Qe=window.getSelection())==null?void 0:Qe.toString().length)>0)return;let jr=xe.clientY-ji.current.y,Jr=xe.clientX-ji.current.x,jn=(Ze=t.swipeDirections)!=null?Ze:zw(te);!fe&&(Math.abs(Jr)>1||Math.abs(jr)>1)&&Se(Math.abs(Jr)>Math.abs(jr)?"x":"y");let lr={x:0,y:0};fe==="y"?(jn.includes("top")||jn.includes("bottom"))&&(jn.includes("top")&&jr<0||jn.includes("bottom")&&jr>0)&&(lr.y=jr):fe==="x"&&(jn.includes("left")||jn.includes("right"))&&(jn.includes("left")&&Jr<0||jn.includes("right")&&Jr>0)&&(lr.x=Jr),(Math.abs(lr.x)>0||Math.abs(lr.y)>0)&&or(!0),(gn=Zr.current)==null||gn.style.setProperty("--swipe-amount-x",`${lr.x}px`),(mn=Zr.current)==null||mn.style.setProperty("--swipe-amount-y",`${lr.y}px`)}},gf&&!y.jsx?q.createElement("button",{"aria-label":ce,"data-disabled":Ko,"data-close-button":!0,onClick:Ko||!Ti?()=>{}:()=>{var xe;Rr(),(xe=y.onDismiss)==null||xe.call(y,y)},className:mr($==null?void 0:$.closeButton,(i=y==null?void 0:y.classNames)==null?void 0:i.closeButton)},(a=X==null?void 0:X.close)!=null?a:Cw):null,y.jsx||M.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:q.createElement(q.Fragment,null,pn||y.icon||y.promise?q.createElement("div",{"data-icon":"",className:mr($==null?void 0:$.icon,(l=y==null?void 0:y.classNames)==null?void 0:l.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||ju():null,y.type!=="loading"?y.icon||(X==null?void 0:X[pn])||mw(pn):null):null,q.createElement("div",{"data-content":"",className:mr($==null?void 0:$.content,(u=y==null?void 0:y.classNames)==null?void 0:u.content)},q.createElement("div",{"data-title":"",className:mr($==null?void 0:$.title,(d=y==null?void 0:y.classNames)==null?void 0:d.title)},typeof y.title=="function"?y.title():y.title),y.description?q.createElement("div",{"data-description":"",className:mr(K,pf,$==null?void 0:$.description,(f=y==null?void 0:y.classNames)==null?void 0:f.description)},typeof y.description=="function"?y.description():y.description):null),M.isValidElement(y.cancel)?y.cancel:y.cancel&&Vc(y.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||O,onClick:xe=>{var Qe,Ze;Vc(y.cancel)&&Ti&&((Ze=(Qe=y.cancel).onClick)==null||Ze.call(Qe,xe),Rr())},className:mr($==null?void 0:$.cancelButton,(m=y==null?void 0:y.classNames)==null?void 0:m.cancelButton)},y.cancel.label):null,M.isValidElement(y.action)?y.action:y.action&&Vc(y.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||B,onClick:xe=>{var Qe,Ze;Vc(y.action)&&((Ze=(Qe=y.action).onClick)==null||Ze.call(Qe,xe),!xe.defaultPrevented&&Rr())},className:mr($==null?void 0:$.actionButton,(S=y==null?void 0:y.classNames)==null?void 0:S.actionButton)},y.action.label):null))};function Pv(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Gw(t,e){let n={};return[t,e].forEach((r,i)=>{let a=i===1,l=a?"--mobile-offset":"--offset",u=a?Aw:Ow;function d(f){["top","right","bottom","left"].forEach(m=>{n[`${l}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${l}-${f}`]=u:n[`${l}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):d(u)}),n}var Bw=M.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:l,className:u,offset:d,mobileOffset:f,theme:m="light",richColors:S,duration:v,style:y,visibleToasts:w=Mw,toastOptions:N,dir:b=Pv(),gap:k=Fw,loadingIcon:E,icons:g,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:T}=t,[R,L]=q.useState([]),j=q.useMemo(()=>Array.from(new Set([r].concat(R.filter(Q=>Q.position).map(Q=>Q.position)))),[R,r]),[I,O]=q.useState([]),[B,z]=q.useState(!1),[K,ne]=q.useState(!1),[te,ge]=q.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),me=q.useRef(null),W=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=q.useRef(null),X=q.useRef(!1),ce=q.useCallback(Q=>{L(fe=>{var Se;return(Se=fe.find(Ae=>Ae.id===Q.id))!=null&&Se.delete||Cn.dismiss(Q.id),fe.filter(({id:Ae})=>Ae!==Q.id)})},[]);return q.useEffect(()=>Cn.subscribe(Q=>{if(Q.dismiss){L(fe=>fe.map(Se=>Se.id===Q.id?{...Se,delete:!0}:Se));return}setTimeout(()=>{X7.flushSync(()=>{L(fe=>{let Se=fe.findIndex(Ae=>Ae.id===Q.id);return Se!==-1?[...fe.slice(0,Se),{...fe[Se],...Q},...fe.slice(Se+1)]:[Q,...fe]})})})}),[]),q.useEffect(()=>{if(m!=="system"){ge(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ge("dark"):ge("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:fe})=>{ge(fe?"dark":"light")})}catch{Q.addListener(({matches:Se})=>{try{ge(Se?"dark":"light")}catch(Ae){console.error(Ae)}})}},[m]),q.useEffect(()=>{R.length<=1&&z(!1)},[R]),q.useEffect(()=>{let Q=fe=>{var Se,Ae;i.every(Ge=>fe[Ge]||fe.code===Ge)&&(z(!0),(Se=me.current)==null||Se.focus()),fe.code==="Escape"&&(document.activeElement===me.current||(Ae=me.current)!=null&&Ae.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[i]),q.useEffect(()=>{if(me.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,X.current=!1)}},[me.current]),q.createElement("section",{ref:e,"aria-label":`${C} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},j.map((Q,fe)=>{var Se;let[Ae,Ge]=Q.split("-");return R.length?q.createElement("ol",{key:Q,dir:b==="auto"?Pv():b,tabIndex:-1,ref:me,className:u,"data-sonner-toaster":!0,"data-theme":te,"data-y-position":Ae,"data-lifted":B&&R.length>1&&!a,"data-x-position":Ge,style:{"--front-toast-height":`${((Se=I[0])==null?void 0:Se.height)||0}px`,"--width":`${Lw}px`,"--gap":`${k}px`,...y,...Gw(d,f)},onBlur:A=>{X.current&&!A.currentTarget.contains(A.relatedTarget)&&(X.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||X.current||(X.current=!0,$.current=A.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{K||z(!1)},onDragEnd:()=>z(!1),onPointerDown:A=>{A.target instanceof HTMLElement&&A.target.dataset.dismissible==="false"||ne(!0)},onPointerUp:()=>ne(!1)},R.filter(A=>!A.position&&fe===0||A.position===Q).map((A,Y)=>{var de,Ie;return q.createElement(Uw,{key:A.id,icons:g,index:Y,toast:A,defaultRichColors:S,duration:(de=N==null?void 0:N.duration)!=null?de:v,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:n,visibleToasts:w,closeButton:(Ie=N==null?void 0:N.closeButton)!=null?Ie:l,interacting:K,position:Q,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,removeToast:ce,toasts:R.filter(ve=>ve.position==A.position),heights:I.filter(ve=>ve.position==A.position),setHeights:O,expandByDefault:a,gap:k,loadingIcon:E,expanded:B,pauseWhenPageIsHidden:T,swipeDirections:t.swipeDirections})})):null}))});function Vw({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Ww=M.forwardRef(Vw),Hw=Ww;function $w({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const Kw=M.forwardRef($w),Qw=Kw;function Yw({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3"}))}const Xw=M.forwardRef(Yw),qw=Xw;function Zw({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}))}const Jw=M.forwardRef(Zw),eS=Jw;function tS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const nS=M.forwardRef(tS),Tv=nS;function rS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const iS=M.forwardRef(rS),sS=iS;function aS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const oS=M.forwardRef(aS),Rv=oS;function lS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const uS=M.forwardRef(lS),jv=uS;function cS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const dS=M.forwardRef(cS),f6=dS;function hS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"}))}const fS=M.forwardRef(hS),p6=fS;function pS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const gS=M.forwardRef(pS),mS=gS;function yS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const vS=M.forwardRef(yS),xS=vS;function _S({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const wS=M.forwardRef(_S),g6=wS;function SS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const CS=M.forwardRef(SS),kS=CS;function ES({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const NS=M.forwardRef(ES),bS=NS;function PS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM13.5 10.5h-6"}))}const TS=M.forwardRef(PS),RS=TS;function jS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM10.5 7.5v6m3-3h-6"}))}const MS=M.forwardRef(jS),OS=MS;function AS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const LS=M.forwardRef(AS),FS=LS;function DS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const IS=M.forwardRef(DS),m6=IS;function zS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 0 1-.657.643 48.39 48.39 0 0 1-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 0 1-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 0 0-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 0 1-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 0 0 .657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 0 1-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 0 0 5.427-.63 48.05 48.05 0 0 0 .582-4.717.532.532 0 0 0-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 0 0 .658-.663 48.422 48.422 0 0 0-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 0 1-.61-.58v0Z"}))}const US=M.forwardRef(zS),GS=US;function BS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const VS=M.forwardRef(BS),WS=VS;function HS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const $S=M.forwardRef(HS),KS=$S;function QS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 0 1 7.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 0 1 1.06 0Z"}))}const YS=M.forwardRef(QS),XS=YS;function qS({title:t,titleId:e,...n},r){return M.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?M.createElement("title",{id:e},t):null,M.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ZS=M.forwardRef(qS),_1=ZS,Mv=t=>{let e;const n=new Set,r=(m,S)=>{const v=typeof m=="function"?m(e):m;if(!Object.is(v,e)){const y=e;e=S??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(w=>w(e,y))}},i=()=>e,d={setState:r,getState:i,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{n.clear()}},f=e=t(r,i,d);return d},JS=t=>t?Mv(t):Mv;var y6={exports:{}},v6={},x6={exports:{}},_6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var No=M;function eC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tC=typeof Object.is=="function"?Object.is:eC,nC=No.useState,rC=No.useEffect,iC=No.useLayoutEffect,sC=No.useDebugValue;function aC(t,e){var n=e(),r=nC({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return iC(function(){i.value=n,i.getSnapshot=e,ip(i)&&a({inst:i})},[t,n,e]),rC(function(){return ip(i)&&a({inst:i}),t(function(){ip(i)&&a({inst:i})})},[t]),sC(n),n}function ip(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tC(t,n)}catch{return!0}}function oC(t,e){return e()}var lC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?oC:aC;_6.useSyncExternalStore=No.useSyncExternalStore!==void 0?No.useSyncExternalStore:lC;x6.exports=_6;var uC=x6.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=M,cC=uC;function dC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hC=typeof Object.is=="function"?Object.is:dC,fC=cC.useSyncExternalStore,pC=yh.useRef,gC=yh.useEffect,mC=yh.useMemo,yC=yh.useDebugValue;v6.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var a=pC(null);if(a.current===null){var l={hasValue:!1,value:null};a.current=l}else l=a.current;a=mC(function(){function d(y){if(!f){if(f=!0,m=y,y=r(y),i!==void 0&&l.hasValue){var w=l.value;if(i(w,y))return S=w}return S=y}if(w=S,hC(m,y))return w;var N=r(y);return i!==void 0&&i(w,N)?(m=y,w):(m=y,S=N)}var f=!1,m,S,v=n===void 0?null:n;return[function(){return d(e())},v===null?void 0:function(){return d(v())}]},[e,n,r,i]);var u=fC(t,a[0],a[1]);return gC(function(){l.hasValue=!0,l.value=u},[u]),yC(u),u};y6.exports=v6;var vC=y6.exports;const xC=hu(vC),{useDebugValue:_C}=q,{useSyncExternalStoreWithSelector:wC}=xC;const SC=t=>t;function CC(t,e=SC,n){const r=wC(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return _C(r),r}const Ov=t=>{const e=typeof t=="function"?JS(t):t,n=(r,i)=>CC(e,r,i);return Object.assign(n,e),n},Xg=t=>t?Ov(t):Ov,w1=new Map,Wc=t=>{const e=w1.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,r])=>[n,r.getState()])):{}},kC=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const r=w1.get(n.name);if(r)return{type:"tracked",store:t,...r};const i={connection:e.connect(n),stores:{}};return w1.set(n.name,i),{type:"tracked",store:t,...i}},EC=(t,e={})=>(n,r,i)=>{const{enabled:a,anonymousActionType:l,store:u,...d}=e;let f;try{f=(a??!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!f)return t(n,r,i);const{connection:m,...S}=kC(u,f,d);let v=!0;i.setState=(N,b,k)=>{const E=n(N,b);if(!v)return E;const g=k===void 0?{type:l||"anonymous"}:typeof k=="string"?{type:k}:k;return u===void 0?(m==null||m.send(g,r()),E):(m==null||m.send({...g,type:`${u}/${g.type}`},{...Wc(d.name),[u]:i.getState()}),E)};const y=(...N)=>{const b=v;v=!1,n(...N),v=b},w=t(i.setState,r,i);if(S.type==="untracked"?m==null||m.init(w):(S.stores[S.store]=i,m==null||m.init(Object.fromEntries(Object.entries(S.stores).map(([N,b])=>[N,N===S.store?w:b.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let N=!1;const b=i.dispatch;i.dispatch=(...k)=>{b(...k)}}return m.subscribe(N=>{var b;switch(N.type){case"ACTION":if(typeof N.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return sp(N.payload,k=>{if(k.type==="__setState"){if(u===void 0){y(k.state);return}Object.keys(k.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const E=k.state[u];if(E==null)return;JSON.stringify(i.getState())!==JSON.stringify(E)&&y(E);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(k)});case"DISPATCH":switch(N.payload.type){case"RESET":return y(w),u===void 0?m==null?void 0:m.init(i.getState()):m==null?void 0:m.init(Wc(d.name));case"COMMIT":if(u===void 0){m==null||m.init(i.getState());return}return m==null?void 0:m.init(Wc(d.name));case"ROLLBACK":return sp(N.state,k=>{if(u===void 0){y(k),m==null||m.init(i.getState());return}y(k[u]),m==null||m.init(Wc(d.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return sp(N.state,k=>{if(u===void 0){y(k);return}JSON.stringify(i.getState())!==JSON.stringify(k[u])&&y(k[u])});case"IMPORT_STATE":{const{nextLiftedState:k}=N.payload,E=(b=k.computedStates.slice(-1)[0])==null?void 0:b.state;if(!E)return;y(u===void 0?E:E[u]),m==null||m.send(null,k);return}case"PAUSE_RECORDING":return v=!v}return}}),w},qg=EC,sp=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&e(n)};var He;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const l of i)a[l]=l;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),l={};for(const u of a)l[u]=i[u];return t.objectValues(l)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&a.push(l);return a},t.find=(i,a)=>{for(const l of i)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(He||(He={}));var Av;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Av||(Av={}));const ue=He.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yi=t=>{switch(typeof t){case"undefined":return ue.undefined;case"string":return ue.string;case"number":return Number.isNaN(t)?ue.nan:ue.number;case"boolean":return ue.boolean;case"function":return ue.function;case"bigint":return ue.bigint;case"symbol":return ue.symbol;case"object":return Array.isArray(t)?ue.array:t===null?ue.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ue.promise:typeof Map<"u"&&t instanceof Map?ue.map:typeof Set<"u"&&t instanceof Set?ue.set:typeof Date<"u"&&t instanceof Date?ue.date:ue.object;default:return ue.unknown}},ee=He.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Si extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let u=r,d=0;for(;d<l.path.length;){const f=l.path[d];d===l.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(l))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return i(this),r}static assert(e){if(!(e instanceof Si))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,He.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Si.create=t=>new Si(t);const NC=(t,e)=>{let n;switch(t.code){case ee.invalid_type:t.received===ue.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ee.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,He.jsonStringifyReplacer)}`;break;case ee.unrecognized_keys:n=`Unrecognized key(s) in object: ${He.joinValues(t.keys,", ")}`;break;case ee.invalid_union:n="Invalid input";break;case ee.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${He.joinValues(t.options)}`;break;case ee.invalid_enum_value:n=`Invalid enum value. Expected ${He.joinValues(t.options)}, received '${t.received}'`;break;case ee.invalid_arguments:n="Invalid function arguments";break;case ee.invalid_return_type:n="Invalid function return type";break;case ee.invalid_date:n="Invalid date";break;case ee.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:He.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ee.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ee.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ee.custom:n="Invalid input";break;case ee.invalid_intersection_types:n="Intersection results could not be merged";break;case ee.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ee.not_finite:n="Number must be finite";break;default:n=e.defaultError,He.assertNever(t)}return{message:n}},S1=NC;let bC=S1;function PC(){return bC}const TC=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],l={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let u="";const d=r.filter(f=>!!f).slice().reverse();for(const f of d)u=f(l,{data:e,defaultError:u}).message;return{...i,path:a,message:u}};function ie(t,e){const n=PC(),r=TC({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===S1?void 0:S1].filter(i=>!!i)});t.common.issues.push(r)}class dn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return ke;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,l=await i.value;r.push({key:a,value:l})}return dn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:l}=i;if(a.status==="aborted"||l.status==="aborted")return ke;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[a.value]=l.value)}return{status:e.value,value:r}}}const ke=Object.freeze({status:"aborted"}),Pl=t=>({status:"dirty",value:t}),sr=t=>({status:"valid",value:t}),Lv=t=>t.status==="aborted",Fv=t=>t.status==="dirty",bo=t=>t.status==="valid",zd=t=>typeof Promise<"u"&&t instanceof Promise;var he;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(he||(he={}));class Xr{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Dv=(t,e)=>{if(bo(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Si(t.common.issues);return this._error=n,this._error}}};function Pe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,u)=>{const{message:d}=t;return l.code==="invalid_enum_value"?{message:d??u.defaultError}:typeof u.data>"u"?{message:d??r??u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:d??n??u.defaultError}},description:i}}class Fe{get description(){return this._def.description}_getType(e){return Yi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Yi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new dn,ctx:{common:e.parent.common,data:e.data,parsedType:Yi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(zd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yi(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Dv(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yi(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return bo(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>bo(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yi(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(zd(i)?i:Promise.resolve(i));return Dv(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const l=e(i),u=()=>a.addIssue({code:ee.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new _s({schema:this,typeName:_e.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ms.create(this,this._def)}nullable(){return Mo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yr.create(this)}promise(){return Vd.create(this,this._def)}or(e){return Ud.create([this,e],this._def)}and(e){return Gd.create(this,e,this._def)}transform(e){return new _s({...Pe(this._def),schema:this,typeName:_e.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new L1({...Pe(this._def),innerType:this,defaultValue:n,typeName:_e.ZodDefault})}brand(){return new ZC({typeName:_e.ZodBranded,type:this,...Pe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new F1({...Pe(this._def),innerType:this,catchValue:n,typeName:_e.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Zg.create(this,e)}readonly(){return I1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const RC=/^c[^\s-]{8,}$/i,jC=/^[0-9a-z]+$/,MC=/^[0-9A-HJKMNP-TV-Z]{26}$/i,OC=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,AC=/^[a-z0-9_-]{21}$/i,LC=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,FC=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,DC=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,IC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ap;const zC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,UC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,GC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,BC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,WC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,w6="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",HC=new RegExp(`^${w6}$`);function S6(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function $C(t){return new RegExp(`^${S6(t)}$`)}function KC(t){let e=`${w6}T${S6(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function QC(t,e){return!!((e==="v4"||!e)&&zC.test(t)||(e==="v6"||!e)&&GC.test(t))}function YC(t,e){if(!LC.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function XC(t,e){return!!((e==="v4"||!e)&&UC.test(t)||(e==="v6"||!e)&&BC.test(t))}class gi extends Fe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ue.string){const a=this._getOrReturnCtx(e);return ie(a,{code:ee.invalid_type,expected:ue.string,received:a.parsedType}),ke}const r=new dn;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),ie(i,{code:ee.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),ie(i,{code:ee.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,u=e.data.length<a.value;(l||u)&&(i=this._getOrReturnCtx(e,i),l?ie(i,{code:ee.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&ie(i,{code:ee.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")DC.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"email",code:ee.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")ap||(ap=new RegExp(IC,"u")),ap.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"emoji",code:ee.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")OC.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"uuid",code:ee.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")AC.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"nanoid",code:ee.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")RC.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"cuid",code:ee.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")jC.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"cuid2",code:ee.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")MC.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"ulid",code:ee.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ie(i,{validation:"url",code:ee.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"regex",code:ee.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),ie(i,{code:ee.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),ie(i,{code:ee.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),ie(i,{code:ee.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?KC(a).test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{code:ee.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?HC.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{code:ee.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?$C(a).test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{code:ee.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?FC.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"duration",code:ee.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?QC(e.data,a.version)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"ip",code:ee.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?YC(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"jwt",code:ee.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?XC(e.data,a.version)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"cidr",code:ee.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?VC.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"base64",code:ee.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?WC.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"base64url",code:ee.invalid_string,message:a.message}),r.dirty()):He.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:ee.invalid_string,...he.errToObj(r)})}_addCheck(e){return new gi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...he.errToObj(e)})}url(e){return this._addCheck({kind:"url",...he.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...he.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...he.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...he.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...he.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...he.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...he.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...he.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...he.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...he.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...he.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...he.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...he.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...he.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...he.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...he.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...he.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...he.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...he.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...he.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...he.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...he.errToObj(n)})}nonempty(e){return this.min(1,he.errToObj(e))}trim(){return new gi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}gi.create=t=>new gi({checks:[],typeName:_e.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Pe(t)});function qC(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(t.toFixed(i).replace(".","")),l=Number.parseInt(e.toFixed(i).replace(".",""));return a%l/10**i}class Po extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ue.number){const a=this._getOrReturnCtx(e);return ie(a,{code:ee.invalid_type,expected:ue.number,received:a.parsedType}),ke}let r;const i=new dn;for(const a of this._def.checks)a.kind==="int"?He.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{code:ee.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:ee.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:ee.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?qC(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),ie(r,{code:ee.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{code:ee.not_finite,message:a.message}),i.dirty()):He.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,he.toString(n))}gt(e,n){return this.setLimit("min",e,!1,he.toString(n))}lte(e,n){return this.setLimit("max",e,!0,he.toString(n))}lt(e,n){return this.setLimit("max",e,!1,he.toString(n))}setLimit(e,n,r,i){return new Po({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:he.toString(i)}]})}_addCheck(e){return new Po({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:he.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:he.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:he.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:he.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:he.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&He.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Po.create=t=>new Po({checks:[],typeName:_e.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Pe(t)});class To extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ue.bigint)return this._getInvalidInput(e);let r;const i=new dn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:ee.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:ee.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:ee.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):He.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ie(n,{code:ee.invalid_type,expected:ue.bigint,received:n.parsedType}),ke}gte(e,n){return this.setLimit("min",e,!0,he.toString(n))}gt(e,n){return this.setLimit("min",e,!1,he.toString(n))}lte(e,n){return this.setLimit("max",e,!0,he.toString(n))}lt(e,n){return this.setLimit("max",e,!1,he.toString(n))}setLimit(e,n,r,i){return new To({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:he.toString(i)}]})}_addCheck(e){return new To({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:he.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:he.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:he.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:he.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:he.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}To.create=t=>new To({checks:[],typeName:_e.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Pe(t)});class C1 extends Fe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ue.boolean){const r=this._getOrReturnCtx(e);return ie(r,{code:ee.invalid_type,expected:ue.boolean,received:r.parsedType}),ke}return sr(e.data)}}C1.create=t=>new C1({typeName:_e.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Pe(t)});class su extends Fe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ue.date){const a=this._getOrReturnCtx(e);return ie(a,{code:ee.invalid_type,expected:ue.date,received:a.parsedType}),ke}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return ie(a,{code:ee.invalid_date}),ke}const r=new dn;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),ie(i,{code:ee.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),ie(i,{code:ee.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):He.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new su({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:he.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:he.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}su.create=t=>new su({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:_e.ZodDate,...Pe(t)});class k1 extends Fe{_parse(e){if(this._getType(e)!==ue.symbol){const r=this._getOrReturnCtx(e);return ie(r,{code:ee.invalid_type,expected:ue.symbol,received:r.parsedType}),ke}return sr(e.data)}}k1.create=t=>new k1({typeName:_e.ZodSymbol,...Pe(t)});class E1 extends Fe{_parse(e){if(this._getType(e)!==ue.undefined){const r=this._getOrReturnCtx(e);return ie(r,{code:ee.invalid_type,expected:ue.undefined,received:r.parsedType}),ke}return sr(e.data)}}E1.create=t=>new E1({typeName:_e.ZodUndefined,...Pe(t)});class N1 extends Fe{_parse(e){if(this._getType(e)!==ue.null){const r=this._getOrReturnCtx(e);return ie(r,{code:ee.invalid_type,expected:ue.null,received:r.parsedType}),ke}return sr(e.data)}}N1.create=t=>new N1({typeName:_e.ZodNull,...Pe(t)});class b1 extends Fe{constructor(){super(...arguments),this._any=!0}_parse(e){return sr(e.data)}}b1.create=t=>new b1({typeName:_e.ZodAny,...Pe(t)});class P1 extends Fe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return sr(e.data)}}P1.create=t=>new P1({typeName:_e.ZodUnknown,...Pe(t)});class xs extends Fe{_parse(e){const n=this._getOrReturnCtx(e);return ie(n,{code:ee.invalid_type,expected:ue.never,received:n.parsedType}),ke}}xs.create=t=>new xs({typeName:_e.ZodNever,...Pe(t)});class T1 extends Fe{_parse(e){if(this._getType(e)!==ue.undefined){const r=this._getOrReturnCtx(e);return ie(r,{code:ee.invalid_type,expected:ue.void,received:r.parsedType}),ke}return sr(e.data)}}T1.create=t=>new T1({typeName:_e.ZodVoid,...Pe(t)});class Yr extends Fe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ue.array)return ie(n,{code:ee.invalid_type,expected:ue.array,received:n.parsedType}),ke;if(i.exactLength!==null){const l=n.data.length>i.exactLength.value,u=n.data.length<i.exactLength.value;(l||u)&&(ie(n,{code:l?ee.too_big:ee.too_small,minimum:u?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ie(n,{code:ee.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ie(n,{code:ee.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,u)=>i.type._parseAsync(new Xr(n,l,n.path,u)))).then(l=>dn.mergeArray(r,l));const a=[...n.data].map((l,u)=>i.type._parseSync(new Xr(n,l,n.path,u)));return dn.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Yr({...this._def,minLength:{value:e,message:he.toString(n)}})}max(e,n){return new Yr({...this._def,maxLength:{value:e,message:he.toString(n)}})}length(e,n){return new Yr({...this._def,exactLength:{value:e,message:he.toString(n)}})}nonempty(e){return this.min(1,e)}}Yr.create=(t,e)=>new Yr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:_e.ZodArray,...Pe(e)});function Va(t){if(t instanceof xt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ms.create(Va(r))}return new xt({...t._def,shape:()=>e})}else return t instanceof Yr?new Yr({...t._def,type:Va(t.element)}):t instanceof ms?ms.create(Va(t.unwrap())):t instanceof Mo?Mo.create(Va(t.unwrap())):t instanceof da?da.create(t.items.map(e=>Va(e))):t}class xt extends Fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=He.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ue.object){const f=this._getOrReturnCtx(e);return ie(f,{code:ee.invalid_type,expected:ue.object,received:f.parsedType}),ke}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof xs&&this._def.unknownKeys==="strip"))for(const f in i.data)l.includes(f)||u.push(f);const d=[];for(const f of l){const m=a[f],S=i.data[f];d.push({key:{status:"valid",value:f},value:m._parse(new Xr(i,S,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof xs){const f=this._def.unknownKeys;if(f==="passthrough")for(const m of u)d.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(f==="strict")u.length>0&&(ie(i,{code:ee.unrecognized_keys,keys:u}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const m of u){const S=i.data[m];d.push({key:{status:"valid",value:m},value:f._parse(new Xr(i,S,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const m of d){const S=await m.key,v=await m.value;f.push({key:S,value:v,alwaysSet:m.alwaysSet})}return f}).then(f=>dn.mergeObjectSync(r,f)):dn.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return he.errToObj,new xt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,l;const i=((l=(a=this._def).errorMap)==null?void 0:l.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:he.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new xt({...this._def,unknownKeys:"strip"})}passthrough(){return new xt({...this._def,unknownKeys:"passthrough"})}extend(e){return new xt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:_e.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new xt({...this._def,catchall:e})}pick(e){const n={};for(const r of He.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new xt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of He.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new xt({...this._def,shape:()=>n})}deepPartial(){return Va(this)}partial(e){const n={};for(const r of He.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new xt({...this._def,shape:()=>n})}required(e){const n={};for(const r of He.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof ms;)a=a._def.innerType;n[r]=a}return new xt({...this._def,shape:()=>n})}keyof(){return C6(He.objectKeys(this.shape))}}xt.create=(t,e)=>new xt({shape:()=>t,unknownKeys:"strip",catchall:xs.create(),typeName:_e.ZodObject,...Pe(e)});xt.strictCreate=(t,e)=>new xt({shape:()=>t,unknownKeys:"strict",catchall:xs.create(),typeName:_e.ZodObject,...Pe(e)});xt.lazycreate=(t,e)=>new xt({shape:t,unknownKeys:"strip",catchall:xs.create(),typeName:_e.ZodObject,...Pe(e)});class Ud extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const l=a.map(u=>new Si(u.ctx.common.issues));return ie(n,{code:ee.invalid_union,unionErrors:l}),ke}if(n.common.async)return Promise.all(r.map(async a=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(i);{let a;const l=[];for(const d of r){const f={...n,common:{...n.common,issues:[]},parent:null},m=d._parseSync({data:n.data,path:n.path,parent:f});if(m.status==="valid")return m;m.status==="dirty"&&!a&&(a={result:m,ctx:f}),f.common.issues.length&&l.push(f.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const u=l.map(d=>new Si(d));return ie(n,{code:ee.invalid_union,unionErrors:u}),ke}}get options(){return this._def.options}}Ud.create=(t,e)=>new Ud({options:t,typeName:_e.ZodUnion,...Pe(e)});function R1(t,e){const n=Yi(t),r=Yi(e);if(t===e)return{valid:!0,data:t};if(n===ue.object&&r===ue.object){const i=He.objectKeys(e),a=He.objectKeys(t).filter(u=>i.indexOf(u)!==-1),l={...t,...e};for(const u of a){const d=R1(t[u],e[u]);if(!d.valid)return{valid:!1};l[u]=d.data}return{valid:!0,data:l}}else if(n===ue.array&&r===ue.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const l=t[a],u=e[a],d=R1(l,u);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return n===ue.date&&r===ue.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Gd extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,l)=>{if(Lv(a)||Lv(l))return ke;const u=R1(a.value,l.value);return u.valid?((Fv(a)||Fv(l))&&n.dirty(),{status:n.value,value:u.data}):(ie(r,{code:ee.invalid_intersection_types}),ke)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,l])=>i(a,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Gd.create=(t,e,n)=>new Gd({left:t,right:e,typeName:_e.ZodIntersection,...Pe(n)});class da extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.array)return ie(r,{code:ee.invalid_type,expected:ue.array,received:r.parsedType}),ke;if(r.data.length<this._def.items.length)return ie(r,{code:ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ke;!this._def.rest&&r.data.length>this._def.items.length&&(ie(r,{code:ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((l,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new Xr(r,l,r.path,u)):null}).filter(l=>!!l);return r.common.async?Promise.all(a).then(l=>dn.mergeArray(n,l)):dn.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new da({...this._def,rest:e})}}da.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new da({items:t,typeName:_e.ZodTuple,rest:null,...Pe(e)})};class Bd extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.object)return ie(r,{code:ee.invalid_type,expected:ue.object,received:r.parsedType}),ke;const i=[],a=this._def.keyType,l=this._def.valueType;for(const u in r.data)i.push({key:a._parse(new Xr(r,u,r.path,u)),value:l._parse(new Xr(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?dn.mergeObjectAsync(n,i):dn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Fe?new Bd({keyType:e,valueType:n,typeName:_e.ZodRecord,...Pe(r)}):new Bd({keyType:gi.create(),valueType:e,typeName:_e.ZodRecord,...Pe(n)})}}class j1 extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.map)return ie(r,{code:ee.invalid_type,expected:ue.map,received:r.parsedType}),ke;const i=this._def.keyType,a=this._def.valueType,l=[...r.data.entries()].map(([u,d],f)=>({key:i._parse(new Xr(r,u,r.path,[f,"key"])),value:a._parse(new Xr(r,d,r.path,[f,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of l){const f=await d.key,m=await d.value;if(f.status==="aborted"||m.status==="aborted")return ke;(f.status==="dirty"||m.status==="dirty")&&n.dirty(),u.set(f.value,m.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of l){const f=d.key,m=d.value;if(f.status==="aborted"||m.status==="aborted")return ke;(f.status==="dirty"||m.status==="dirty")&&n.dirty(),u.set(f.value,m.value)}return{status:n.value,value:u}}}}j1.create=(t,e,n)=>new j1({valueType:e,keyType:t,typeName:_e.ZodMap,...Pe(n)});class Ro extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ue.set)return ie(r,{code:ee.invalid_type,expected:ue.set,received:r.parsedType}),ke;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ie(r,{code:ee.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ie(r,{code:ee.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function l(d){const f=new Set;for(const m of d){if(m.status==="aborted")return ke;m.status==="dirty"&&n.dirty(),f.add(m.value)}return{status:n.value,value:f}}const u=[...r.data.values()].map((d,f)=>a._parse(new Xr(r,d,r.path,f)));return r.common.async?Promise.all(u).then(d=>l(d)):l(u)}min(e,n){return new Ro({...this._def,minSize:{value:e,message:he.toString(n)}})}max(e,n){return new Ro({...this._def,maxSize:{value:e,message:he.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ro.create=(t,e)=>new Ro({valueType:t,minSize:null,maxSize:null,typeName:_e.ZodSet,...Pe(e)});class M1 extends Fe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}M1.create=(t,e)=>new M1({getter:t,typeName:_e.ZodLazy,...Pe(e)});class O1 extends Fe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ie(n,{received:n.data,code:ee.invalid_literal,expected:this._def.value}),ke}return{status:"valid",value:e.data}}get value(){return this._def.value}}O1.create=(t,e)=>new O1({value:t,typeName:_e.ZodLiteral,...Pe(e)});function C6(t,e){return new jo({values:t,typeName:_e.ZodEnum,...Pe(e)})}class jo extends Fe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ie(n,{expected:He.joinValues(r),received:n.parsedType,code:ee.invalid_type}),ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ie(n,{received:n.data,code:ee.invalid_enum_value,options:r}),ke}return sr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return jo.create(e,{...this._def,...n})}exclude(e,n=this._def){return jo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}jo.create=C6;class A1 extends Fe{_parse(e){const n=He.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ue.string&&r.parsedType!==ue.number){const i=He.objectValues(n);return ie(r,{expected:He.joinValues(i),received:r.parsedType,code:ee.invalid_type}),ke}if(this._cache||(this._cache=new Set(He.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=He.objectValues(n);return ie(r,{received:r.data,code:ee.invalid_enum_value,options:i}),ke}return sr(e.data)}get enum(){return this._def.values}}A1.create=(t,e)=>new A1({values:t,typeName:_e.ZodNativeEnum,...Pe(e)});class Vd extends Fe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ue.promise&&n.common.async===!1)return ie(n,{code:ee.invalid_type,expected:ue.promise,received:n.parsedType}),ke;const r=n.parsedType===ue.promise?n.data:Promise.resolve(n.data);return sr(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Vd.create=(t,e)=>new Vd({type:t,typeName:_e.ZodPromise,...Pe(e)});class _s extends Fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:l=>{ie(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const l=i.transform(r.data,a);if(r.common.async)return Promise.resolve(l).then(async u=>{if(n.value==="aborted")return ke;const d=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return d.status==="aborted"?ke:d.status==="dirty"||n.value==="dirty"?Pl(d.value):d});{if(n.value==="aborted")return ke;const u=this._def.schema._parseSync({data:l,path:r.path,parent:r});return u.status==="aborted"?ke:u.status==="dirty"||n.value==="dirty"?Pl(u.value):u}}if(i.type==="refinement"){const l=u=>{const d=i.refinement(u,a);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?ke:(u.status==="dirty"&&n.dirty(),l(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?ke:(u.status==="dirty"&&n.dirty(),l(u.value).then(()=>({status:n.value,value:u.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!bo(l))return ke;const u=i.transform(l.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>bo(l)?Promise.resolve(i.transform(l.value,a)).then(u=>({status:n.value,value:u})):ke);He.assertNever(i)}}_s.create=(t,e,n)=>new _s({schema:t,typeName:_e.ZodEffects,effect:e,...Pe(n)});_s.createWithPreprocess=(t,e,n)=>new _s({schema:e,effect:{type:"preprocess",transform:t},typeName:_e.ZodEffects,...Pe(n)});class ms extends Fe{_parse(e){return this._getType(e)===ue.undefined?sr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ms.create=(t,e)=>new ms({innerType:t,typeName:_e.ZodOptional,...Pe(e)});class Mo extends Fe{_parse(e){return this._getType(e)===ue.null?sr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mo.create=(t,e)=>new Mo({innerType:t,typeName:_e.ZodNullable,...Pe(e)});class L1 extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ue.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}L1.create=(t,e)=>new L1({innerType:t,typeName:_e.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Pe(e)});class F1 extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return zd(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Si(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Si(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}F1.create=(t,e)=>new F1({innerType:t,typeName:_e.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Pe(e)});class D1 extends Fe{_parse(e){if(this._getType(e)!==ue.nan){const r=this._getOrReturnCtx(e);return ie(r,{code:ee.invalid_type,expected:ue.nan,received:r.parsedType}),ke}return{status:"valid",value:e.data}}}D1.create=t=>new D1({typeName:_e.ZodNaN,...Pe(t)});class ZC extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Zg extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ke:a.status==="dirty"?(n.dirty(),Pl(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ke:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Zg({in:e,out:n,typeName:_e.ZodPipeline})}}class I1 extends Fe{_parse(e){const n=this._def.innerType._parse(e),r=i=>(bo(i)&&(i.value=Object.freeze(i.value)),i);return zd(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}I1.create=(t,e)=>new I1({innerType:t,typeName:_e.ZodReadonly,...Pe(e)});xt.lazycreate;var _e;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(_e||(_e={}));const Hc=gi.create,Zi=Po.create;D1.create;To.create;C1.create;su.create;k1.create;E1.create;N1.create;const JC=b1.create;P1.create;xs.create;T1.create;const ek=Yr.create,uo=xt.create;xt.strictCreate;Ud.create;Gd.create;da.create;const tk=Bd.create;j1.create;Ro.create;M1.create;const nk=O1.create,Wd=jo.create;A1.create;Vd.create;_s.create;ms.create;Mo.create;_s.createWithPreprocess;const rk=uo({units:Wd(["mm","inch"]).default("mm"),width:Zi().positive(),height:Zi().positive(),pitch:Zi().positive(),thread:Wd(["1/4-20","M6"]).default("1/4-20"),origin:uo({x:Zi().default(0),y:Zi().default(0)})}),ik=Wd(["laser.generic","mirror.generic","splitter.generic","camera.andor","motor.thorlabs.kdc101","stage.newport.esp","sensor.generic","spectrograph.andor.sr750"]),sk=uo({id:Hc(),type:ik,name:Hc(),pos:uo({x:Zi(),y:Zi(),angle:Zi().default(0)}),driver:uo({module:Hc().optional(),address:Hc().optional(),params:tk(JC()).optional()}).optional(),status:Wd(["green","red","gray"]).default("gray")});uo({version:nk("1"),table:rk,devices:ek(sk)});const Iv={version:"1",table:{units:"mm",width:900,height:600,pitch:25,thread:"1/4-20",origin:{x:0,y:0}},devices:[]},ak={version:"1",table:{units:"mm",width:900,height:600,pitch:25,thread:"1/4-20",origin:{x:0,y:0}},devices:[{id:"laser1",type:"laser.generic",name:"HeNe Laser",pos:{x:100,y:300,angle:0},status:"green"},{id:"mirrorA",type:"mirror.generic",name:"Mirror A",pos:{x:275,y:300,angle:45},status:"gray"},{id:"split1",type:"splitter.generic",name:"Beam Splitter",pos:{x:400,y:300,angle:0},status:"red"},{id:"cam1",type:"camera.andor",name:"Andor Cam",pos:{x:575,y:175,angle:0},status:"gray"},{id:"sr750",type:"spectrograph.andor.sr750",name:"SR-750",pos:{x:750,y:300,angle:0},status:"gray"}]},xu=Xg()(qg((t,e)=>({project:Iv,isDirty:!1,lastSaved:null,setProject:n=>t({project:n,isDirty:!1,lastSaved:new Date}),updateTable:n=>t(r=>({project:{...r.project,table:{...r.project.table,...n}},isDirty:!0})),addDevice:n=>t(r=>({project:{...r.project,devices:[...r.project.devices,n]},isDirty:!0})),updateDevice:(n,r)=>t(i=>({project:{...i.project,devices:i.project.devices.map(a=>a.id===n?{...a,...r}:a)},isDirty:!0})),removeDevice:n=>t(r=>({project:{...r.project,devices:r.project.devices.filter(i=>i.id!==n)},isDirty:!0})),removeDevices:n=>t(r=>({project:{...r.project,devices:r.project.devices.filter(i=>!n.includes(i.id))},isDirty:!0})),duplicateDevice:n=>{const r=e().getDevice(n);if(r){const i={...r,id:`${r.id}_copy_${Date.now()}`,name:`${r.name} (Copy)`,pos:{...r.pos,x:r.pos.x+50,y:r.pos.y+50}};e().addDevice(i)}},duplicateDevices:n=>{const i=n.map(a=>e().getDevice(a)).filter(Boolean).map(a=>({...a,id:`${a.id}_copy_${Date.now()}`,name:`${a.name} (Copy)`,pos:{...a.pos,x:a.pos.x+50,y:a.pos.y+50}}));t(a=>({project:{...a.project,devices:[...a.project.devices,...i]},isDirty:!0}))},moveDevice:(n,r)=>t(i=>({project:{...i.project,devices:i.project.devices.map(a=>a.id===n?{...a,pos:{...a.pos,...r}}:a)},isDirty:!0})),updateDevicePos:(n,r)=>t(i=>({project:{...i.project,devices:i.project.devices.map(a=>a.id===n?{...a,pos:{...a.pos,...r}}:a)},isDirty:!0})),rotateDevice:(n,r)=>t(i=>({project:{...i.project,devices:i.project.devices.map(a=>a.id===n?{...a,pos:{...a.pos,angle:r}}:a)},isDirty:!0})),setDeviceStatus:(n,r)=>t(i=>({project:{...i.project,devices:i.project.devices.map(a=>a.id===n?{...a,status:r}:a)},isDirty:!0})),newProject:()=>t({project:Iv,isDirty:!1,lastSaved:null}),loadSampleProject:()=>t({project:ak,isDirty:!1,lastSaved:null}),markDirty:()=>t({isDirty:!0}),markClean:()=>t({isDirty:!1,lastSaved:new Date}),getDevice:n=>e().project.devices.find(r=>r.id===n),getDevicesByType:n=>e().project.devices.filter(r=>r.type===n),getDevicesInArea:(n,r,i,a)=>e().project.devices.filter(l=>{const u=l.pos.x,d=l.pos.y;return u>=n&&u<=n+i&&d>=r&&d<=r+a})}),{name:"project-store"})),$c={x:0,y:0,scale:1},Jg=Xg()(qg(t=>({viewport:$c,isPanning:!1,isSelecting:!1,selectionBox:null,snapToGrid:!0,gridVisible:!0,minimapVisible:!0,sidebarLeftWidth:300,sidebarRightWidth:350,sidebarLeftCollapsed:!1,sidebarRightCollapsed:!1,commandPaletteOpen:!1,settingsOpen:!1,aboutOpen:!1,setViewport:e=>t(n=>({viewport:{...n.viewport,...e}})),resetViewport:()=>t({viewport:$c}),zoomIn:()=>t(e=>({viewport:{...e.viewport,scale:Math.min(e.viewport.scale*1.2,10)}})),zoomOut:()=>t(e=>({viewport:{...e.viewport,scale:Math.max(e.viewport.scale/1.2,.1)}})),zoomToFit:()=>{t({viewport:$c})},zoomToSelection:()=>{t({viewport:$c})},panTo:(e,n)=>t(r=>({viewport:{...r.viewport,x:e,y:n}})),startPanning:()=>t({isPanning:!0}),stopPanning:()=>t({isPanning:!1}),updatePan:(e,n)=>t(r=>({viewport:{...r.viewport,x:r.viewport.x+e,y:r.viewport.y+n}})),startSelection:(e,n)=>t({isSelecting:!0,selectionBox:{x:e,y:n,width:0,height:0}}),updateSelection:(e,n)=>t(r=>{if(!r.isSelecting||!r.selectionBox)return r;const i=r.selectionBox.x,a=r.selectionBox.y,l=e-i,u=n-a;return{selectionBox:{x:Math.min(i,e),y:Math.min(a,n),width:Math.abs(l),height:Math.abs(u)}}}),endSelection:()=>t({isSelecting:!1,selectionBox:null}),toggleSnapToGrid:()=>t(e=>({snapToGrid:!e.snapToGrid})),toggleGridVisible:()=>t(e=>({gridVisible:!e.gridVisible})),toggleMinimapVisible:()=>t(e=>({minimapVisible:!e.minimapVisible})),setSidebarLeftWidth:e=>t({sidebarLeftWidth:Math.max(200,Math.min(600,e))}),setSidebarRightWidth:e=>t({sidebarRightWidth:Math.max(200,Math.min(600,e))}),toggleSidebarLeft:()=>t(e=>({sidebarLeftCollapsed:!e.sidebarLeftCollapsed})),toggleSidebarRight:()=>t(e=>({sidebarRightCollapsed:!e.sidebarRightCollapsed})),openCommandPalette:()=>t({commandPaletteOpen:!0}),closeCommandPalette:()=>t({commandPaletteOpen:!1}),openSettings:()=>t({settingsOpen:!0}),closeSettings:()=>t({settingsOpen:!1}),openAbout:()=>t({aboutOpen:!0}),closeAbout:()=>t({aboutOpen:!1})}),{name:"ui-store"}));function k6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=k6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=k6(t))&&(r&&(r+=" "),r+=e);return r}const Le=M.forwardRef(({variant:t="primary",size:e="md",className:n,children:r,...i},a)=>{const l="inline-flex items-center justify-center font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-brand-600 text-white hover:bg-brand-700 focus:ring-brand-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"text-gray-600 hover:bg-gray-100 focus:ring-gray-500"},d={sm:"px-2 py-1 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-2 text-base"};return _.jsx("button",{ref:a,className:kr(l,u[t],d[e],n),...i,children:r})});Le.displayName="Button";function ok({isOpen:t,onClose:e,title:n,children:r,size:i="md",className:a}){const l=M.useRef(null);if(M.useEffect(()=>{const d=f=>{f.key==="Escape"&&e()};return t&&(document.addEventListener("keydown",d),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",d),document.body.style.overflow="unset"}},[t,e]),M.useEffect(()=>{t&&l.current&&l.current.focus()},[t]),!t)return null;const u={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return $g.createPortal(_.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:e}),_.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:_.jsxs("div",{ref:l,className:kr("relative bg-white rounded-lg shadow-xl w-full",u[i],a),onClick:d=>d.stopPropagation(),children:[n&&_.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[_.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n}),_.jsx(Le,{variant:"ghost",size:"sm",onClick:e,className:"p-1",children:_.jsx(_1,{className:"w-5 h-5"})})]}),_.jsx("div",{className:"p-6",children:r})]})})]}),document.body)}const kt={NEW:"Ctrl+N",OPEN:"Ctrl+O",SAVE:"Ctrl+S",SAVE_AS:"Ctrl+Shift+S",UNDO:"Ctrl+Z",REDO:"Ctrl+Shift+Z",CUT:"Ctrl+X",COPY:"Ctrl+C",PASTE:"Ctrl+V",DELETE:"Delete",DUPLICATE:"Ctrl+D",ZOOM_IN:"Ctrl+=",ZOOM_OUT:"Ctrl+-",ZOOM_FIT:"Ctrl+0",ZOOM_100:"Ctrl+1",TOGGLE_GRID:"Ctrl+G",TOGGLE_SNAP:"Ctrl+Shift+S",TOGGLE_LEFT_SIDEBAR:"Ctrl+B",TOGGLE_RIGHT_SIDEBAR:"Ctrl+Shift+B",SELECT_ALL:"Ctrl+A",DESELECT:"Escape",ROTATE:"R",ROTATE_REVERSE:"Shift+R",COMMAND_PALETTE:"Ctrl+K",RUN_WORKFLOW:"F5",STOP_WORKFLOW:"Escape",PAUSE_WORKFLOW:"F6"};function lk(t){const e=[];t.ctrlKey&&e.push("Ctrl"),t.shiftKey&&e.push("Shift"),t.altKey&&e.push("Alt"),t.metaKey&&e.push("Meta");let n=t.key;return n===" "&&(n="Space"),n==="ArrowUp"&&(n="Up"),n==="ArrowDown"&&(n="Down"),n==="ArrowLeft"&&(n="Left"),n==="ArrowRight"&&(n="Right"),e.push(n),e.join("+")}function uk(t){return e=>{const n=lk(e),r=t[n];r&&(e.preventDefault(),r())}}const ck=[{id:"new-project",title:"New Project",description:"Create a new project",shortcut:kt.NEW,icon:"📄",category:"File",action:()=>{}},{id:"open-project",title:"Open Project",description:"Open an existing project",shortcut:kt.OPEN,icon:"📂",category:"File",action:()=>{}},{id:"save-project",title:"Save Project",description:"Save the current project",shortcut:kt.SAVE,icon:"💾",category:"File",action:()=>{}},{id:"undo",title:"Undo",description:"Undo last action",shortcut:kt.UNDO,icon:"↶",category:"Edit",action:()=>{}},{id:"redo",title:"Redo",description:"Redo last action",shortcut:kt.REDO,icon:"↷",category:"Edit",action:()=>{}},{id:"duplicate",title:"Duplicate",description:"Duplicate selected devices",shortcut:kt.DUPLICATE,icon:"📋",category:"Edit",action:()=>{}},{id:"zoom-fit",title:"Fit to Screen",description:"Fit all devices to screen",shortcut:kt.ZOOM_FIT,icon:"🔍",category:"View",action:()=>{}},{id:"toggle-grid",title:"Toggle Grid",description:"Show/hide grid",shortcut:kt.TOGGLE_GRID,icon:"⊞",category:"View",action:()=>{}},{id:"toggle-snap",title:"Toggle Snap",description:"Enable/disable grid snapping",shortcut:kt.TOGGLE_SNAP,icon:"🧲",category:"View",action:()=>{}},{id:"toggle-left-sidebar",title:"Toggle Left Sidebar",description:"Show/hide left sidebar",shortcut:kt.TOGGLE_LEFT_SIDEBAR,icon:"📋",category:"View",action:()=>{}},{id:"toggle-right-sidebar",title:"Toggle Right Sidebar",description:"Show/hide right sidebar",shortcut:kt.TOGGLE_RIGHT_SIDEBAR,icon:"📋",category:"View",action:()=>{}},{id:"run-workflow",title:"Run Workflow",description:"Start workflow execution",shortcut:kt.RUN_WORKFLOW,icon:"▶️",category:"Workflow",action:()=>{}},{id:"stop-workflow",title:"Stop Workflow",description:"Stop workflow execution",shortcut:kt.STOP_WORKFLOW,icon:"⏹️",category:"Workflow",action:()=>{}}];function dk(t,e){if(!e.trim())return t;const n=e.toLowerCase();return t.filter(r=>{var i;return r.title.toLowerCase().includes(n)||((i=r.description)==null?void 0:i.toLowerCase().includes(n))||r.category.toLowerCase().includes(n)})}function hk(t){return t.reduce((e,n)=>(e[n.category]||(e[n.category]=[]),e[n.category].push(n),e),{})}function fk({isOpen:t,onClose:e}){const[n,r]=M.useState(""),[i,a]=M.useState(0),l=M.useRef(null),u=M.useRef(null),d=dk(ck,n),f=hk(d);M.useEffect(()=>{t&&l.current&&l.current.focus()},[t]),M.useEffect(()=>{r(""),a(0)},[t]),M.useEffect(()=>{const S=v=>{if(t)switch(v.key){case"ArrowDown":v.preventDefault(),a(y=>Math.min(y+1,d.length-1));break;case"ArrowUp":v.preventDefault(),a(y=>Math.max(y-1,0));break;case"Enter":v.preventDefault(),d[i]&&(d[i].action(),e());break;case"Escape":v.preventDefault(),e();break}};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[t,d,i,e]),M.useEffect(()=>{if(u.current){const S=u.current.querySelector(`[data-index="${i}"]`);S&&S.scrollIntoView({block:"nearest"})}},[i]);const m=S=>{S.action(),e()};return _.jsx(ok,{isOpen:t,onClose:e,size:"lg",className:"max-w-2xl",children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"relative",children:[_.jsx(FS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),_.jsx("input",{ref:l,type:"text",placeholder:"Type a command or search...",value:n,onChange:S=>r(S.target.value),className:"w-full pl-10 pr-4 py-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),_.jsx("div",{className:"max-h-96 overflow-y-auto",ref:u,children:Object.keys(f).length===0?_.jsxs("div",{className:"text-center py-8 text-gray-500",children:[_.jsx(p6,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),_.jsx("p",{children:"No commands found"})]}):Object.entries(f).map(([S,v])=>_.jsxs("div",{className:"mb-4",children:[_.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:S}),_.jsx("div",{className:"space-y-1",children:v.map(y=>{const w=d.findIndex(b=>b.id===y.id),N=w===i;return _.jsxs("button",{"data-index":w,onClick:()=>m(y),className:kr("w-full flex items-center gap-3 px-3 py-2 text-left rounded-lg transition-colors",N?"bg-brand-50 text-brand-700":"hover:bg-gray-50 text-gray-700"),children:[_.jsx("div",{className:"flex-shrink-0",children:y.icon&&_.jsx("span",{className:"text-lg",children:y.icon})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("div",{className:"font-medium",children:y.title}),y.description&&_.jsx("div",{className:"text-sm text-gray-500 truncate",children:y.description})]}),y.shortcut&&_.jsx("div",{className:"flex-shrink-0 text-xs text-gray-400 font-mono",children:y.shortcut}),_.jsx(Hw,{className:"w-4 h-4 text-gray-400"})]},y.id)})})]},S))}),_.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-2 border-t border-gray-200",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("span",{children:"↑↓ Navigate"}),_.jsx("span",{children:"↵ Select"}),_.jsx("span",{children:"⎋ Close"})]}),_.jsxs("div",{children:[d.length," command",d.length!==1?"s":""]})]})]})})}function pk(){const[t,e]=M.useState(!1),{project:n,isDirty:r,newProject:i,markClean:a}=xu(),{zoomIn:l,zoomOut:u,zoomToFit:d,toggleSnapToGrid:f,snapToGrid:m,openCommandPalette:S,openSettings:v,openAbout:y,sidebarLeftCollapsed:w,sidebarRightCollapsed:N,toggleSidebarLeft:b,toggleSidebarRight:k}=Jg(),E=()=>{r?confirm("You have unsaved changes. Are you sure you want to create a new project?")&&i():i()},g=async()=>{console.log("Saving project:",n),a()},C=async()=>{console.log("Opening project")},T=()=>{console.log("Undo")},R=()=>{console.log("Redo")},L=()=>{console.log("Run workflow")},j=()=>{console.log("Stop workflow")},I=()=>{console.log("EMERGENCY STOP")};return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"h-12 bg-white border-b border-gray-200 flex items-center px-4 gap-2",children:[_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(Le,{variant:"ghost",size:"sm",onClick:E,title:"New Project (Ctrl+N)",children:_.jsx(xS,{className:"w-4 h-4"})}),_.jsx(Le,{variant:"ghost",size:"sm",onClick:C,title:"Open Project (Ctrl+O)",children:_.jsx(kS,{className:"w-4 h-4"})}),_.jsx(Le,{variant:"ghost",size:"sm",onClick:g,disabled:!r,title:"Save Project (Ctrl+S)",children:_.jsx(mS,{className:"w-4 h-4"})})]}),_.jsx("div",{className:"w-px h-6 bg-gray-300"}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(Le,{variant:"ghost",size:"sm",onClick:T,title:"Undo (Ctrl+Z)",children:_.jsx(Qw,{className:"w-4 h-4"})}),_.jsx(Le,{variant:"ghost",size:"sm",onClick:R,title:"Redo (Ctrl+Shift+Z)",children:_.jsx(qw,{className:"w-4 h-4"})})]}),_.jsx("div",{className:"w-px h-6 bg-gray-300"}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(Le,{variant:"ghost",size:"sm",onClick:l,title:"Zoom In (Ctrl+=)",children:_.jsx(OS,{className:"w-4 h-4"})}),_.jsx(Le,{variant:"ghost",size:"sm",onClick:u,title:"Zoom Out (Ctrl+-)",children:_.jsx(RS,{className:"w-4 h-4"})}),_.jsx(Le,{variant:"ghost",size:"sm",onClick:d,title:"Fit to Screen (Ctrl+0)",children:_.jsx(eS,{className:"w-4 h-4"})})]}),_.jsx("div",{className:"w-px h-6 bg-gray-300"}),_.jsx("div",{className:"flex items-center gap-1",children:_.jsx(Le,{variant:m?"primary":"ghost",size:"sm",onClick:f,title:"Toggle Snap to Grid (Ctrl+Shift+S)",children:"Snap"})}),_.jsx("div",{className:"w-px h-6 bg-gray-300"}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(Le,{variant:w?"ghost":"secondary",size:"sm",onClick:b,title:"Toggle Left Sidebar (Ctrl+B)",children:w?_.jsx(Tv,{className:"w-4 h-4"}):_.jsx(_1,{className:"w-4 h-4"})}),_.jsx(Le,{variant:N?"ghost":"secondary",size:"sm",onClick:k,title:"Toggle Right Sidebar (Ctrl+Shift+B)",children:N?_.jsx(Tv,{className:"w-4 h-4"}):_.jsx(_1,{className:"w-4 h-4"})})]}),_.jsx("div",{className:"flex-1"}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsxs(Le,{variant:"primary",size:"sm",onClick:L,title:"Run Workflow (F5)",children:[_.jsx(m6,{className:"w-4 h-4"}),"Run"]}),_.jsxs(Le,{variant:"secondary",size:"sm",onClick:j,title:"Stop Workflow (Escape)",children:[_.jsx(KS,{className:"w-4 h-4"}),"Stop"]}),_.jsxs(Le,{variant:"danger",size:"sm",onClick:I,title:"Emergency Stop",children:[_.jsx(g6,{className:"w-4 h-4"}),"E-STOP"]})]}),_.jsx("div",{className:"w-px h-6 bg-gray-300"}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(Le,{variant:"ghost",size:"sm",onClick:S,title:"Command Palette (Ctrl+K)",children:_.jsx(p6,{className:"w-4 h-4"})}),_.jsx(Le,{variant:"ghost",size:"sm",onClick:v,title:"Settings",children:_.jsx(f6,{className:"w-4 h-4"})}),_.jsx(Le,{variant:"ghost",size:"sm",onClick:y,title:"About",children:_.jsx(bS,{className:"w-4 h-4"})})]})]}),t&&_.jsx(fk,{isOpen:t,onClose:()=>e(!1)})]})}function em({tabs:t,activeTab:e,onTabChange:n,className:r}){return _.jsx("div",{className:kr("flex",r),children:t.map(i=>{const a=i.icon,l=e===i.id;return _.jsxs("button",{onClick:()=>n(i.id),className:kr("flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors",l?"border-brand-500 text-brand-600 bg-brand-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[a&&_.jsx(a,{className:"w-4 h-4"}),i.label]},i.id)})})}const gk=[{type:"laser.generic",label:"Laser",color:"#1d4ed8"},{type:"mirror.generic",label:"Mirror",color:"#047857"},{type:"splitter.generic",label:"Splitter",color:"#7c3aed"},{type:"camera.andor",label:"Camera",color:"#0ea5e9"},{type:"spectrograph.andor.sr750",label:"SR-750",color:"#a855f7"},{type:"motor.thorlabs.kdc101",label:"Motor",color:"#f59e0b"},{type:"stage.newport.esp",label:"Stage",color:"#ef4444"},{type:"sensor.generic",label:"Sensor",color:"#10b981"}];function zv(){const t=(e,n)=>{e.dataTransfer.setData("application/json",JSON.stringify({type:"device",deviceType:n})),e.dataTransfer.effectAllowed="copy"};return _.jsxs("div",{className:"h-full flex flex-col",children:[_.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:_.jsx("div",{className:"space-y-2",children:gk.map(e=>_.jsxs("button",{className:"w-full flex items-center gap-3 p-2 rounded-lg bg-slate-800 hover:bg-slate-700 border border-slate-700",draggable:!0,onDragStart:n=>t(n,e.type),children:[_.jsx("div",{className:"w-6 h-6 rounded-md",style:{backgroundColor:e.color},"aria-hidden":!0}),_.jsx("div",{className:"text-slate-100 text-sm",children:e.label})]},e.type))})}),_.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:_.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Drag devices to the canvas to add them to your project"})})]})}const mk=[{name:"thorlabs-kinesis",version:"1.2.3",type:["driver"],os:["windows"],sizeMB:45.2,devices:[{kind:"motor.thorlabs.kdc101",commands:{enable:{args:[]},disable:{args:[]},home:{args:[]},move_abs:{args:[{name:"position",type:"number"}]},move_rel:{args:[{name:"distance",type:"number"}]},get_position:{args:[]}},telemetry:["position","velocity","status"]}],badges:["Windows-only","Driver"],description:"Thorlabs Kinesis motor control driver",author:"Thorlabs Inc.",license:"Proprietary"},{name:"andor-sdk",version:"2.1.0",type:["driver"],os:["windows","linux"],sizeMB:128.5,devices:[{kind:"camera.andor",commands:{initialize:{args:[]},start_acquisition:{args:[]},stop_acquisition:{args:[]},set_exposure:{args:[{name:"time_ms",type:"number"}]},get_image:{args:[]}},telemetry:["temperature","exposure_time","frame_count"]},{kind:"spectrograph.andor.sr750",commands:{initialize:{args:[]},set_wavelength:{args:[{name:"wavelength",type:"number"}]},acquire_spectrum:{args:[{name:"exposure_ms",type:"number"}]}},telemetry:["wavelength","grating_position","temperature"]}],badges:["Multi-platform","Driver"],description:"Andor SDK for scientific cameras and spectrographs",author:"Andor Technology",license:"Proprietary"},{name:"basic-analysis",version:"0.5.1",type:["analysis"],os:["windows","linux","mac"],sizeMB:12.3,badges:["Cross-platform","Analysis"],description:"Basic image analysis and data processing tools",author:"LightWork Team",license:"MIT",repository:"https://github.com/lightwork/analysis-tools"}],Ln=M.forwardRef(({label:t,error:e,helperText:n,className:r,id:i,...a},l)=>{const u=i||`input-${Math.random().toString(36).substr(2,9)}`;return _.jsxs("div",{className:"w-full",children:[t&&_.jsx("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700 mb-1",children:t}),_.jsx("input",{ref:l,id:u,className:kr("block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-0 sm:text-sm",e?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-brand-500 focus:border-brand-500",r),...a}),e&&_.jsx("p",{className:"mt-1 text-sm text-red-600",children:e}),n&&!e&&_.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})});Ln.displayName="Input";function au({variant:t="default",size:e="md",children:n,className:r}){const i="inline-flex items-center font-medium rounded-full",a={default:"bg-gray-100 text-gray-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",error:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800"},l={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-sm",lg:"px-3 py-1 text-base"};return _.jsx("span",{className:kr(i,a[t],l[e],r),children:n})}function E6(){const[t,e]=M.useState(""),[n,r]=M.useState("all"),[i,a]=M.useState("all"),[l,u]=M.useState(null),d=mk.filter(v=>{var b;const y=v.name.toLowerCase().includes(t.toLowerCase())||((b=v.description)==null?void 0:b.toLowerCase().includes(t.toLowerCase())),w=n==="all"||v.type.includes(n),N=i==="all"||v.os.includes(i);return y&&w&&N}),f=async v=>{u(v),await new Promise(y=>setTimeout(y,2e3)),u(null)},m=v=>{switch(v){case"windows":return"🪟";case"linux":return"🐧";case"mac":return"🍎";default:return"💻"}},S=v=>{switch(v){case"driver":return"bg-blue-100 text-blue-800";case"analysis":return"bg-green-100 text-green-800";case"workflow":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return _.jsxs("div",{className:"h-full flex flex-col",children:[_.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-4",children:[_.jsx(Ln,{placeholder:"Search extensions...",value:t,onChange:v=>e(v.target.value)}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("select",{value:n,onChange:v=>r(v.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:ring-brand-500 focus:border-brand-500",children:[_.jsx("option",{value:"all",children:"All Types"}),_.jsx("option",{value:"driver",children:"Drivers"}),_.jsx("option",{value:"analysis",children:"Analysis"}),_.jsx("option",{value:"workflow",children:"Workflows"})]}),_.jsxs("select",{value:i,onChange:v=>a(v.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:ring-brand-500 focus:border-brand-500",children:[_.jsx("option",{value:"all",children:"All Platforms"}),_.jsx("option",{value:"windows",children:"Windows"}),_.jsx("option",{value:"linux",children:"Linux"}),_.jsx("option",{value:"mac",children:"macOS"})]})]})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[_.jsx("div",{className:"space-y-4",children:d.map(v=>{var y;return _.jsx("div",{className:"card",children:_.jsx("div",{className:"card-body",children:_.jsxs("div",{className:"flex items-start justify-between",children:[_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx("h3",{className:"font-medium text-gray-900 truncate",children:v.name}),_.jsxs("span",{className:"text-sm text-gray-500",children:["v",v.version]})]}),_.jsx("p",{className:"text-sm text-gray-600 mb-3",children:v.description}),_.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[v.type.map(w=>_.jsx(au,{className:S(w),children:w},w)),(y=v.badges)==null?void 0:y.map(w=>_.jsx(au,{variant:"default",children:w},w))]}),_.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx("span",{children:"OS:"}),_.jsx("div",{className:"flex gap-1",children:v.os.map(w=>_.jsx("span",{title:w,children:m(w)},w))})]}),v.sizeMB&&_.jsxs("span",{children:["Size: ",v.sizeMB," MB"]}),v.author&&_.jsxs("span",{children:["By ",v.author]})]})]}),_.jsx("div",{className:"ml-4 flex-shrink-0",children:_.jsx(Le,{variant:"primary",size:"sm",onClick:()=>f(v.name),disabled:l===v.name,children:l===v.name?"Installing...":"Install"})})]})})},v.name)})}),d.length===0&&_.jsx("div",{className:"text-center py-8 text-gray-500",children:_.jsx("p",{children:"No extensions found matching your criteria"})})]})]})}const yk=[{id:"basic-alignment",name:"Basic Mirror Alignment",entry:"move1",description:"Simple workflow to align a mirror and capture an image",created:"2024-01-15T10:00:00Z",modified:"2024-01-15T10:00:00Z",nodes:{move1:{id:"move1",kind:"MoveMirror",params:{deviceId:"mirrorA",angle:45},next:"acquire1",position:{x:100,y:100}},acquire1:{id:"acquire1",kind:"AcquireFrame",params:{deviceId:"cam1",exposure:100},next:"save1",position:{x:300,y:100}},save1:{id:"save1",kind:"Save",params:{filename:"alignment_{timestamp}.fits",format:"fits"},position:{x:500,y:100}}}},{id:"spectrum-scan",name:"Wavelength Scan",entry:"loop1",description:"Scan through wavelengths and capture spectra",created:"2024-01-16T14:30:00Z",modified:"2024-01-16T14:30:00Z",nodes:{loop1:{id:"loop1",kind:"Loop",params:{count:10},next:"acquire2",position:{x:100,y:200}},acquire2:{id:"acquire2",kind:"AcquireSpectrum",params:{deviceId:"sr750",wavelength:400,exposure:2e3},next:"delay1",position:{x:300,y:200}},delay1:{id:"delay1",kind:"Delay",params:{duration:500},next:"save2",position:{x:500,y:200}},save2:{id:"save2",kind:"Save",params:{filename:"spectrum_{wavelength}_{timestamp}.fits",format:"fits"},position:{x:700,y:200}}}}],vk=[{id:"calibrate-camera",name:"Camera Calibration",description:"Calibrate camera gain and offset",code:`# Camera calibration script
import numpy as np
from lightwork.devices import Camera

def calibrate_camera(camera_id, dark_frames=10):
    """Calibrate camera using dark frames"""
    camera = Camera(camera_id)
    
    # Acquire dark frames
    dark_data = []
    for i in range(dark_frames):
        frame = camera.acquire(exposure=1000, gain=1.0)
        dark_data.append(frame)
    
    # Calculate dark frame average
    dark_avg = np.mean(dark_data, axis=0)
    
    # Save calibration data
    np.save(f'calibration_{camera_id}_dark.npy', dark_avg)
    
    return dark_avg`},{id:"analyze-spectrum",name:"Spectrum Analysis",description:"Analyze acquired spectrum data",code:`# Spectrum analysis script
import numpy as np
import matplotlib.pyplot as plt
from lightwork.devices import Spectrograph

def analyze_spectrum(spectrum_data, wavelength_range):
    """Analyze spectrum and find peaks"""
    wavelengths = np.linspace(wavelength_range[0], wavelength_range[1], len(spectrum_data))
    
    # Find peaks
    from scipy.signal import find_peaks
    peaks, properties = find_peaks(spectrum_data, height=0.1)
    
    # Calculate peak properties
    peak_wavelengths = wavelengths[peaks]
    peak_intensities = spectrum_data[peaks]
    
    return {
        'wavelengths': wavelengths,
        'intensities': spectrum_data,
        'peaks': peak_wavelengths,
        'peak_intensities': peak_intensities
    }`}],xk=[{id:"workflows",label:"Workflows"},{id:"scripts",label:"Scripts"}];function N6(){const[t,e]=M.useState("workflows"),[n,r]=M.useState(null),i=async u=>{r(u),await new Promise(d=>setTimeout(d,5e3)),r(null)},a=()=>_.jsx("div",{className:"space-y-4",children:yk.map(u=>_.jsx("div",{className:"card",children:_.jsx("div",{className:"card-body",children:_.jsxs("div",{className:"flex items-start justify-between",children:[_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:u.name}),u.description&&_.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u.description}),_.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[_.jsxs(au,{variant:"info",children:[Object.keys(u.nodes).length," steps"]}),_.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(u.created).toLocaleDateString()]})]}),_.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:Object.values(u.nodes).map((d,f)=>_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center text-xs",children:f+1}),_.jsx("span",{children:d.kind}),f<Object.values(u.nodes).length-1&&_.jsx("span",{children:"→"})]},d.id))})]}),_.jsx("div",{className:"ml-4 flex-shrink-0",children:_.jsx(Le,{variant:"primary",size:"sm",onClick:()=>i(u.id),disabled:n===u.id,children:n===u.id?"Running...":"Run"})})]})})},u.id))}),l=()=>_.jsx("div",{className:"space-y-4",children:vk.map(u=>_.jsx("div",{className:"card",children:_.jsxs("div",{className:"card-body",children:[_.jsxs("div",{className:"flex items-start justify-between",children:[_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:u.name}),u.description&&_.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u.description}),_.jsx(au,{variant:"info",children:"Python Script"})]}),_.jsx("div",{className:"ml-4 flex-shrink-0",children:_.jsx(Le,{variant:"secondary",size:"sm",onClick:()=>{},children:"Edit"})})]}),_.jsx("div",{className:"mt-4 bg-gray-900 rounded-lg p-4 overflow-x-auto",children:_.jsxs("pre",{className:"text-sm text-green-400 font-mono",children:[_.jsx("code",{children:u.code.split(`
`).slice(0,10).join(`
`)}),u.code.split(`
`).length>10&&_.jsx("div",{className:"text-gray-500",children:"..."})]})})]})},u.id))});return _.jsxs("div",{className:"h-full flex flex-col",children:[_.jsx("div",{className:"p-4 border-b border-gray-200",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-medium text-gray-900",children:"Workflows & Scripts"}),_.jsx("p",{className:"text-sm text-gray-500",children:"Manage automated workflows and scripts"})]}),_.jsx(Le,{variant:"primary",size:"sm",onClick:()=>{},children:"New Workflow"})]})}),_.jsx("div",{className:"border-b border-gray-200",children:_.jsx(em,{tabs:xk,activeTab:t,onTabChange:e})}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[t==="workflows"&&a(),t==="scripts"&&l()]})]})}const _k=[{id:"palette",label:"Palette",icon:WS},{id:"extensions",label:"Extensions",icon:GS},{id:"workflows",label:"Workflows",icon:m6},{id:"settings",label:"Settings",icon:f6}];function wk(){const[t,e]=M.useState("palette"),n=()=>{switch(t){case"palette":return _.jsx(zv,{});case"extensions":return _.jsx(E6,{});case"workflows":return _.jsx(N6,{});case"settings":return _.jsx("div",{className:"p-4 text-gray-500",children:"Settings panel coming soon..."});default:return _.jsx(zv,{})}};return _.jsxs("div",{className:"h-full flex flex-col",children:[_.jsx("div",{className:"border-b border-gray-200",children:_.jsx(em,{tabs:_k,activeTab:t,onTabChange:e})}),_.jsx("div",{className:"flex-1 overflow-hidden",children:n()})]})}const tm=Xg()(qg((t,e)=>({selectedIds:[],lastSelectedId:null,isMultiSelect:!1,setSelection:n=>t({selectedIds:n,lastSelectedId:n.length>0?n[n.length-1]:null,isMultiSelect:n.length>1}),addToSelection:n=>t(r=>r.selectedIds.includes(n)?r:{selectedIds:[...r.selectedIds,n],lastSelectedId:n,isMultiSelect:r.selectedIds.length>0}),removeFromSelection:n=>t(r=>{const i=r.selectedIds.filter(a=>a!==n);return{selectedIds:i,lastSelectedId:i.length>0?i[i.length-1]:null,isMultiSelect:i.length>1}}),toggleSelection:n=>t(r=>{if(r.selectedIds.includes(n)){const i=r.selectedIds.filter(a=>a!==n);return{selectedIds:i,lastSelectedId:i.length>0?i[i.length-1]:null,isMultiSelect:i.length>1}}else return{selectedIds:[...r.selectedIds,n],lastSelectedId:n,isMultiSelect:r.selectedIds.length>0}}),clearSelection:()=>t({selectedIds:[],lastSelectedId:null,isMultiSelect:!1}),selectAll:()=>{t({selectedIds:[],lastSelectedId:null,isMultiSelect:!1})},isSelected:n=>e().selectedIds.includes(n),hasSelection:()=>e().selectedIds.length>0,getSelectionCount:()=>e().selectedIds.length}),{name:"selection-store"})),Sk={"laser.generic":{type:"laser.generic",label:"Laser",icon:"🔴",color:"bg-red-500",category:"laser",description:"Generic laser source",size:{width:2,height:2},commands:[{name:"enable",label:"Enable",description:"Turn on the laser",args:[]},{name:"disable",label:"Disable",description:"Turn off the laser",args:[]},{name:"set_power",label:"Set Power",description:"Set laser power percentage",args:[{name:"power",type:"number",required:!0,default:50}]}],telemetry:[{name:"power",label:"Power",unit:"%",type:"number"},{name:"temperature",label:"Temperature",unit:"°C",type:"number"},{name:"status",label:"Status",type:"string"}],properties:[{name:"wavelength",label:"Wavelength",type:"number",default:632.8},{name:"max_power",label:"Max Power",type:"number",default:100},{name:"enabled",label:"Enabled",type:"boolean",default:!1}]},"mirror.generic":{type:"mirror.generic",label:"Mirror",icon:"🪞",color:"bg-gray-400",category:"optics",description:"Generic mirror for beam steering",size:{width:1,height:1},commands:[{name:"set_angle",label:"Set Angle",description:"Set mirror angle",args:[{name:"angle",type:"number",required:!0,default:0}]}],telemetry:[{name:"angle",label:"Angle",unit:"°",type:"number"}],properties:[{name:"reflectivity",label:"Reflectivity",type:"number",default:.99},{name:"coating",label:"Coating",type:"select",default:"aluminum",options:["aluminum","silver","gold","dielectric"]}]},"splitter.generic":{type:"splitter.generic",label:"Beam Splitter",icon:"🔀",color:"bg-blue-400",category:"optics",description:"Beam splitter for power division",size:{width:1,height:1},commands:[],telemetry:[],properties:[{name:"split_ratio",label:"Split Ratio",type:"number",default:.5},{name:"wavelength",label:"Design Wavelength",type:"number",default:632.8}]},"camera.andor":{type:"camera.andor",label:"Andor Camera",icon:"📷",color:"bg-green-500",category:"detection",description:"Andor scientific camera",size:{width:2,height:2},commands:[{name:"initialize",label:"Initialize",description:"Initialize camera",args:[]},{name:"start_acquisition",label:"Start Acquisition",description:"Start image acquisition",args:[]},{name:"stop_acquisition",label:"Stop Acquisition",description:"Stop image acquisition",args:[]},{name:"set_exposure",label:"Set Exposure",description:"Set exposure time",args:[{name:"time_ms",type:"number",required:!0,default:100}]},{name:"acquire_frame",label:"Acquire Frame",description:"Acquire single frame",args:[]}],telemetry:[{name:"temperature",label:"Temperature",unit:"°C",type:"number"},{name:"exposure_time",label:"Exposure Time",unit:"ms",type:"number"},{name:"frame_count",label:"Frame Count",type:"number"},{name:"image",label:"Image",type:"image"}],properties:[{name:"pixel_size",label:"Pixel Size",type:"number",default:6.5},{name:"resolution",label:"Resolution",type:"select",default:"1024x1024",options:["512x512","1024x1024","2048x2048"]},{name:"cooling",label:"Cooling",type:"boolean",default:!0}]},"motor.thorlabs.kdc101":{type:"motor.thorlabs.kdc101",label:"Thorlabs KDC101",icon:"⚙️",color:"bg-purple-500",category:"motion",description:"Thorlabs KDC101 motor controller",size:{width:2,height:1},commands:[{name:"enable",label:"Enable",description:"Enable motor",args:[]},{name:"disable",label:"Disable",description:"Disable motor",args:[]},{name:"home",label:"Home",description:"Home motor",args:[]},{name:"move_abs",label:"Move Absolute",description:"Move to absolute position",args:[{name:"position",type:"number",required:!0,default:0}]},{name:"move_rel",label:"Move Relative",description:"Move relative distance",args:[{name:"distance",type:"number",required:!0,default:0}]}],telemetry:[{name:"position",label:"Position",unit:"mm",type:"number"},{name:"velocity",label:"Velocity",unit:"mm/s",type:"number"},{name:"status",label:"Status",type:"string"}],properties:[{name:"max_velocity",label:"Max Velocity",type:"number",default:10},{name:"acceleration",label:"Acceleration",type:"number",default:5},{name:"enabled",label:"Enabled",type:"boolean",default:!1}]},"stage.newport.esp":{type:"stage.newport.esp",label:"Newport ESP Stage",icon:"📐",color:"bg-orange-500",category:"motion",description:"Newport ESP precision stage",size:{width:3,height:2},commands:[{name:"enable",label:"Enable",description:"Enable stage",args:[]},{name:"disable",label:"Disable",description:"Disable stage",args:[]},{name:"home",label:"Home",description:"Home stage",args:[]},{name:"move_abs",label:"Move Absolute",description:"Move to absolute position",args:[{name:"x",type:"number",required:!0,default:0},{name:"y",type:"number",required:!0,default:0}]},{name:"move_rel",label:"Move Relative",description:"Move relative distance",args:[{name:"dx",type:"number",required:!0,default:0},{name:"dy",type:"number",required:!0,default:0}]}],telemetry:[{name:"x",label:"X Position",unit:"mm",type:"number"},{name:"y",label:"Y Position",unit:"mm",type:"number"},{name:"status",label:"Status",type:"string"}],properties:[{name:"max_velocity",label:"Max Velocity",type:"number",default:5},{name:"resolution",label:"Resolution",type:"number",default:.1},{name:"enabled",label:"Enabled",type:"boolean",default:!1}]},"sensor.generic":{type:"sensor.generic",label:"Generic Sensor",icon:"📊",color:"bg-yellow-500",category:"detection",description:"Generic sensor device",size:{width:1,height:1},commands:[{name:"read",label:"Read",description:"Read sensor value",args:[]}],telemetry:[{name:"value",label:"Value",type:"number"},{name:"unit",label:"Unit",type:"string"}],properties:[{name:"sensor_type",label:"Sensor Type",type:"select",default:"voltage",options:["voltage","current","temperature","pressure"]},{name:"range_min",label:"Min Range",type:"number",default:0},{name:"range_max",label:"Max Range",type:"number",default:10}]},"spectrograph.andor.sr750":{type:"spectrograph.andor.sr750",label:"SR-750 Spectrograph",icon:"🌈",color:"bg-indigo-500",category:"analysis",description:"Andor SR-750 spectrograph",size:{width:3,height:2},commands:[{name:"initialize",label:"Initialize",description:"Initialize spectrograph",args:[]},{name:"set_wavelength",label:"Set Wavelength",description:"Set center wavelength",args:[{name:"wavelength",type:"number",required:!0,default:500}]},{name:"acquire_spectrum",label:"Acquire Spectrum",description:"Acquire spectrum",args:[{name:"exposure_ms",type:"number",required:!0,default:1e3}]}],telemetry:[{name:"wavelength",label:"Wavelength",unit:"nm",type:"number"},{name:"grating_position",label:"Grating Position",type:"number"},{name:"temperature",label:"Temperature",unit:"°C",type:"number"},{name:"spectrum",label:"Spectrum",type:"image"}],properties:[{name:"wavelength_range",label:"Wavelength Range",type:"select",default:"200-1000",options:["200-1000","300-800","400-700"]},{name:"resolution",label:"Resolution",type:"number",default:.1},{name:"cooling",label:"Cooling",type:"boolean",default:!0}]}};function z1(t){return Sk[t]}const Ck={green:{bg:"bg-green-100",border:"border-green-300",text:"text-green-800",dot:"bg-green-500",ring:"ring-green-500"},red:{bg:"bg-red-100",border:"border-red-300",text:"text-red-800",dot:"bg-red-500",ring:"ring-red-500"},gray:{bg:"bg-gray-100",border:"border-gray-300",text:"text-gray-800",dot:"bg-gray-500",ring:"ring-gray-500"}};function U1(t){return Ck[t]}function Hd(t,e){var u,d;const n=e.pitch??25,r=((u=e.origin)==null?void 0:u.x)??0,i=((d=e.origin)==null?void 0:d.y)??0,a=Math.round((t.x-r)/n)*n+r,l=Math.round((t.y-i)/n)*n+i;return{x:a,y:l}}function kk(t,e){return Math.max(1,t.pitch*e*.1)}function Ek(t,e){const n=[],{pitch:r,origin:i,width:a,height:l}=t;for(let u=i.x;u<=i.x+a;u+=r)u>=e.x-r&&u<=e.x+e.width+r&&n.push({start:{x:u,y:i.y},end:{x:u,y:i.y+l},type:"major"});for(let u=i.y;u<=i.y+l;u+=r)u>=e.y-r&&u<=e.y+e.height+r&&n.push({start:{x:i.x,y:u},end:{x:i.x+a,y:u},type:"major"});return n}const Nk=[{id:"properties",label:"Properties"},{id:"commands",label:"Commands"},{id:"telemetry",label:"Telemetry"},{id:"binding",label:"Binding"}];function Uv({device:t,devices:e}){const[n,r]=M.useState("properties"),[i,a]=M.useState(!1),{project:l,updateDevicePos:u,rotateDevice:d,removeDevice:f}=xu(),{clearSelection:m}=tm(),S=()=>{t&&(f(t.id),m())},v=(b,k)=>{if(t&&l){const E=l.table.pitch*k,g={...t.pos,[b]:t.pos[b]+E},C=Hd(g,{pitch:l.table.pitch,origin:l.table.origin});u(t.id,C)}},y=b=>{if(t){const k=t.pos.angle+b;d(t.id,k)}},w=(b,k)=>{if(t&&l){const E=parseFloat(k)||0,g={...t.pos,[b]:E},C=Hd(g,{pitch:l.table.pitch,origin:l.table.origin});u(t.id,C)}},N=b=>{if(t){const k=parseFloat(b)||0;d(t.id,k)}};if(t){const b=z1(t.type),k=U1(t.status),E=()=>_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),_.jsx(Ln,{value:t.name,onChange:()=>{},disabled:!i})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-2xl",children:b.icon}),_.jsx("span",{className:"text-sm text-gray-600",children:b.label})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),_.jsx(au,{variant:t.status==="green"?"success":t.status==="red"?"error":"default",children:t.status})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position X"}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>v("x",-1),className:"px-2 py-1",children:"←"}),_.jsx(Ln,{type:"number",value:t.pos.x,onChange:R=>w("x",R.target.value),className:"flex-1"}),_.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>v("x",1),className:"px-2 py-1",children:"→"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position Y"}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>v("y",-1),className:"px-2 py-1",children:"↑"}),_.jsx(Ln,{type:"number",value:t.pos.y,onChange:R=>w("y",R.target.value),className:"flex-1"}),_.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>v("y",1),className:"px-2 py-1",children:"↓"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Angle"}),_.jsxs("div",{className:"flex items-center gap-1",children:[_.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>y(-15),className:"px-2 py-1",children:"↶"}),_.jsx(Ln,{type:"number",value:t.pos.angle,onChange:R=>N(R.target.value),className:"flex-1"}),_.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>y(15),className:"px-2 py-1",children:"↷"})]})]}),_.jsx("div",{className:"pt-4 border-t border-gray-200",children:_.jsx(Le,{variant:"danger",onClick:S,className:"w-full",children:"Delete Device"})})]}),g=()=>_.jsx("div",{className:"space-y-2",children:b.commands.map(R=>_.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[_.jsxs("div",{children:[_.jsx("div",{className:"font-medium text-sm",children:R.label}),_.jsx("div",{className:"text-xs text-gray-500",children:R.description})]}),_.jsx(Le,{size:"sm",variant:"secondary",onClick:()=>{},children:"Execute"})]},R.name))}),C=()=>_.jsx("div",{className:"space-y-4",children:b.telemetry.map(R=>_.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("span",{className:"font-medium text-sm",children:R.label}),R.unit&&_.jsx("span",{className:"text-xs text-gray-500",children:R.unit})]}),_.jsx("div",{className:"text-2xl font-mono",children:R.type==="number"?"--":"No data"})]},R.name))}),T=()=>{var R,L,j;return _.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver Module"}),_.jsx(Ln,{value:((R=t.driver)==null?void 0:R.module)||"",onChange:()=>{},disabled:!i,placeholder:"No driver bound"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),_.jsx(Ln,{value:((L=t.driver)==null?void 0:L.address)||"",onChange:()=>{},disabled:!i,placeholder:"No address set"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parameters"}),_.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",value:JSON.stringify(((j=t.driver)==null?void 0:j.params)||{},null,2),onChange:()=>{},disabled:!i,rows:4,placeholder:"No parameters set"})]})]})};return _.jsxs("div",{className:"h-full flex flex-col",children:[_.jsx("div",{className:"p-4 border-b border-gray-200",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"text-2xl",children:b.icon}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-medium text-gray-900",children:t.name}),_.jsx("p",{className:"text-sm text-gray-500",children:b.label})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:`w-3 h-3 rounded-full ${k.dot}`}),_.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>a(!i),children:i?"Save":"Edit"})]})]})}),_.jsx("div",{className:"border-b border-gray-200",children:_.jsx(em,{tabs:Nk,activeTab:n,onTabChange:r})}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[n==="properties"&&E(),n==="commands"&&g(),n==="telemetry"&&C(),n==="binding"&&T()]})]})}return e&&e.length>1?_.jsxs("div",{className:"h-full flex flex-col",children:[_.jsx("div",{className:"p-4 border-b border-gray-200",children:_.jsxs("h3",{className:"font-medium text-gray-900",children:[e.length," devices selected"]})}),_.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:_.jsx("div",{className:"space-y-2",children:e.map(b=>{const k=z1(b.type),E=U1(b.status);return _.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[_.jsx("span",{className:"text-xl",children:k.icon}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsx("div",{className:"font-medium text-sm truncate",children:b.name}),_.jsx("div",{className:"text-xs text-gray-500",children:k.label})]}),_.jsx("div",{className:`w-2 h-2 rounded-full ${E.dot}`})]},b.id)})})})]}):null}function Gv({table:t}){const[e,n]=M.useState(!1),[r,i]=M.useState({width:t.width,height:t.height,pitch:t.pitch,units:t.units,thread:t.thread,originX:t.origin.x,originY:t.origin.y}),a=()=>{console.log("Saving table:",r),n(!1)},l=()=>{i({width:t.width,height:t.height,pitch:t.pitch,units:t.units,thread:t.thread,originX:t.origin.x,originY:t.origin.y}),n(!1)};return _.jsxs("div",{className:"h-full flex flex-col",children:[_.jsx("div",{className:"p-4 border-b border-gray-200",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"font-medium text-gray-900",children:"Table Properties"}),_.jsx("p",{className:"text-sm text-gray-500",children:"Configure the optics bench table"})]}),_.jsx("div",{className:"flex items-center gap-2",children:e?_.jsxs(_.Fragment,{children:[_.jsx(Le,{size:"sm",variant:"ghost",onClick:l,children:"Cancel"}),_.jsx(Le,{size:"sm",variant:"primary",onClick:a,children:"Save"})]}):_.jsx(Le,{size:"sm",variant:"ghost",onClick:()=>n(!0),children:"Edit"})})]})}),_.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[_.jsxs("div",{className:"space-y-4",children:[_.jsx("h4",{className:"font-medium text-gray-900",children:"Dimensions"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsx(Ln,{label:"Width",type:"number",value:r.width,onChange:u=>i(d=>({...d,width:Number(u.target.value)})),disabled:!e}),_.jsx(Ln,{label:"Height",type:"number",value:r.height,onChange:u=>i(d=>({...d,height:Number(u.target.value)})),disabled:!e})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Units"}),_.jsxs("select",{value:r.units,onChange:u=>i(d=>({...d,units:u.target.value})),disabled:!e,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-brand-500 focus:border-brand-500 disabled:bg-gray-50",children:[_.jsx("option",{value:"mm",children:"Millimeters (mm)"}),_.jsx("option",{value:"inch",children:"Inches (in)"})]})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h4",{className:"font-medium text-gray-900",children:"Grid Settings"}),_.jsx(Ln,{label:"Hole Pitch",type:"number",value:r.pitch,onChange:u=>i(d=>({...d,pitch:Number(u.target.value)})),disabled:!e,helperText:"Distance between grid holes"}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Thread Type"}),_.jsxs("select",{value:r.thread,onChange:u=>i(d=>({...d,thread:u.target.value})),disabled:!e,className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-brand-500 focus:border-brand-500 disabled:bg-gray-50",children:[_.jsx("option",{value:"1/4-20",children:"1/4-20 (Imperial)"}),_.jsx("option",{value:"M6",children:"M6 (Metric)"})]})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h4",{className:"font-medium text-gray-900",children:"Origin"}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsx(Ln,{label:"Origin X",type:"number",value:r.originX,onChange:u=>i(d=>({...d,originX:Number(u.target.value)})),disabled:!e}),_.jsx(Ln,{label:"Origin Y",type:"number",value:r.originY,onChange:u=>i(d=>({...d,originY:Number(u.target.value)})),disabled:!e})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h4",{className:"font-medium text-gray-900",children:"Summary"}),_.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2 text-sm",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600",children:"Table Size:"}),_.jsxs("span",{className:"font-medium",children:[r.width," × ",r.height," ",r.units]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600",children:"Hole Pitch:"}),_.jsxs("span",{className:"font-medium",children:[r.pitch," ",r.units]})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600",children:"Thread Type:"}),_.jsx("span",{className:"font-medium",children:r.thread})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600",children:"Total Holes:"}),_.jsxs("span",{className:"font-medium",children:[Math.floor(r.width/r.pitch)+1," × ",Math.floor(r.height/r.pitch)+1]})]})]})]})]})]})}function bk(){const{selectedIds:t,hasSelection:e}=tm(),{project:n}=xu();if(!e())return _.jsx(Gv,{table:n.table});if(t.length===1){const r=n.devices.find(i=>i.id===t[0]);if(r)return _.jsx(Uv,{device:r})}if(t.length>1){const r=n.devices.filter(i=>t.includes(i.id));return _.jsx(Uv,{devices:r})}return _.jsx(Gv,{table:n.table})}function Pk(){return _.jsx("div",{className:"h-full flex flex-col",children:_.jsx(bk,{})})}function Tk(){const{project:t}=xu(),[e,n]=M.useState("connected"),[r,i]=M.useState(60);M.useEffect(()=>{const f=setInterval(()=>{const m=Math.random();m<.05?n("disconnected"):m<.1?n("error"):n("connected")},5e3);return()=>clearInterval(f)},[]),M.useEffect(()=>{const f=setInterval(()=>{i(Math.floor(55+Math.random()*10))},1e3);return()=>clearInterval(f)},[]);const a=()=>{switch(e){case"connected":return _.jsx(sS,{className:"w-4 h-4 text-green-500"});case"disconnected":return _.jsx(XS,{className:"w-4 h-4 text-gray-400"});case"error":return _.jsx(g6,{className:"w-4 h-4 text-red-500"})}},l=()=>{switch(e){case"connected":return"Connected";case"disconnected":return"Disconnected";case"error":return"Connection Error"}},u=t.devices.length,d=t.devices.filter(f=>f.status==="green").length;return _.jsxs("div",{className:"h-6 bg-gray-100 border-t border-gray-200 flex items-center justify-between px-4 text-xs text-gray-600",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[a(),_.jsx("span",{children:l()})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("span",{children:["Devices: ",d,"/",u]}),_.jsxs("span",{children:["FPS: ",r]})]}),_.jsx("div",{className:"flex items-center gap-2",children:_.jsx("span",{children:"Press Ctrl+K for commands"})})]})}function Bv({children:t,side:e,minWidth:n=200,maxWidth:r=600,defaultWidth:i=300,collapsedWidth:a=0,onWidthChange:l,onToggle:u,isCollapsed:d,className:f}){const[m,S]=M.useState(!1),[v,y]=M.useState(0),[w,N]=M.useState(0),b=M.useRef(null),k=M.useCallback(g=>{g.preventDefault(),S(!0),y(g.clientX),N(d?a:i);const C=R=>{const L=e==="left"?R.clientX-v:v-R.clientX,j=Math.max(n,Math.min(r,w+L));j<=n+20?l(a):l(j)},T=()=>{S(!1),document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",T)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",T)},[e,v,w,n,r,a,i,l]),E=M.useCallback(g=>{g.stopPropagation(),u()},[u]);return _.jsxs("div",{ref:b,className:kr("relative bg-white border-r border-gray-200 flex flex-col transition-all duration-200 ease-in-out",e==="right"&&"border-l border-r-0",d&&"overflow-hidden",f),style:{width:d?a:i,minWidth:d?a:n},children:[_.jsx("div",{className:kr("absolute top-0 bottom-0 w-1 cursor-col-resize hover:bg-brand-500 hover:opacity-50 transition-colors",e==="left"?"right-0":"left-0",m&&"bg-brand-500"),onMouseDown:k}),_.jsx("button",{onClick:E,className:kr("absolute top-4 z-10 w-6 h-6 bg-white border border-gray-300 rounded-full flex items-center justify-center shadow-sm hover:shadow-md transition-all",e==="left"?"right-3":"left-3"),title:d?"Open sidebar":"Close sidebar",children:e==="left"?d?_.jsx(jv,{className:"w-4 h-4 text-gray-600"}):_.jsx(Rv,{className:"w-4 h-4 text-gray-600"}):d?_.jsx(Rv,{className:"w-4 h-4 text-gray-600"}):_.jsx(jv,{className:"w-4 h-4 text-gray-600"})}),_.jsx("div",{className:kr("flex-1 flex flex-col",d&&"opacity-0 pointer-events-none"),children:t})]})}function Rk(){const{sidebarLeftWidth:t,sidebarRightWidth:e,sidebarLeftCollapsed:n,sidebarRightCollapsed:r,setSidebarLeftWidth:i,setSidebarRightWidth:a,toggleSidebarLeft:l,toggleSidebarRight:u}=Jg();return _.jsxs("div",{className:"h-full flex flex-col",children:[_.jsx(pk,{}),_.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[_.jsx(Bv,{side:"left",minWidth:200,maxWidth:600,defaultWidth:t,collapsedWidth:0,onWidthChange:i,onToggle:l,isCollapsed:n,children:_.jsx(wk,{})}),_.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:_.jsx("div",{className:"flex-1 overflow-hidden",children:_.jsx(L_,{})})}),_.jsx(Bv,{side:"right",minWidth:200,maxWidth:600,defaultWidth:e,collapsedWidth:0,onWidthChange:a,onToggle:u,isCollapsed:r,children:_.jsx(Pk,{})})]}),_.jsx(Tk,{})]})}var b6={exports:{}},vh={},$d={},Te={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof ty<"u"?ty:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.22",isBrowser:n(),isUnminified:/param/.test((function(i){}).toString()),dblClickWindow:400,getAngle(i){return t.Konva.angleDeg?i*e:i},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var i;return(i=t.Konva.Transformer)===null||i===void 0?void 0:i.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(i){t.glob.Konva=i}};const r=i=>{t.Konva[i.prototype.getClassName()]=i};t._registerNode=r,t.Konva._injectGlobal(t.Konva)})(Te);var yt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=Te;class n{constructor(C=[1,0,0,1,0,0]){this.dirty=!1,this.m=C&&C.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(C){C.m[0]=this.m[0],C.m[1]=this.m[1],C.m[2]=this.m[2],C.m[3]=this.m[3],C.m[4]=this.m[4],C.m[5]=this.m[5]}point(C){const T=this.m;return{x:T[0]*C.x+T[2]*C.y+T[4],y:T[1]*C.x+T[3]*C.y+T[5]}}translate(C,T){return this.m[4]+=this.m[0]*C+this.m[2]*T,this.m[5]+=this.m[1]*C+this.m[3]*T,this}scale(C,T){return this.m[0]*=C,this.m[1]*=C,this.m[2]*=T,this.m[3]*=T,this}rotate(C){const T=Math.cos(C),R=Math.sin(C),L=this.m[0]*T+this.m[2]*R,j=this.m[1]*T+this.m[3]*R,I=this.m[0]*-R+this.m[2]*T,O=this.m[1]*-R+this.m[3]*T;return this.m[0]=L,this.m[1]=j,this.m[2]=I,this.m[3]=O,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(C,T){const R=this.m[0]+this.m[2]*T,L=this.m[1]+this.m[3]*T,j=this.m[2]+this.m[0]*C,I=this.m[3]+this.m[1]*C;return this.m[0]=R,this.m[1]=L,this.m[2]=j,this.m[3]=I,this}multiply(C){const T=this.m[0]*C.m[0]+this.m[2]*C.m[1],R=this.m[1]*C.m[0]+this.m[3]*C.m[1],L=this.m[0]*C.m[2]+this.m[2]*C.m[3],j=this.m[1]*C.m[2]+this.m[3]*C.m[3],I=this.m[0]*C.m[4]+this.m[2]*C.m[5]+this.m[4],O=this.m[1]*C.m[4]+this.m[3]*C.m[5]+this.m[5];return this.m[0]=T,this.m[1]=R,this.m[2]=L,this.m[3]=j,this.m[4]=I,this.m[5]=O,this}invert(){const C=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),T=this.m[3]*C,R=-this.m[1]*C,L=-this.m[2]*C,j=this.m[0]*C,I=C*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),O=C*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=T,this.m[1]=R,this.m[2]=L,this.m[3]=j,this.m[4]=I,this.m[5]=O,this}getMatrix(){return this.m}decompose(){const C=this.m[0],T=this.m[1],R=this.m[2],L=this.m[3],j=this.m[4],I=this.m[5],O=C*L-T*R,B={x:j,y:I,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(C!=0||T!=0){const z=Math.sqrt(C*C+T*T);B.rotation=T>0?Math.acos(C/z):-Math.acos(C/z),B.scaleX=z,B.scaleY=O/z,B.skewX=(C*R+T*L)/O,B.skewY=0}else if(R!=0||L!=0){const z=Math.sqrt(R*R+L*L);B.rotation=Math.PI/2-(L>0?Math.acos(-R/z):-Math.acos(R/z)),B.scaleX=O/z,B.scaleY=z,B.skewX=0,B.skewY=(C*R+T*L)/O}return B.rotation=t.Util._getRotation(B.rotation),B}}t.Transform=n;const r="[object Array]",i="[object Number]",a="[object String]",l="[object Boolean]",u=Math.PI/180,d=180/Math.PI,f="#",m="",S="0",v="Konva warning: ",y="Konva error: ",w="rgb(",N={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},b=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let k=[];const E=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(g){setTimeout(g,60)};t.Util={_isElement(g){return!!(g&&g.nodeType==1)},_isFunction(g){return!!(g&&g.constructor&&g.call&&g.apply)},_isPlainObject(g){return!!g&&g.constructor===Object},_isArray(g){return Object.prototype.toString.call(g)===r},_isNumber(g){return Object.prototype.toString.call(g)===i&&!isNaN(g)&&isFinite(g)},_isString(g){return Object.prototype.toString.call(g)===a},_isBoolean(g){return Object.prototype.toString.call(g)===l},isObject(g){return g instanceof Object},isValidSelector(g){if(typeof g!="string")return!1;const C=g[0];return C==="#"||C==="."||C===C.toUpperCase()},_sign(g){return g===0||g>0?1:-1},requestAnimFrame(g){k.push(g),k.length===1&&E(function(){const C=k;k=[],C.forEach(function(T){T()})})},createCanvasElement(){const g=document.createElement("canvas");try{g.style=g.style||{}}catch{}return g},createImageElement(){return document.createElement("img")},_isInDocument(g){for(;g=g.parentNode;)if(g==document)return!0;return!1},_urlToImage(g,C){const T=t.Util.createImageElement();T.onload=function(){C(T)},T.src=g},_rgbToHex(g,C,T){return((1<<24)+(g<<16)+(C<<8)+T).toString(16).slice(1)},_hexToRgb(g){g=g.replace(f,m);const C=parseInt(g,16);return{r:C>>16&255,g:C>>8&255,b:C&255}},getRandomColor(){let g=(Math.random()*16777215<<0).toString(16);for(;g.length<6;)g=S+g;return f+g},getRGB(g){let C;return g in N?(C=N[g],{r:C[0],g:C[1],b:C[2]}):g[0]===f?this._hexToRgb(g.substring(1)):g.substr(0,4)===w?(C=b.exec(g.replace(/ /g,"")),{r:parseInt(C[1],10),g:parseInt(C[2],10),b:parseInt(C[3],10)}):{r:0,g:0,b:0}},colorToRGBA(g){return g=g||"black",t.Util._namedColorToRBA(g)||t.Util._hex3ColorToRGBA(g)||t.Util._hex4ColorToRGBA(g)||t.Util._hex6ColorToRGBA(g)||t.Util._hex8ColorToRGBA(g)||t.Util._rgbColorToRGBA(g)||t.Util._rgbaColorToRGBA(g)||t.Util._hslColorToRGBA(g)},_namedColorToRBA(g){const C=N[g.toLowerCase()];return C?{r:C[0],g:C[1],b:C[2],a:1}:null},_rgbColorToRGBA(g){if(g.indexOf("rgb(")===0){g=g.match(/rgb\(([^)]+)\)/)[1];const C=g.split(/ *, */).map(Number);return{r:C[0],g:C[1],b:C[2],a:1}}},_rgbaColorToRGBA(g){if(g.indexOf("rgba(")===0){g=g.match(/rgba\(([^)]+)\)/)[1];const C=g.split(/ *, */).map((T,R)=>T.slice(-1)==="%"?R===3?parseInt(T)/100:parseInt(T)/100*255:Number(T));return{r:C[0],g:C[1],b:C[2],a:C[3]}}},_hex8ColorToRGBA(g){if(g[0]==="#"&&g.length===9)return{r:parseInt(g.slice(1,3),16),g:parseInt(g.slice(3,5),16),b:parseInt(g.slice(5,7),16),a:parseInt(g.slice(7,9),16)/255}},_hex6ColorToRGBA(g){if(g[0]==="#"&&g.length===7)return{r:parseInt(g.slice(1,3),16),g:parseInt(g.slice(3,5),16),b:parseInt(g.slice(5,7),16),a:1}},_hex4ColorToRGBA(g){if(g[0]==="#"&&g.length===5)return{r:parseInt(g[1]+g[1],16),g:parseInt(g[2]+g[2],16),b:parseInt(g[3]+g[3],16),a:parseInt(g[4]+g[4],16)/255}},_hex3ColorToRGBA(g){if(g[0]==="#"&&g.length===4)return{r:parseInt(g[1]+g[1],16),g:parseInt(g[2]+g[2],16),b:parseInt(g[3]+g[3],16),a:1}},_hslColorToRGBA(g){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(g)){const[C,...T]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(g),R=Number(T[0])/360,L=Number(T[1])/100,j=Number(T[2])/100;let I,O,B;if(L===0)return B=j*255,{r:Math.round(B),g:Math.round(B),b:Math.round(B),a:1};j<.5?I=j*(1+L):I=j+L-j*L;const z=2*j-I,K=[0,0,0];for(let ne=0;ne<3;ne++)O=R+1/3*-(ne-1),O<0&&O++,O>1&&O--,6*O<1?B=z+(I-z)*6*O:2*O<1?B=I:3*O<2?B=z+(I-z)*(2/3-O)*6:B=z,K[ne]=B*255;return{r:Math.round(K[0]),g:Math.round(K[1]),b:Math.round(K[2]),a:1}}},haveIntersection(g,C){return!(C.x>g.x+g.width||C.x+C.width<g.x||C.y>g.y+g.height||C.y+C.height<g.y)},cloneObject(g){const C={};for(const T in g)this._isPlainObject(g[T])?C[T]=this.cloneObject(g[T]):this._isArray(g[T])?C[T]=this.cloneArray(g[T]):C[T]=g[T];return C},cloneArray(g){return g.slice(0)},degToRad(g){return g*u},radToDeg(g){return g*d},_degToRad(g){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(g)},_radToDeg(g){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(g)},_getRotation(g){return e.Konva.angleDeg?t.Util.radToDeg(g):g},_capitalize(g){return g.charAt(0).toUpperCase()+g.slice(1)},throw(g){throw new Error(y+g)},error(g){console.error(y+g)},warn(g){e.Konva.showWarnings&&console.warn(v+g)},each(g,C){for(const T in g)C(T,g[T])},_inRange(g,C,T){return C<=g&&g<T},_getProjectionToSegment(g,C,T,R,L,j){let I,O,B;const z=(g-T)*(g-T)+(C-R)*(C-R);if(z==0)I=g,O=C,B=(L-T)*(L-T)+(j-R)*(j-R);else{const K=((L-g)*(T-g)+(j-C)*(R-C))/z;K<0?(I=g,O=C,B=(g-L)*(g-L)+(C-j)*(C-j)):K>1?(I=T,O=R,B=(T-L)*(T-L)+(R-j)*(R-j)):(I=g+K*(T-g),O=C+K*(R-C),B=(I-L)*(I-L)+(O-j)*(O-j))}return[I,O,B]},_getProjectionToLine(g,C,T){const R=t.Util.cloneObject(g);let L=Number.MAX_VALUE;return C.forEach(function(j,I){if(!T&&I===C.length-1)return;const O=C[(I+1)%C.length],B=t.Util._getProjectionToSegment(j.x,j.y,O.x,O.y,g.x,g.y),z=B[0],K=B[1],ne=B[2];ne<L&&(R.x=z,R.y=K,L=ne)}),R},_prepareArrayForTween(g,C,T){const R=[],L=[];if(g.length>C.length){const I=C;C=g,g=I}for(let I=0;I<g.length;I+=2)R.push({x:g[I],y:g[I+1]});for(let I=0;I<C.length;I+=2)L.push({x:C[I],y:C[I+1]});const j=[];return L.forEach(function(I){const O=t.Util._getProjectionToLine(I,R,T);j.push(O.x),j.push(O.y)}),j},_prepareToStringify(g){let C;g.visitedByCircularReferenceRemoval=!0;for(const T in g)if(g.hasOwnProperty(T)&&g[T]&&typeof g[T]=="object"){if(C=Object.getOwnPropertyDescriptor(g,T),g[T].visitedByCircularReferenceRemoval||t.Util._isElement(g[T]))if(C.configurable)delete g[T];else return null;else if(t.Util._prepareToStringify(g[T])===null)if(C.configurable)delete g[T];else return null}return delete g.visitedByCircularReferenceRemoval,g},_assign(g,C){for(const T in C)g[T]=C[T];return g},_getFirstPointerId(g){return g.touches?g.changedTouches[0].identifier:g.pointerId||999},releaseCanvas(...g){e.Konva.releaseCanvasOnDestroy&&g.forEach(C=>{C.width=0,C.height=0})},drawRoundedRectPath(g,C,T,R){let L=0,j=0,I=0,O=0;typeof R=="number"?L=j=I=O=Math.min(R,C/2,T/2):(L=Math.min(R[0]||0,C/2,T/2),j=Math.min(R[1]||0,C/2,T/2),O=Math.min(R[2]||0,C/2,T/2),I=Math.min(R[3]||0,C/2,T/2)),g.moveTo(L,0),g.lineTo(C-j,0),g.arc(C-j,j,j,Math.PI*3/2,0,!1),g.lineTo(C,T-O),g.arc(C-O,T-O,O,0,Math.PI/2,!1),g.lineTo(I,T),g.arc(I,T-I,I,Math.PI/2,Math.PI,!1),g.lineTo(0,L),g.arc(L,L,L,Math.PI,Math.PI*3/2,!1)}}})(yt);var dt={},br={},yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.HitContext=yi.SceneContext=yi.Context=void 0;const P6=yt,jk=Te;function Mk(t){const e=[],n=t.length,r=P6.Util;for(let i=0;i<n;i++){let a=t[i];r._isNumber(a)?a=Math.round(a*1e3)/1e3:r._isString(a)||(a=a+""),e.push(a)}return e}const Vv=",",Ok="(",Ak=")",Lk="([",Fk="])",Dk=";",Ik="()",zk="=",Wv=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],Uk=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],Gk=100;class xh{constructor(e){this.canvas=e,jk.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,i=r.length,a="",l,u,d,f;for(l=0;l<i;l++)u=r[l],d=u.method,d?(f=u.args,a+=d,e?a+=Ik:P6.Util._isArray(f[0])?a+=Lk+f.join(Vv)+Fk:(n&&(f=f.map(m=>typeof m=="number"?Math.floor(m):m)),a+=Ok+f.join(Vv)+Ak)):(a+=u.property,e||(a+=zk+u.val)),a+=Dk;return a}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=Gk&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,a,l){this._context.arc(e,n,r,i,a,l)}arcTo(e,n,r,i,a){this._context.arcTo(e,n,r,i,a)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,a,l){this._context.bezierCurveTo(e,n,r,i,a,l)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,a,l){return this._context.createRadialGradient(e,n,r,i,a,l)}drawImage(e,n,r,i,a,l,u,d,f){const m=arguments,S=this._context;m.length===3?S.drawImage(e,n,r):m.length===5?S.drawImage(e,n,r,i,a):m.length===9&&S.drawImage(e,n,r,i,a,l,u,d,f)}ellipse(e,n,r,i,a,l,u,d){this._context.ellipse(e,n,r,i,a,l,u,d)}isPointInPath(e,n,r,i){return r?this._context.isPointInPath(r,e,n,i):this._context.isPointInPath(e,n,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}roundRect(e,n,r,i,a){this._context.roundRect(e,n,r,i,a)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,a,l){this._context.setTransform(e,n,r,i,a,l)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,a,l){this._context.transform(e,n,r,i,a,l)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=Wv.length,r=this.setAttr,i,a;const l=function(u){let d=e[u],f;e[u]=function(){return a=Mk(Array.prototype.slice.call(arguments,0)),f=d.apply(e,arguments),e._trace({method:u,args:a}),f}};for(i=0;i<n;i++)l(Wv[i]);e.setAttr=function(){r.apply(e,arguments);const u=arguments[0];let d=arguments[1];(u==="shadowOffsetX"||u==="shadowOffsetY"||u==="shadowBlur")&&(d=d/this.canvas.getPixelRatio()),e._trace({property:u,val:d})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}yi.Context=xh;Uk.forEach(function(t){Object.defineProperty(xh.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class Bk extends xh{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(e);return}const a=e.getFillLinearGradientColorStops();if(a&&r==="linear-gradient"){this._fillLinearGradient(e);return}const l=e.getFillRadialGradientColorStops();if(l&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):i?this._fillPattern(e):a?this._fillLinearGradient(e):l&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),a=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(let l=0;l<i.length;l+=2)a.addColorStop(i[l],i[l+1]);this.setAttr("strokeStyle",a)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const a=this.getCanvas().getPixelRatio();this.setTransform(a,0,0,a,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i;const a=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",l=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,u=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},d=e.getAbsoluteScale(),f=this.canvas.getPixelRatio(),m=d.x*f,S=d.y*f;this.setAttr("shadowColor",a),this.setAttr("shadowBlur",l*Math.min(Math.abs(m),Math.abs(S))),this.setAttr("shadowOffsetX",u.x*m),this.setAttr("shadowOffsetY",u.y*S)}}yi.SceneContext=Bk;class Vk extends xh{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const a=this.getCanvas().getPixelRatio();this.setTransform(a,0,0,a,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),i=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}yi.HitContext=Vk;Object.defineProperty(br,"__esModule",{value:!0});br.HitCanvas=br.SceneCanvas=br.Canvas=void 0;const Kd=yt,T6=yi,R6=Te;let Kc;function Wk(){if(Kc)return Kc;const t=Kd.Util.createCanvasElement(),e=t.getContext("2d");return Kc=function(){const n=R6.Konva._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r}(),Kd.Util.releaseCanvas(t),Kc}class nm{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||R6.Konva.pixelRatio||Wk();this.pixelRatio=r,this._canvas=Kd.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return Kd.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}br.Canvas=nm;class Hk extends nm{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new T6.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}br.SceneCanvas=Hk;class $k extends nm{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new T6.HitContext(this),this.setSize(e.width,e.height)}}br.HitCanvas=$k;var _h={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=Te,n=yt;t.DD={get isDragging(){let r=!1;return t.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){let r;return t.DD._dragElements.forEach(i=>{r=i.node}),r},_dragElements:new Map,_drag(r){const i=[];t.DD._dragElements.forEach((a,l)=>{const{node:u}=a,d=u.getStage();d.setPointersPositions(r),a.pointerId===void 0&&(a.pointerId=n.Util._getFirstPointerId(r));const f=d._changedPointerPositions.find(m=>m.id===a.pointerId);if(f){if(a.dragStatus!=="dragging"){const m=u.dragDistance();if(Math.max(Math.abs(f.x-a.startPointerPos.x),Math.abs(f.y-a.startPointerPos.y))<m||(u.startDrag({evt:r}),!u.isDragging()))return}u._setDragPosition(r,a),i.push(u)}}),i.forEach(a=>{a.fire("dragmove",{type:"dragmove",target:a,evt:r},!0)})},_endDragBefore(r){const i=[];t.DD._dragElements.forEach(a=>{const{node:l}=a,u=l.getStage();if(r&&u.setPointersPositions(r),!u._changedPointerPositions.find(m=>m.id===a.pointerId))return;(a.dragStatus==="dragging"||a.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,a.dragStatus="stopped");const f=a.node.getLayer()||a.node instanceof e.Konva.Stage&&a.node;f&&i.indexOf(f)===-1&&i.push(f)}),i.forEach(a=>{a.draw()})},_endDragAfter(r){t.DD._dragElements.forEach((i,a)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:r},!0),i.dragStatus!=="dragging"&&t.DD._dragElements.delete(a)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))})(_h);var je={},ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.RGBComponent=Kk;ye.alphaComponent=Qk;ye.getNumberValidator=Yk;ye.getNumberOrArrayOfNumbersValidator=Xk;ye.getNumberOrAutoValidator=qk;ye.getStringValidator=Zk;ye.getStringOrGradientValidator=Jk;ye.getFunctionValidator=eE;ye.getNumberArrayValidator=tE;ye.getBooleanValidator=nE;ye.getComponentValidator=rE;const ki=Te,wt=yt;function Ei(t){return wt.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||wt.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function Kk(t){return t>255?255:t<0?0:Math.round(t)}function Qk(t){return t>1?1:t<1e-4?1e-4:t}function Yk(){if(ki.Konva.isUnminified)return function(t,e){return wt.Util._isNumber(t)||wt.Util.warn(Ei(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function Xk(t){if(ki.Konva.isUnminified)return function(e,n){let r=wt.Util._isNumber(e),i=wt.Util._isArray(e)&&e.length==t;return!r&&!i&&wt.Util.warn(Ei(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function qk(){if(ki.Konva.isUnminified)return function(t,e){return wt.Util._isNumber(t)||t==="auto"||wt.Util.warn(Ei(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Zk(){if(ki.Konva.isUnminified)return function(t,e){return wt.Util._isString(t)||wt.Util.warn(Ei(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function Jk(){if(ki.Konva.isUnminified)return function(t,e){const n=wt.Util._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||wt.Util.warn(Ei(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function eE(){if(ki.Konva.isUnminified)return function(t,e){return wt.Util._isFunction(t)||wt.Util.warn(Ei(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}function tE(){if(ki.Konva.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(wt.Util._isArray(t)?t.forEach(function(r){wt.Util._isNumber(r)||wt.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):wt.Util.warn(Ei(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function nE(){if(ki.Konva.isUnminified)return function(t,e){return t===!0||t===!1||wt.Util.warn(Ei(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function rE(t){if(ki.Konva.isUnminified)return function(e,n){return e==null||wt.Util.isObject(e)||wt.Util.warn(Ei(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=yt,n=ye,r="get",i="set";t.Factory={addGetterSetter(a,l,u,d,f){t.Factory.addGetter(a,l,u),t.Factory.addSetter(a,l,d,f),t.Factory.addOverloadedGetterSetter(a,l)},addGetter(a,l,u){const d=r+e.Util._capitalize(l);a.prototype[d]=a.prototype[d]||function(){const f=this.attrs[l];return f===void 0?u:f}},addSetter(a,l,u,d){const f=i+e.Util._capitalize(l);a.prototype[f]||t.Factory.overWriteSetter(a,l,u,d)},overWriteSetter(a,l,u,d){const f=i+e.Util._capitalize(l);a.prototype[f]=function(m){return u&&m!==void 0&&m!==null&&(m=u.call(this,m,l)),this._setAttr(l,m),d&&d.call(this),this}},addComponentsGetterSetter(a,l,u,d,f){const m=u.length,S=e.Util._capitalize,v=r+S(l),y=i+S(l);a.prototype[v]=function(){const N={};for(let b=0;b<m;b++){const k=u[b];N[k]=this.getAttr(l+S(k))}return N};const w=(0,n.getComponentValidator)(u);a.prototype[y]=function(N){const b=this.attrs[l];d&&(N=d.call(this,N,l)),w&&w.call(this,N,l);for(const k in N)N.hasOwnProperty(k)&&this._setAttr(l+S(k),N[k]);return N||u.forEach(k=>{this._setAttr(l+S(k),void 0)}),this._fireChangeEvent(l,b,N),f&&f.call(this),this},t.Factory.addOverloadedGetterSetter(a,l)},addOverloadedGetterSetter(a,l){const u=e.Util._capitalize(l),d=i+u,f=r+u;a.prototype[l]=function(){return arguments.length?(this[d](arguments[0]),this):this[f]()}},addDeprecatedGetterSetter(a,l,u,d){e.Util.error("Adding deprecated "+l);const f=r+e.Util._capitalize(l),m=l+" property is deprecated and will be removed soon. Look at Konva change log for more information.";a.prototype[f]=function(){e.Util.error(m);const S=this.attrs[l];return S===void 0?u:S},t.Factory.addSetter(a,l,d,function(){e.Util.error(m)}),t.Factory.addOverloadedGetterSetter(a,l)},backCompat(a,l){e.Util.each(l,function(u,d){const f=a.prototype[d],m=r+e.Util._capitalize(u),S=i+e.Util._capitalize(u);function v(){f.apply(this,arguments),e.Util.error('"'+u+'" method is deprecated and will be removed soon. Use ""'+d+'" instead.')}a.prototype[u]=v,a.prototype[m]=v,a.prototype[S]=v})},afterSetFilter(){this._filterUpToDate=!1}}})(je);Object.defineProperty(dt,"__esModule",{value:!0});dt.Node=void 0;const za=br,qn=_h,_u=je,Vi=Te,Oe=yt,Nt=ye,cd="absoluteOpacity",Qc="allEventListeners",ui="absoluteTransform",Hv="absoluteScale",Ws="canvas",iE="Change",sE="children",aE="konva",G1="listening",oE="mouseenter",lE="mouseleave",uE="pointerenter",cE="pointerleave",dE="touchenter",hE="touchleave",$v="set",Kv="Shape",dd=" ",Qv="stage",$i="transform",fE="Stage",B1="visible",pE=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(dd);let gE=1;class we{constructor(e){this._id=gE++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===$i||e===ui)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===$i||e===ui)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(a=>a+"Change.konva").join(dd);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Ws)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===ui&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Ws)){const{scene:e,filter:n,hit:r,buffer:i}=this._cache.get(Ws);Oe.Util.releaseCanvas(e,n,r,i),this._cache.delete(Ws)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(n.width||r.width),a=Math.ceil(n.height||r.height),l=n.pixelRatio,u=n.x===void 0?Math.floor(r.x):n.x,d=n.y===void 0?Math.floor(r.y):n.y,f=n.offset||0,m=n.drawBorder||!1,S=n.hitCanvasPixelRatio||1;if(!i||!a){Oe.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const v=Math.abs(Math.round(r.x)-u)>.5?1:0,y=Math.abs(Math.round(r.y)-d)>.5?1:0;i+=f*2+v,a+=f*2+y,u-=f,d-=f;const w=new za.SceneCanvas({pixelRatio:l,width:i,height:a}),N=new za.SceneCanvas({pixelRatio:l,width:0,height:0,willReadFrequently:!0}),b=new za.HitCanvas({pixelRatio:S,width:i,height:a}),k=w.getContext(),E=b.getContext(),g=new za.SceneCanvas({width:w.width/w.pixelRatio+Math.abs(u),height:w.height/w.pixelRatio+Math.abs(d),pixelRatio:w.pixelRatio}),C=g.getContext();return b.isCache=!0,w.isCache=!0,this._cache.delete(Ws),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(w.getContext()._context.imageSmoothingEnabled=!1,N.getContext()._context.imageSmoothingEnabled=!1),k.save(),E.save(),C.save(),k.translate(-u,-d),E.translate(-u,-d),C.translate(-u,-d),g.x=u,g.y=d,this._isUnderCache=!0,this._clearSelfAndDescendantCache(cd),this._clearSelfAndDescendantCache(Hv),this.drawScene(w,this,g),this.drawHit(b,this),this._isUnderCache=!1,k.restore(),E.restore(),m&&(k.save(),k.beginPath(),k.rect(0,0,i,a),k.closePath(),k.setAttr("strokeStyle","red"),k.setAttr("lineWidth",5),k.stroke(),k.restore()),this._cache.set(Ws,{scene:w,filter:N,hit:b,buffer:g,x:u,y:d}),this._requestDraw(),this}isCached(){return this._cache.has(Ws)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,a=1/0,l=-1/0,u=-1/0;const d=this.getAbsoluteTransform(n);return r.forEach(function(f){const m=d.point(f);i===void 0&&(i=l=m.x,a=u=m.y),i=Math.min(i,m.x),a=Math.min(a,m.y),l=Math.max(l,m.x),u=Math.max(u,m.y)}),{x:i,y:a,width:l-i,height:u-a}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,a=i.getContext(),l,u,d,f;if(e){if(!this._filterUpToDate){const m=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(l=e.length,a.clear(),a.drawImage(r._canvas,0,0,r.getWidth()/m,r.getHeight()/m),u=a.getImageData(0,0,i.getWidth(),i.getHeight()),d=0;d<l;d++){if(f=e[d],typeof f!="function"){Oe.Util.error("Filter should be type of function, but got "+typeof f+" instead. Please check correct filters");continue}f.call(this,u),a.putImageData(u,0,0)}}catch(S){Oe.Util.error("Unable to apply filter. "+S.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,n){if(this._cache&&this._cache.delete(Qc),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(dd);for(let i=0;i<r.length;i++){const l=r[i].split("."),u=l[0],d=l[1]||"";this.eventListeners[u]||(this.eventListeners[u]=[]),this.eventListeners[u].push({name:d,handler:n})}return this}off(e,n){let r=(e||"").split(dd),i=r.length,a,l,u,d,f,m;if(this._cache&&this._cache.delete(Qc),!e)for(l in this.eventListeners)this._off(l);for(a=0;a<i;a++)if(u=r[a],d=u.split("."),f=d[0],m=d[1],f)this.eventListeners[f]&&this._off(f,m,n);else for(l in this.eventListeners)this._off(l,m,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const i=this;this.on(e,function(a){const l=a.target.findAncestors(n,!0,i);for(let u=0;u<l.length;u++)a=Oe.Util.cloneObject(a),a.currentTarget=l[u],r.call(l[u],a)})}remove(){return this.isDragging()&&this.stopDrag(),qn.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(ui),this._clearSelfAndDescendantCache(cd),this._clearSelfAndDescendantCache(Hv),this._clearSelfAndDescendantCache(Qv),this._clearSelfAndDescendantCache(B1),this._clearSelfAndDescendantCache(G1)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+Oe.Util._capitalize(e);return Oe.Util._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==sE&&(r=$v+Oe.Util._capitalize(n),Oe.Util._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(G1,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(B1,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let i=!1;qn.DD._dragElements.forEach(l=>{l.dragStatus==="dragging"&&(l.node.nodeType==="Stage"||l.node.getLayer()===r)&&(i=!0)});const a=!n&&!Vi.Konva.hitOnDragEnabled&&(i||Vi.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!a}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,i,a,l,u;function d(m){for(i=[],a=m.length,l=0;l<a;l++)u=m[l],r++,u.nodeType!==Kv&&(i=i.concat(u.getChildren().slice())),u._id===n._id&&(l=a);i.length>0&&i[0].getDepth()<=e&&d(i)}const f=this.getStage();return n.nodeType!==fE&&f&&d(f.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache($i),this._clearSelfAndDescendantCache(ui)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),a=new Oe.Transform,l=this.offset();return a.m=i.slice(),a.translate(l.x,l.y),a.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...i}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache($i);const a=this._getAbsoluteTransform().copy();return a.invert(),a.translate(e.x,e.y),e={x:this.attrs.x+a.getTranslation().x,y:this.attrs.y+a.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache($i),this._clearSelfAndDescendantCache(ui),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,i=this.x(),a=this.y();return n!==void 0&&(i+=n),r!==void 0&&(a+=r),this.setPosition({x:i,y:a}),this}_eachAncestorReverse(e,n){let r=[],i=this.getParent(),a,l;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(a=r.length,l=0;l<a;l++)e(r[l])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Oe.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Oe.Util.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Oe.Util.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Oe.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Oe.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Oe.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(cd,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,i,a,l;const u={attrs:{},className:this.getClassName()};for(n in e)r=e[n],l=Oe.Util.isObject(r)&&!Oe.Util._isPlainObject(r)&&!Oe.Util._isArray(r),!l&&(i=typeof this[n]=="function"&&this[n],delete e[n],a=i?i.call(this):null,e[n]=r,a!==r&&(u.attrs[n]=r));return Oe.Util._prepareToStringify(u)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const i=[];n&&this._isMatch(e)&&i.push(this);let a=this.parent;for(;a;){if(a===r)return i;a._isMatch(e)&&i.push(a),a=a.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,i,a;for(i=0;i<r;i++)if(a=n[i],Oe.Util.isValidSelector(a)||(Oe.Util.warn('Selector "'+a+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Oe.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Oe.Util.warn("Konva is awesome, right?")),a.charAt(0)==="#"){if(this.id()===a.slice(1))return!0}else if(a.charAt(0)==="."){if(this.hasName(a.slice(1)))return!0}else if(this.className===a||this.nodeType===a)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(Qv,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(ui,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new Oe.Transform,this._eachAncestorReverse(function(r){const i=r.transformsEnabled();i==="all"?n.multiply(r.getTransform()):i==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(ui)||new Oe.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,a=this.attrs.y||0,l=this.attrs.offsetX||0,u=this.attrs.offsetY||0;n.translate(i-l,a-u)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache($i,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get($i)||new Oe.Transform;r.reset();const i=this.x(),a=this.y(),l=Vi.Konva.getAngle(this.rotation()),u=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,d=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,f=this.attrs.skewX||0,m=this.attrs.skewY||0,S=this.attrs.offsetX||0,v=this.attrs.offsetY||0;return(i!==0||a!==0)&&r.translate(i,a),l!==0&&r.rotate(l),(f!==0||m!==0)&&r.skew(f,m),(u!==1||d!==1)&&r.scale(u,d),(S!==0||v!==0)&&r.translate(-1*S,-1*v),r.dirty=!1,r}clone(e){let n=Oe.Util.cloneObject(this.attrs),r,i,a,l,u;for(r in e)n[r]=e[r];const d=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],a=i.length,l=0;l<a;l++)u=i[l],u.name.indexOf(aE)<0&&(d.eventListeners[r]||(d.eventListeners[r]=[]),d.eventListeners[r].push(u));return d}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),i=e.x!==void 0?e.x:Math.floor(n.x),a=e.y!==void 0?e.y:Math.floor(n.y),l=e.pixelRatio||1,u=new za.SceneCanvas({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:l}),d=u.getContext(),f=new za.SceneCanvas({width:u.width/u.pixelRatio+Math.abs(i),height:u.height/u.pixelRatio+Math.abs(a),pixelRatio:u.pixelRatio});return e.imageSmoothingEnabled===!1&&(d._context.imageSmoothingEnabled=!1),d.save(),(i||a)&&d.translate(-1*i,-1*a),this.drawScene(u,void 0,f),d.restore(),u}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,Oe.Util._urlToImage(this.toDataURL(e),function(a){n(a),i==null||i(a)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,this.toCanvas(e).toBlob(a=>{n(a),i==null||i(a)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Vi.Konva.dragDistance}_off(e,n,r){let i=this.eventListeners[e],a,l,u;for(a=0;a<i.length;a++)if(l=i[a].name,u=i[a].handler,(l!=="konva"||n==="konva")&&(!n||l===n)&&(!r||r===u)){if(i.splice(a,1),i.length===0){delete this.eventListeners[e];break}a--}}_fireChangeEvent(e,n,r){this._fire(e+iE,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[$v+Oe.Util._capitalize(e)];return Oe.Util._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Vi.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!Oe.Util.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let i;r!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){n&&this.nodeType===Kv&&(n.target=this);const i=[oE,lE,uE,cE,dE,hE];if(!(i.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const l=i.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!l&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,i;const a=(n=this._cache.get(Qc))!==null&&n!==void 0?n:{};let l=a==null?void 0:a[e];if(l===void 0){l=[];let u=Object.getPrototypeOf(this);for(;u;){const d=(i=(r=u.eventListeners)===null||r===void 0?void 0:r[e])!==null&&i!==void 0?i:[];l.push(...d),u=Object.getPrototypeOf(u)}a[e]=l,this._cache.set(Qc,a)}return l}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let a=0;a<r.length;a++)r[a].handler.call(this,n);const i=this.eventListeners[e];if(i)for(let a=0;a<i.length;a++)i[a].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition();if(!r)return;const a=r._getPointerById(n)||r._changedPointerPositions[0]||i;qn.DD._dragElements.set(this._id,{node:this,startPointerPos:a,offset:{x:a.x-i.x,y:a.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){qn.DD._dragElements.has(this._id)||this._createDragElement(e);const r=qn.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let i={x:r.x-n.offset.x,y:r.y-n.offset.y};const a=this.dragBoundFunc();if(a!==void 0){const l=a.call(this,i,e);l?i=l:Oe.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const n=qn.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),qn.DD._endDragBefore(e),qn.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=qn.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Vi.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;qn.DD._dragElements.forEach(a=>{this.isAncestorOf(a.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=qn.DD._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&qn.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return Oe.Util.haveIntersection(r,this.getClientRect())}static create(e,n){return Oe.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=we.prototype.getClassName.call(e),i=e.children,a,l,u;n&&(e.attrs.container=n),Vi.Konva[r]||(Oe.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const d=Vi.Konva[r];if(a=new d(e.attrs),i)for(l=i.length,u=0;u<l;u++)a.add(we._createNode(i[u]));return a}}dt.Node=we;we.prototype.nodeType="Node";we.prototype._attrsAffectingSize=[];we.prototype.eventListeners={};we.prototype.on.call(we.prototype,pE,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache($i),this._clearSelfAndDescendantCache(ui)});we.prototype.on.call(we.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(B1)});we.prototype.on.call(we.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(G1)});we.prototype.on.call(we.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(cd)});const tt=_u.Factory.addGetterSetter;tt(we,"zIndex");tt(we,"absolutePosition");tt(we,"position");tt(we,"x",0,(0,Nt.getNumberValidator)());tt(we,"y",0,(0,Nt.getNumberValidator)());tt(we,"globalCompositeOperation","source-over",(0,Nt.getStringValidator)());tt(we,"opacity",1,(0,Nt.getNumberValidator)());tt(we,"name","",(0,Nt.getStringValidator)());tt(we,"id","",(0,Nt.getStringValidator)());tt(we,"rotation",0,(0,Nt.getNumberValidator)());_u.Factory.addComponentsGetterSetter(we,"scale",["x","y"]);tt(we,"scaleX",1,(0,Nt.getNumberValidator)());tt(we,"scaleY",1,(0,Nt.getNumberValidator)());_u.Factory.addComponentsGetterSetter(we,"skew",["x","y"]);tt(we,"skewX",0,(0,Nt.getNumberValidator)());tt(we,"skewY",0,(0,Nt.getNumberValidator)());_u.Factory.addComponentsGetterSetter(we,"offset",["x","y"]);tt(we,"offsetX",0,(0,Nt.getNumberValidator)());tt(we,"offsetY",0,(0,Nt.getNumberValidator)());tt(we,"dragDistance",void 0,(0,Nt.getNumberValidator)());tt(we,"width",0,(0,Nt.getNumberValidator)());tt(we,"height",0,(0,Nt.getNumberValidator)());tt(we,"listening",!0,(0,Nt.getBooleanValidator)());tt(we,"preventDefault",!0,(0,Nt.getBooleanValidator)());tt(we,"filters",void 0,function(t){return this._filterUpToDate=!1,t});tt(we,"visible",!0,(0,Nt.getBooleanValidator)());tt(we,"transformsEnabled","all",(0,Nt.getStringValidator)());tt(we,"size");tt(we,"dragBoundFunc");tt(we,"draggable",!1,(0,Nt.getBooleanValidator)());_u.Factory.backCompat(we,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var pa={};Object.defineProperty(pa,"__esModule",{value:!0});pa.Container=void 0;const zo=je,op=dt,wh=ye;class ga extends op.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(i=>{const a=i._isMatch(e);return a&&r.push(i),!!(a&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){const e=op.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=op.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const i=this.getLayer(),a=e||i&&i.getCanvas(),l=a&&a.getContext(),u=this._getCanvasCache(),d=u&&u.scene,f=a&&a.isCache;if(!this.isVisible()&&!f)return this;if(d){l.save();const m=this.getAbsoluteTransform(n).getMatrix();l.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(l),l.restore()}else this._drawChildren("drawScene",a,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),i=e||r&&r.hitCanvas,a=i&&i.getContext(),l=this._getCanvasCache();if(l&&l.hit){a.save();const d=this.getAbsoluteTransform(n).getMatrix();a.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedHitCanvas(a),a.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r,i){var a;const l=n&&n.getContext(),u=this.clipWidth(),d=this.clipHeight(),f=this.clipFunc(),m=typeof u=="number"&&typeof d=="number"||f,S=r===this;if(m){l.save();const y=this.getAbsoluteTransform(r);let w=y.getMatrix();l.transform(w[0],w[1],w[2],w[3],w[4],w[5]),l.beginPath();let N;if(f)N=f.call(this,l,this);else{const b=this.clipX(),k=this.clipY();l.rect(b||0,k||0,u,d)}l.clip.apply(l,N),w=y.copy().invert().getMatrix(),l.transform(w[0],w[1],w[2],w[3],w[4],w[5])}const v=!S&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";v&&(l.save(),l._applyGlobalCompositeOperation(this)),(a=this.children)===null||a===void 0||a.forEach(function(y){y[e](n,r,i)}),v&&l.restore(),m&&l.restore()}getClientRect(e={}){var n;const r=e.skipTransform,i=e.relativeTo;let a,l,u,d,f={x:1/0,y:1/0,width:0,height:0};const m=this;(n=this.children)===null||n===void 0||n.forEach(function(y){if(!y.visible())return;const w=y.getClientRect({relativeTo:m,skipShadow:e.skipShadow,skipStroke:e.skipStroke});w.width===0&&w.height===0||(a===void 0?(a=w.x,l=w.y,u=w.x+w.width,d=w.y+w.height):(a=Math.min(a,w.x),l=Math.min(l,w.y),u=Math.max(u,w.x+w.width),d=Math.max(d,w.y+w.height)))});const S=this.find("Shape");let v=!1;for(let y=0;y<S.length;y++)if(S[y]._isVisible(this)){v=!0;break}return v&&a!==void 0?f={x:a,y:l,width:u-a,height:d-l}:f={x:0,y:0,width:0,height:0},r?f:this._transformedRect(f,i)}}pa.Container=ga;zo.Factory.addComponentsGetterSetter(ga,"clip",["x","y","width","height"]);zo.Factory.addGetterSetter(ga,"clipX",void 0,(0,wh.getNumberValidator)());zo.Factory.addGetterSetter(ga,"clipY",void 0,(0,wh.getNumberValidator)());zo.Factory.addGetterSetter(ga,"clipWidth",void 0,(0,wh.getNumberValidator)());zo.Factory.addGetterSetter(ga,"clipHeight",void 0,(0,wh.getNumberValidator)());zo.Factory.addGetterSetter(ga,"clipFunc");var j6={},Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.getCapturedShape=yE;Es.createEvent=rm;Es.hasPointerCapture=vE;Es.setPointerCapture=xE;Es.releaseCapture=O6;const mE=Te,ou=new Map,M6=mE.Konva._global.PointerEvent!==void 0;function yE(t){return ou.get(t)}function rm(t){return{evt:t,pointerId:t.pointerId}}function vE(t,e){return ou.get(t)===e}function xE(t,e){O6(t),e.getStage()&&(ou.set(t,e),M6&&e._fire("gotpointercapture",rm(new PointerEvent("gotpointercapture"))))}function O6(t,e){const n=ou.get(t);if(!n)return;const r=n.getStage();r&&r.content,ou.delete(t),M6&&n._fire("lostpointercapture",rm(new PointerEvent("lostpointercapture")))}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=yt,n=je,r=pa,i=Te,a=br,l=_h,u=Te,d=Es,f="Stage",m="string",S="px",v="mouseout",y="mouseleave",w="mouseover",N="mouseenter",b="mousemove",k="mousedown",E="mouseup",g="pointermove",C="pointerdown",T="pointerup",R="pointercancel",L="lostpointercapture",j="pointerout",I="pointerleave",O="pointerover",B="pointerenter",z="contextmenu",K="touchstart",ne="touchend",te="touchmove",ge="touchcancel",me="wheel",W=5,$=[[N,"_pointerenter"],[k,"_pointerdown"],[b,"_pointermove"],[E,"_pointerup"],[y,"_pointerleave"],[K,"_pointerdown"],[te,"_pointermove"],[ne,"_pointerup"],[ge,"_pointercancel"],[w,"_pointerover"],[me,"_wheel"],[z,"_contextmenu"],[C,"_pointerdown"],[g,"_pointermove"],[T,"_pointerup"],[R,"_pointercancel"],[I,"_pointerleave"],[L,"_lostpointercapture"]],X={mouse:{[j]:v,[I]:y,[O]:w,[B]:N,[g]:b,[C]:k,[T]:E,[R]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[j]:"touchout",[I]:"touchleave",[O]:"touchover",[B]:"touchenter",[g]:te,[C]:K,[T]:ne,[R]:ge,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[j]:j,[I]:I,[O]:O,[B]:B,[g]:g,[C]:C,[T]:T,[R]:R,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},ce=Ge=>Ge.indexOf("pointer")>=0?"pointer":Ge.indexOf("touch")>=0?"touch":"mouse",Q=Ge=>{const A=ce(Ge);if(A==="pointer")return i.Konva.pointerEventsEnabled&&X.pointer;if(A==="touch")return X.touch;if(A==="mouse")return X.mouse};function fe(Ge={}){return(Ge.clipFunc||Ge.clipWidth||Ge.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Ge}const Se="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class Ae extends r.Container{constructor(A){super(fe(A)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{fe(this.attrs)}),this._checkVisibility()}_validateAdd(A){const Y=A.getType()==="Layer",de=A.getType()==="FastLayer";Y||de||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const A=this.visible()?"":"none";this.content.style.display=A}setContainer(A){if(typeof A===m){let Y;if(A.charAt(0)==="."){const de=A.slice(1);A=document.getElementsByClassName(de)[0]}else A.charAt(0)!=="#"?Y=A:Y=A.slice(1),A=document.getElementById(Y);if(!A)throw"Can not find container in document with id "+Y}return this._setAttr("container",A),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),A.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const A=this.children,Y=A.length;for(let de=0;de<Y;de++)A[de].clear();return this}clone(A){return A||(A={}),A.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,A)}destroy(){super.destroy();const A=this.content;A&&e.Util._isInDocument(A)&&this.container().removeChild(A);const Y=t.stages.indexOf(this);return Y>-1&&t.stages.splice(Y,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const A=this._pointerPositions[0]||this._changedPointerPositions[0];return A?{x:A.x,y:A.y}:(e.Util.warn(Se),null)}_getPointerById(A){return this._pointerPositions.find(Y=>Y.id===A)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(A){A=A||{},A.x=A.x||0,A.y=A.y||0,A.width=A.width||this.width(),A.height=A.height||this.height();const Y=new a.SceneCanvas({width:A.width,height:A.height,pixelRatio:A.pixelRatio||1}),de=Y.getContext()._context,Ie=this.children;return(A.x||A.y)&&de.translate(-1*A.x,-1*A.y),Ie.forEach(function(ve){if(!ve.isVisible())return;const Ke=ve._toKonvaCanvas(A);de.drawImage(Ke._canvas,A.x,A.y,Ke.getWidth()/Ke.getPixelRatio(),Ke.getHeight()/Ke.getPixelRatio())}),Y}getIntersection(A){if(!A)return null;const Y=this.children,de=Y.length,Ie=de-1;for(let ve=Ie;ve>=0;ve--){const Ke=Y[ve].getIntersection(A);if(Ke)return Ke}return null}_resizeDOM(){const A=this.width(),Y=this.height();this.content&&(this.content.style.width=A+S,this.content.style.height=Y+S),this.bufferCanvas.setSize(A,Y),this.bufferHitCanvas.setSize(A,Y),this.children.forEach(de=>{de.setSize({width:A,height:Y}),de.draw()})}add(A,...Y){if(arguments.length>1){for(let Ie=0;Ie<arguments.length;Ie++)this.add(arguments[Ie]);return this}super.add(A);const de=this.children.length;return de>W&&e.Util.warn("The stage has "+de+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),A.setSize({width:this.width(),height:this.height()}),A.draw(),i.Konva.isBrowser&&this.content.appendChild(A.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(A){return d.hasPointerCapture(A,this)}setPointerCapture(A){d.setPointerCapture(A,this)}releaseCapture(A){d.releaseCapture(A,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&$.forEach(([A,Y])=>{this.content.addEventListener(A,de=>{this[Y](de)},{passive:!1})})}_pointerenter(A){this.setPointersPositions(A);const Y=Q(A.type);Y&&this._fire(Y.pointerenter,{evt:A,target:this,currentTarget:this})}_pointerover(A){this.setPointersPositions(A);const Y=Q(A.type);Y&&this._fire(Y.pointerover,{evt:A,target:this,currentTarget:this})}_getTargetShape(A){let Y=this[A+"targetShape"];return Y&&!Y.getStage()&&(Y=null),Y}_pointerleave(A){const Y=Q(A.type),de=ce(A.type);if(!Y)return;this.setPointersPositions(A);const Ie=this._getTargetShape(de),ve=!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled;Ie&&ve?(Ie._fireAndBubble(Y.pointerout,{evt:A}),Ie._fireAndBubble(Y.pointerleave,{evt:A}),this._fire(Y.pointerleave,{evt:A,target:this,currentTarget:this}),this[de+"targetShape"]=null):ve&&(this._fire(Y.pointerleave,{evt:A,target:this,currentTarget:this}),this._fire(Y.pointerout,{evt:A,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(A){const Y=Q(A.type),de=ce(A.type);if(!Y)return;this.setPointersPositions(A);let Ie=!1;this._changedPointerPositions.forEach(ve=>{const Ke=this.getIntersection(ve);if(l.DD.justDragged=!1,i.Konva["_"+de+"ListenClick"]=!0,!Ke||!Ke.isListening()){this[de+"ClickStartShape"]=void 0;return}i.Konva.capturePointerEventsEnabled&&Ke.setPointerCapture(ve.id),this[de+"ClickStartShape"]=Ke,Ke._fireAndBubble(Y.pointerdown,{evt:A,pointerId:ve.id}),Ie=!0;const qe=A.type.indexOf("touch")>=0;Ke.preventDefault()&&A.cancelable&&qe&&A.preventDefault()}),Ie||this._fire(Y.pointerdown,{evt:A,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(A){const Y=Q(A.type),de=ce(A.type);if(!Y||(i.Konva.isDragging()&&l.DD.node.preventDefault()&&A.cancelable&&A.preventDefault(),this.setPointersPositions(A),!(!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled)))return;const ve={};let Ke=!1;const qe=this._getTargetShape(de);this._changedPointerPositions.forEach(Gn=>{const Ye=d.getCapturedShape(Gn.id)||this.getIntersection(Gn),or=Gn.id,Rn={evt:A,pointerId:or},Bn=qe!==Ye;if(Bn&&qe&&(qe._fireAndBubble(Y.pointerout,{...Rn},Ye),qe._fireAndBubble(Y.pointerleave,{...Rn},Ye)),Ye){if(ve[Ye._id])return;ve[Ye._id]=!0}Ye&&Ye.isListening()?(Ke=!0,Bn&&(Ye._fireAndBubble(Y.pointerover,{...Rn},qe),Ye._fireAndBubble(Y.pointerenter,{...Rn},qe),this[de+"targetShape"]=Ye),Ye._fireAndBubble(Y.pointermove,{...Rn})):qe&&(this._fire(Y.pointerover,{evt:A,target:this,currentTarget:this,pointerId:or}),this[de+"targetShape"]=null)}),Ke||this._fire(Y.pointermove,{evt:A,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(A){const Y=Q(A.type),de=ce(A.type);if(!Y)return;this.setPointersPositions(A);const Ie=this[de+"ClickStartShape"],ve=this[de+"ClickEndShape"],Ke={};let qe=!1;this._changedPointerPositions.forEach(Gn=>{const Ye=d.getCapturedShape(Gn.id)||this.getIntersection(Gn);if(Ye){if(Ye.releaseCapture(Gn.id),Ke[Ye._id])return;Ke[Ye._id]=!0}const or=Gn.id,Rn={evt:A,pointerId:or};let Bn=!1;i.Konva["_"+de+"InDblClickWindow"]?(Bn=!0,clearTimeout(this[de+"DblTimeout"])):l.DD.justDragged||(i.Konva["_"+de+"InDblClickWindow"]=!0,clearTimeout(this[de+"DblTimeout"])),this[de+"DblTimeout"]=setTimeout(function(){i.Konva["_"+de+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),Ye&&Ye.isListening()?(qe=!0,this[de+"ClickEndShape"]=Ye,Ye._fireAndBubble(Y.pointerup,{...Rn}),i.Konva["_"+de+"ListenClick"]&&Ie&&Ie===Ye&&(Ye._fireAndBubble(Y.pointerclick,{...Rn}),Bn&&ve&&ve===Ye&&Ye._fireAndBubble(Y.pointerdblclick,{...Rn}))):(this[de+"ClickEndShape"]=null,i.Konva["_"+de+"ListenClick"]&&this._fire(Y.pointerclick,{evt:A,target:this,currentTarget:this,pointerId:or}),Bn&&this._fire(Y.pointerdblclick,{evt:A,target:this,currentTarget:this,pointerId:or}))}),qe||this._fire(Y.pointerup,{evt:A,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+de+"ListenClick"]=!1,A.cancelable&&de!=="touch"&&de!=="pointer"&&A.preventDefault()}_contextmenu(A){this.setPointersPositions(A);const Y=this.getIntersection(this.getPointerPosition());Y&&Y.isListening()?Y._fireAndBubble(z,{evt:A}):this._fire(z,{evt:A,target:this,currentTarget:this})}_wheel(A){this.setPointersPositions(A);const Y=this.getIntersection(this.getPointerPosition());Y&&Y.isListening()?Y._fireAndBubble(me,{evt:A}):this._fire(me,{evt:A,target:this,currentTarget:this})}_pointercancel(A){this.setPointersPositions(A);const Y=d.getCapturedShape(A.pointerId)||this.getIntersection(this.getPointerPosition());Y&&Y._fireAndBubble(T,d.createEvent(A)),d.releaseCapture(A.pointerId)}_lostpointercapture(A){d.releaseCapture(A.pointerId)}setPointersPositions(A){const Y=this._getContentPosition();let de=null,Ie=null;A=A||window.event,A.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(A.touches,ve=>{this._pointerPositions.push({id:ve.identifier,x:(ve.clientX-Y.left)/Y.scaleX,y:(ve.clientY-Y.top)/Y.scaleY})}),Array.prototype.forEach.call(A.changedTouches||A.touches,ve=>{this._changedPointerPositions.push({id:ve.identifier,x:(ve.clientX-Y.left)/Y.scaleX,y:(ve.clientY-Y.top)/Y.scaleY})})):(de=(A.clientX-Y.left)/Y.scaleX,Ie=(A.clientY-Y.top)/Y.scaleY,this.pointerPos={x:de,y:Ie},this._pointerPositions=[{x:de,y:Ie,id:e.Util._getFirstPointerId(A)}],this._changedPointerPositions=[{x:de,y:Ie,id:e.Util._getFirstPointerId(A)}])}_setPointerPosition(A){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(A)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const A=this.content.getBoundingClientRect();return{top:A.top,left:A.left,scaleX:A.width/this.content.clientWidth||1,scaleY:A.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new a.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new a.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!i.Konva.isBrowser)return;const A=this.container();if(!A)throw"Stage has no container. A container is required.";A.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),A.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(A){A.batchDraw()}),this}}t.Stage=Ae,Ae.prototype.nodeType=f,(0,u._registerNode)(Ae),n.Factory.addGetterSetter(Ae,"container"),i.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(Ge=>{Ge.batchDraw()})})})(j6);var wu={},At={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=Te,n=yt,r=je,i=dt,a=ye,l=Te,u=Es,d="hasShadow",f="shadowRGBA",m="patternImage",S="linearGradient",v="radialGradient";let y;function w(){return y||(y=n.Util.createCanvasElement().getContext("2d"),y)}t.shapes={};function N(I){const O=this.attrs.fillRule;O?I.fill(O):I.fill()}function b(I){I.stroke()}function k(I){const O=this.attrs.fillRule;O?I.fill(O):I.fill()}function E(I){I.stroke()}function g(){this._clearCache(d)}function C(){this._clearCache(f)}function T(){this._clearCache(m)}function R(){this._clearCache(S)}function L(){this._clearCache(v)}class j extends i.Node{constructor(O){super(O);let B;for(;B=n.Util.getRandomColor(),!(B&&!(B in t.shapes)););this.colorKey=B,t.shapes[B]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(d,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(m,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const B=w().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(B&&B.setTransform){const z=new n.Transform;z.translate(this.fillPatternX(),this.fillPatternY()),z.rotate(e.Konva.getAngle(this.fillPatternRotation())),z.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),z.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const K=z.getMatrix(),ne=typeof DOMMatrix>"u"?{a:K[0],b:K[1],c:K[2],d:K[3],e:K[4],f:K[5]}:new DOMMatrix(K);B.setTransform(ne)}return B}}_getLinearGradient(){return this._getCache(S,this.__getLinearGradient)}__getLinearGradient(){const O=this.fillLinearGradientColorStops();if(O){const B=w(),z=this.fillLinearGradientStartPoint(),K=this.fillLinearGradientEndPoint(),ne=B.createLinearGradient(z.x,z.y,K.x,K.y);for(let te=0;te<O.length;te+=2)ne.addColorStop(O[te],O[te+1]);return ne}}_getRadialGradient(){return this._getCache(v,this.__getRadialGradient)}__getRadialGradient(){const O=this.fillRadialGradientColorStops();if(O){const B=w(),z=this.fillRadialGradientStartPoint(),K=this.fillRadialGradientEndPoint(),ne=B.createRadialGradient(z.x,z.y,this.fillRadialGradientStartRadius(),K.x,K.y,this.fillRadialGradientEndRadius());for(let te=0;te<O.length;te+=2)ne.addColorStop(O[te],O[te+1]);return ne}}getShadowRGBA(){return this._getCache(f,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const O=n.Util.colorToRGBA(this.shadowColor());if(O)return"rgba("+O.r+","+O.g+","+O.b+","+O.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const O=this.hitStrokeWidth();return O==="auto"?this.hasStroke():this.strokeEnabled()&&!!O}intersects(O){const B=this.getStage();if(!B)return!1;const z=B.bufferHitCanvas;return z.getContext().clear(),this.drawHit(z,void 0,!0),z.context.getImageData(Math.round(O.x),Math.round(O.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(O){var B;if(!((B=this.attrs.perfectDrawEnabled)!==null&&B!==void 0?B:!0))return!1;const K=O||this.hasFill(),ne=this.hasStroke(),te=this.getAbsoluteOpacity()!==1;if(K&&ne&&te)return!0;const ge=this.hasShadow(),me=this.shadowForStrokeEnabled();return!!(K&&ne&&ge&&me)}setStrokeHitEnabled(O){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),O?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const O=this.size();return{x:this._centroid?-O.width/2:0,y:this._centroid?-O.height/2:0,width:O.width,height:O.height}}getClientRect(O={}){let B=!1,z=this.getParent();for(;z;){if(z.isCached()){B=!0;break}z=z.getParent()}const K=O.skipTransform,ne=O.relativeTo||B&&this.getStage()||void 0,te=this.getSelfRect(),me=!O.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,W=te.width+me,$=te.height+me,X=!O.skipShadow&&this.hasShadow(),ce=X?this.shadowOffsetX():0,Q=X?this.shadowOffsetY():0,fe=W+Math.abs(ce),Se=$+Math.abs(Q),Ae=X&&this.shadowBlur()||0,Ge=fe+Ae*2,A=Se+Ae*2,Y={width:Ge,height:A,x:-(me/2+Ae)+Math.min(ce,0)+te.x,y:-(me/2+Ae)+Math.min(Q,0)+te.y};return K?Y:this._transformedRect(Y,ne)}drawScene(O,B,z){const K=this.getLayer(),ne=O||K.getCanvas(),te=ne.getContext(),ge=this._getCanvasCache(),me=this.getSceneFunc(),W=this.hasShadow();let $;const X=!1,ce=B===this;if(!this.isVisible()&&!ce)return this;if(ge){te.save();const Q=this.getAbsoluteTransform(B).getMatrix();return te.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),this._drawCachedSceneCanvas(te),te.restore(),this}if(!me)return this;if(te.save(),this._useBufferCanvas()&&!X){$=this.getStage();const Q=z||$.bufferCanvas,fe=Q.getContext();fe.clear(),fe.save(),fe._applyLineJoin(this);const Se=this.getAbsoluteTransform(B).getMatrix();fe.transform(Se[0],Se[1],Se[2],Se[3],Se[4],Se[5]),me.call(this,fe,this),fe.restore();const Ae=Q.pixelRatio;W&&te._applyShadow(this),te._applyOpacity(this),te._applyGlobalCompositeOperation(this),te.drawImage(Q._canvas,Q.x||0,Q.y||0,Q.width/Ae,Q.height/Ae)}else{if(te._applyLineJoin(this),!ce){const Q=this.getAbsoluteTransform(B).getMatrix();te.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),te._applyOpacity(this),te._applyGlobalCompositeOperation(this)}W&&te._applyShadow(this),me.call(this,te,this)}return te.restore(),this}drawHit(O,B,z=!1){if(!this.shouldDrawHit(B,z))return this;const K=this.getLayer(),ne=O||K.hitCanvas,te=ne&&ne.getContext(),ge=this.hitFunc()||this.sceneFunc(),me=this._getCanvasCache(),W=me&&me.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),W){te.save();const X=this.getAbsoluteTransform(B).getMatrix();return te.transform(X[0],X[1],X[2],X[3],X[4],X[5]),this._drawCachedHitCanvas(te),te.restore(),this}if(!ge)return this;if(te.save(),te._applyLineJoin(this),!(this===B)){const X=this.getAbsoluteTransform(B).getMatrix();te.transform(X[0],X[1],X[2],X[3],X[4],X[5])}return ge.call(this,te,this),te.restore(),this}drawHitFromCache(O=0){const B=this._getCanvasCache(),z=this._getCachedSceneCanvas(),K=B.hit,ne=K.getContext(),te=K.getWidth(),ge=K.getHeight();ne.clear(),ne.drawImage(z._canvas,0,0,te,ge);try{const me=ne.getImageData(0,0,te,ge),W=me.data,$=W.length,X=n.Util._hexToRgb(this.colorKey);for(let ce=0;ce<$;ce+=4)W[ce+3]>O?(W[ce]=X.r,W[ce+1]=X.g,W[ce+2]=X.b,W[ce+3]=255):W[ce+3]=0;ne.putImageData(me,0,0)}catch(me){n.Util.error("Unable to draw hit graph from cached scene canvas. "+me.message)}return this}hasPointerCapture(O){return u.hasPointerCapture(O,this)}setPointerCapture(O){u.setPointerCapture(O,this)}releaseCapture(O){u.releaseCapture(O,this)}}t.Shape=j,j.prototype._fillFunc=N,j.prototype._strokeFunc=b,j.prototype._fillFuncHit=k,j.prototype._strokeFuncHit=E,j.prototype._centroid=!1,j.prototype.nodeType="Shape",(0,l._registerNode)(j),j.prototype.eventListeners={},j.prototype.on.call(j.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",g),j.prototype.on.call(j.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",C),j.prototype.on.call(j.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",T),j.prototype.on.call(j.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",R),j.prototype.on.call(j.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",L),r.Factory.addGetterSetter(j,"stroke",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(j,"strokeWidth",2,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(j,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(j,"hitStrokeWidth","auto",(0,a.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(j,"strokeHitEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(j,"perfectDrawEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(j,"shadowForStrokeEnabled",!0,(0,a.getBooleanValidator)()),r.Factory.addGetterSetter(j,"lineJoin"),r.Factory.addGetterSetter(j,"lineCap"),r.Factory.addGetterSetter(j,"sceneFunc"),r.Factory.addGetterSetter(j,"hitFunc"),r.Factory.addGetterSetter(j,"dash"),r.Factory.addGetterSetter(j,"dashOffset",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(j,"shadowColor",void 0,(0,a.getStringValidator)()),r.Factory.addGetterSetter(j,"shadowBlur",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(j,"shadowOpacity",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(j,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(j,"shadowOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(j,"shadowOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(j,"fillPatternImage"),r.Factory.addGetterSetter(j,"fill",void 0,(0,a.getStringOrGradientValidator)()),r.Factory.addGetterSetter(j,"fillPatternX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(j,"fillPatternY",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(j,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(j,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(j,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(j,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(j,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(j,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(j,"fillEnabled",!0),r.Factory.addGetterSetter(j,"strokeEnabled",!0),r.Factory.addGetterSetter(j,"shadowEnabled",!0),r.Factory.addGetterSetter(j,"dashEnabled",!0),r.Factory.addGetterSetter(j,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(j,"fillPriority","color"),r.Factory.addComponentsGetterSetter(j,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(j,"fillPatternOffsetX",0,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(j,"fillPatternOffsetY",0,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(j,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(j,"fillPatternScaleX",1,(0,a.getNumberValidator)()),r.Factory.addGetterSetter(j,"fillPatternScaleY",1,(0,a.getNumberValidator)()),r.Factory.addComponentsGetterSetter(j,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(j,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(j,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(j,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(j,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(j,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(j,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(j,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(j,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(j,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(j,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(j,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(j,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(j,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(j,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(j,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(j,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(j,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(j,"fillPatternRotation",0),r.Factory.addGetterSetter(j,"fillRule",void 0,(0,a.getStringValidator)()),r.Factory.backCompat(j,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(At);Object.defineProperty(wu,"__esModule",{value:!0});wu.Layer=void 0;const oi=yt,lp=pa,Ua=dt,im=je,Yv=br,_E=ye,wE=At,SE=Te,CE="#",kE="beforeDraw",EE="draw",A6=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],NE=A6.length;let Uo=class extends lp.Container{constructor(e){super(e),this.canvas=new Yv.SceneCanvas,this.hitCanvas=new Yv.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Ua.Node.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Ua.Node.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Ua.Node.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Ua.Node.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Ua.Node.prototype.remove.call(this),e&&e.parentNode&&oi.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&oi.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Ua.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){oi.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){oi.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,oi.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let i=0;i<NE;i++){const a=A6[i],l=this._getIntersection({x:e.x+a.x*n,y:e.y+a.y*n}),u=l.shape;if(u)return u;if(r=!!l.antialiased,!l.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(i===255){const a=oi.Util._rgbToHex(r[0],r[1],r[2]),l=wE.shapes[CE+a];return l?{shape:l}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,n,r){const i=this.getLayer(),a=e||i&&i.getCanvas();return this._fire(kE,{node:this}),this.clearBeforeDraw()&&a.getContext().clear(),lp.Container.prototype.drawScene.call(this,a,n,r),this._fire(EE,{node:this}),this}drawHit(e,n){const r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),lp.Container.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){oi.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return oi.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return oi.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};wu.Layer=Uo;Uo.prototype.nodeType="Layer";(0,SE._registerNode)(Uo);im.Factory.addGetterSetter(Uo,"imageSmoothingEnabled",!0);im.Factory.addGetterSetter(Uo,"clearBeforeDraw",!0);im.Factory.addGetterSetter(Uo,"hitGraphEnabled",!0,(0,_E.getBooleanValidator)());var Sh={};Object.defineProperty(Sh,"__esModule",{value:!0});Sh.FastLayer=void 0;const bE=yt,PE=wu,TE=Te;class sm extends PE.Layer{constructor(e){super(e),this.listening(!1),bE.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Sh.FastLayer=sm;sm.prototype.nodeType="FastLayer";(0,TE._registerNode)(sm);var Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.Group=void 0;const RE=yt,jE=pa,ME=Te;let am=class extends jE.Container{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&RE.Util.throw("You may only add groups and shapes to groups.")}};Go.Group=am;am.prototype.nodeType="Group";(0,ME._registerNode)(am);var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.Animation=void 0;const up=Te,Xv=yt,cp=function(){return up.glob.performance&&up.glob.performance.now?function(){return up.glob.performance.now()}:function(){return new Date().getTime()}}();class $r{constructor(e,n){this.id=$r.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:cp(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let i=0;i<r;i++)if(n[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=$r.animations,r=n.length;for(let i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=cp(),$r._addAnimation(this),this}stop(){return $r._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,i=r.length;for(let a=0;a<i;a++)if(r[a].id===n){this.animations.splice(a,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const i=n[r],a=i.layers,l=i.func;i._updateFrameObject(cp());const u=a.length;let d;if(l?d=l.call(i,i.frame)!==!1:d=!0,!!d)for(let f=0;f<u;f++){const m=a[f];m._id!==void 0&&(e[m._id]=m)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=$r;e.animations.length?(e._runFrames(),Xv.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Xv.Util.requestAnimFrame(this._animationLoop))}}Bo.Animation=$r;$r.animations=[];$r.animIdCounter=0;$r.animRunning=!1;var L6={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=yt,n=Bo,r=dt,i=Te,a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=1,u=2,d=3,f=["fill","stroke","shadowColor"];let m=0;class S{constructor(w,N,b,k,E,g,C){this.prop=w,this.propFunc=N,this.begin=k,this._pos=k,this.duration=g,this._change=0,this.prevPos=0,this.yoyo=C,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=b,this._change=E-this.begin,this.pause()}fire(w){const N=this[w];N&&N()}setTime(w){w>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():w<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=w,this.update())}getTime(){return this._time}setPosition(w){this.prevPos=this._pos,this.propFunc(w),this._pos=w}getPosition(w){return w===void 0&&(w=this._time),this.func(w,this.begin,this._change,this.duration)}play(){this.state=u,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=d,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(w){this.pause(),this._time=w,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const w=this.getTimer()-this._startTime;this.state===u?this.setTime(w):this.state===d&&this.setTime(this.duration-w)}pause(){this.state=l,this.fire("onPause")}getTimer(){return new Date().getTime()}}class v{constructor(w){const N=this,b=w.node,k=b._id,E=w.easing||t.Easings.Linear,g=!!w.yoyo;let C,T;typeof w.duration>"u"?C=.3:w.duration===0?C=.001:C=w.duration,this.node=b,this._id=m++;const R=b.getLayer()||(b instanceof i.Konva.Stage?b.getLayers():null);R||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){N.tween.onEnterFrame()},R),this.tween=new S(T,function(L){N._tweenFunc(L)},E,0,1,C*1e3,g),this._addListeners(),v.attrs[k]||(v.attrs[k]={}),v.attrs[k][this._id]||(v.attrs[k][this._id]={}),v.tweens[k]||(v.tweens[k]={});for(T in w)a[T]===void 0&&this._addAttr(T,w[T]);this.reset(),this.onFinish=w.onFinish,this.onReset=w.onReset,this.onUpdate=w.onUpdate}_addAttr(w,N){const b=this.node,k=b._id;let E,g,C,T,R;const L=v.tweens[k][w];L&&delete v.attrs[k][L][w];let j=b.getAttr(w);if(e.Util._isArray(N))if(E=[],g=Math.max(N.length,j.length),w==="points"&&N.length!==j.length&&(N.length>j.length?(T=j,j=e.Util._prepareArrayForTween(j,N,b.closed())):(C=N,N=e.Util._prepareArrayForTween(N,j,b.closed()))),w.indexOf("fill")===0)for(let I=0;I<g;I++)if(I%2===0)E.push(N[I]-j[I]);else{const O=e.Util.colorToRGBA(j[I]);R=e.Util.colorToRGBA(N[I]),j[I]=O,E.push({r:R.r-O.r,g:R.g-O.g,b:R.b-O.b,a:R.a-O.a})}else for(let I=0;I<g;I++)E.push(N[I]-j[I]);else f.indexOf(w)!==-1?(j=e.Util.colorToRGBA(j),R=e.Util.colorToRGBA(N),E={r:R.r-j.r,g:R.g-j.g,b:R.b-j.b,a:R.a-j.a}):E=N-j;v.attrs[k][this._id][w]={start:j,diff:E,end:N,trueEnd:C,trueStart:T},v.tweens[k][w]=this._id}_tweenFunc(w){const N=this.node,b=v.attrs[N._id][this._id];let k,E,g,C,T,R,L,j;for(k in b){if(E=b[k],g=E.start,C=E.diff,j=E.end,e.Util._isArray(g))if(T=[],L=Math.max(g.length,j.length),k.indexOf("fill")===0)for(R=0;R<L;R++)R%2===0?T.push((g[R]||0)+C[R]*w):T.push("rgba("+Math.round(g[R].r+C[R].r*w)+","+Math.round(g[R].g+C[R].g*w)+","+Math.round(g[R].b+C[R].b*w)+","+(g[R].a+C[R].a*w)+")");else for(R=0;R<L;R++)T.push((g[R]||0)+C[R]*w);else f.indexOf(k)!==-1?T="rgba("+Math.round(g.r+C.r*w)+","+Math.round(g.g+C.g*w)+","+Math.round(g.b+C.b*w)+","+(g.a+C.a*w)+")":T=g+C*w;N.setAttr(k,T)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const w=this.node,N=v.attrs[w._id][this._id];N.points&&N.points.trueEnd&&w.setAttr("points",N.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const w=this.node,N=v.attrs[w._id][this._id];N.points&&N.points.trueStart&&w.points(N.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(w){return this.tween.seek(w*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const w=this.node._id,N=this._id,b=v.tweens[w];this.pause(),this.anim&&this.anim.stop();for(const k in b)delete v.tweens[w][k];delete v.attrs[w][N],v.tweens[w]&&(Object.keys(v.tweens[w]).length===0&&delete v.tweens[w],Object.keys(v.attrs[w]).length===0&&delete v.attrs[w])}}t.Tween=v,v.attrs={},v.tweens={},r.Node.prototype.to=function(y){const w=y.onFinish;y.node=this,y.onFinish=function(){this.destroy(),w&&w()},new v(y).play()},t.Easings={BackEaseIn(y,w,N,b){return N*(y/=b)*y*((1.70158+1)*y-1.70158)+w},BackEaseOut(y,w,N,b){return N*((y=y/b-1)*y*((1.70158+1)*y+1.70158)+1)+w},BackEaseInOut(y,w,N,b){let k=1.70158;return(y/=b/2)<1?N/2*(y*y*(((k*=1.525)+1)*y-k))+w:N/2*((y-=2)*y*(((k*=1.525)+1)*y+k)+2)+w},ElasticEaseIn(y,w,N,b,k,E){let g=0;return y===0?w:(y/=b)===1?w+N:(E||(E=b*.3),!k||k<Math.abs(N)?(k=N,g=E/4):g=E/(2*Math.PI)*Math.asin(N/k),-(k*Math.pow(2,10*(y-=1))*Math.sin((y*b-g)*(2*Math.PI)/E))+w)},ElasticEaseOut(y,w,N,b,k,E){let g=0;return y===0?w:(y/=b)===1?w+N:(E||(E=b*.3),!k||k<Math.abs(N)?(k=N,g=E/4):g=E/(2*Math.PI)*Math.asin(N/k),k*Math.pow(2,-10*y)*Math.sin((y*b-g)*(2*Math.PI)/E)+N+w)},ElasticEaseInOut(y,w,N,b,k,E){let g=0;return y===0?w:(y/=b/2)===2?w+N:(E||(E=b*(.3*1.5)),!k||k<Math.abs(N)?(k=N,g=E/4):g=E/(2*Math.PI)*Math.asin(N/k),y<1?-.5*(k*Math.pow(2,10*(y-=1))*Math.sin((y*b-g)*(2*Math.PI)/E))+w:k*Math.pow(2,-10*(y-=1))*Math.sin((y*b-g)*(2*Math.PI)/E)*.5+N+w)},BounceEaseOut(y,w,N,b){return(y/=b)<1/2.75?N*(7.5625*y*y)+w:y<2/2.75?N*(7.5625*(y-=1.5/2.75)*y+.75)+w:y<2.5/2.75?N*(7.5625*(y-=2.25/2.75)*y+.9375)+w:N*(7.5625*(y-=2.625/2.75)*y+.984375)+w},BounceEaseIn(y,w,N,b){return N-t.Easings.BounceEaseOut(b-y,0,N,b)+w},BounceEaseInOut(y,w,N,b){return y<b/2?t.Easings.BounceEaseIn(y*2,0,N,b)*.5+w:t.Easings.BounceEaseOut(y*2-b,0,N,b)*.5+N*.5+w},EaseIn(y,w,N,b){return N*(y/=b)*y+w},EaseOut(y,w,N,b){return-N*(y/=b)*(y-2)+w},EaseInOut(y,w,N,b){return(y/=b/2)<1?N/2*y*y+w:-N/2*(--y*(y-2)-1)+w},StrongEaseIn(y,w,N,b){return N*(y/=b)*y*y*y*y+w},StrongEaseOut(y,w,N,b){return N*((y=y/b-1)*y*y*y*y+1)+w},StrongEaseInOut(y,w,N,b){return(y/=b/2)<1?N/2*y*y*y*y*y+w:N/2*((y-=2)*y*y*y*y+2)+w},Linear(y,w,N,b){return N*y/b+w}}})(L6);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=Te,n=yt,r=dt,i=pa,a=j6,l=wu,u=Sh,d=Go,f=_h,m=At,S=Bo,v=L6,y=yi,w=br;t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:r.Node,Container:i.Container,Stage:a.Stage,stages:a.stages,Layer:l.Layer,FastLayer:u.FastLayer,Group:d.Group,DD:f.DD,Shape:m.Shape,shapes:m.shapes,Animation:S.Animation,Tween:v.Tween,Easings:v.Easings,Context:y.Context,Canvas:w.Canvas}),t.default=t.Konva})($d);var Ch={};Object.defineProperty(Ch,"__esModule",{value:!0});Ch.Arc=void 0;const kh=je,OE=At,qv=Te,Eh=ye,AE=Te;class Ni extends OE.Shape{_sceneFunc(e){const n=qv.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=qv.Konva.getAngle(r?360-this.angle():this.angle()),a=Math.cos(Math.min(i,Math.PI)),l=1,u=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),d=Math.sin(Math.min(i,Math.PI/2)),f=a*(a>0?e:n),m=l*n,S=u*(u>0?e:n),v=d*(d>0?n:e);return{x:f,y:r?-1*v:S,width:m-f,height:v-S}}}Ch.Arc=Ni;Ni.prototype._centroid=!0;Ni.prototype.className="Arc";Ni.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,AE._registerNode)(Ni);kh.Factory.addGetterSetter(Ni,"innerRadius",0,(0,Eh.getNumberValidator)());kh.Factory.addGetterSetter(Ni,"outerRadius",0,(0,Eh.getNumberValidator)());kh.Factory.addGetterSetter(Ni,"angle",0,(0,Eh.getNumberValidator)());kh.Factory.addGetterSetter(Ni,"clockwise",!1,(0,Eh.getBooleanValidator)());var Nh={},Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.Line=void 0;const bh=je,LE=Te,FE=At,F6=ye;function V1(t,e,n,r,i,a,l){const u=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),d=Math.sqrt(Math.pow(i-n,2)+Math.pow(a-r,2)),f=l*u/(u+d),m=l*d/(u+d),S=n-f*(i-t),v=r-f*(a-e),y=n+m*(i-t),w=r+m*(a-e);return[S,v,y,w]}function Zv(t,e){const n=t.length,r=[];for(let i=2;i<n-2;i+=2){const a=V1(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(a[0])||(r.push(a[0]),r.push(a[1]),r.push(t[i]),r.push(t[i+1]),r.push(a[2]),r.push(a[3]))}return r}let Ns=class extends FE.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,i=this.tension(),a=this.closed(),l=this.bezier();if(!r)return;let u=0;if(e.beginPath(),e.moveTo(n[0],n[1]),i!==0&&r>4){const d=this.getTensionPoints(),f=d.length;for(u=a?0:4,a||e.quadraticCurveTo(d[0],d[1],d[2],d[3]);u<f-2;)e.bezierCurveTo(d[u++],d[u++],d[u++],d[u++],d[u++],d[u++]);a||e.quadraticCurveTo(d[f-2],d[f-1],n[r-2],n[r-1])}else if(l)for(u=2;u<r;)e.bezierCurveTo(n[u++],n[u++],n[u++],n[u++],n[u++],n[u++]);else for(u=2;u<r;u+=2)e.lineTo(n[u],n[u+1]);a?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Zv(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),i=V1(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),a=V1(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),l=Zv(e,r);return[i[2],i[3]].concat(l).concat([a[0],a[1],e[n-2],e[n-1],a[2],a[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],i=e[1],a=e[1],l,u;for(let d=0;d<e.length/2;d++)l=e[d*2],u=e[d*2+1],n=Math.min(n,l),r=Math.max(r,l),i=Math.min(i,u),a=Math.max(a,u);return{x:n,y:i,width:r-n,height:a-i}}};Su.Line=Ns;Ns.prototype.className="Line";Ns.prototype._attrsAffectingSize=["points","bezier","tension"];(0,LE._registerNode)(Ns);bh.Factory.addGetterSetter(Ns,"closed",!1);bh.Factory.addGetterSetter(Ns,"bezier",!1);bh.Factory.addGetterSetter(Ns,"tension",0,(0,F6.getNumberValidator)());bh.Factory.addGetterSetter(Ns,"points",[],(0,F6.getNumberArrayValidator)());var Vo={},D6={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(l,u,d)=>{let f,m;const v=d/2;f=0;for(let y=0;y<20;y++)m=v*t.tValues[20][y]+v,f+=t.cValues[20][y]*r(l,u,m);return v*f};t.getCubicArcLength=e;const n=(l,u,d)=>{d===void 0&&(d=1);const f=l[0]-2*l[1]+l[2],m=u[0]-2*u[1]+u[2],S=2*l[1]-2*l[0],v=2*u[1]-2*u[0],y=4*(f*f+m*m),w=4*(f*S+m*v),N=S*S+v*v;if(y===0)return d*Math.sqrt(Math.pow(l[2]-l[0],2)+Math.pow(u[2]-u[0],2));const b=w/(2*y),k=N/y,E=d+b,g=k-b*b,C=E*E+g>0?Math.sqrt(E*E+g):0,T=b*b+g>0?Math.sqrt(b*b+g):0,R=b+Math.sqrt(b*b+g)!==0?g*Math.log(Math.abs((E+C)/(b+T))):0;return Math.sqrt(y)/2*(E*C-b*T+R)};t.getQuadraticArcLength=n;function r(l,u,d){const f=i(1,d,l),m=i(1,d,u),S=f*f+m*m;return Math.sqrt(S)}const i=(l,u,d)=>{const f=d.length-1;let m,S;if(f===0)return 0;if(l===0){S=0;for(let v=0;v<=f;v++)S+=t.binomialCoefficients[f][v]*Math.pow(1-u,f-v)*Math.pow(u,v)*d[v];return S}else{m=new Array(f);for(let v=0;v<f;v++)m[v]=f*(d[v+1]-d[v]);return i(l-1,u,m)}},a=(l,u,d)=>{let f=1,m=l/u,S=(l-d(m))/u,v=0;for(;f>.001;){const y=d(m+S),w=Math.abs(l-y)/u;if(w<f)f=w,m+=S;else{const N=d(m-S),b=Math.abs(l-N)/u;b<f?(f=b,m-=S):S/=2}if(v++,v>500)break}return m};t.t2length=a})(D6);Object.defineProperty(Vo,"__esModule",{value:!0});Vo.Path=void 0;const DE=je,IE=Te,zE=At,Ga=D6;class jt extends zE.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=jt.parsePathData(this.data()),this.pathLength=jt.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let i=0;i<n.length;i++){const a=n[i].command,l=n[i].points;switch(a){case"L":e.lineTo(l[0],l[1]);break;case"M":e.moveTo(l[0],l[1]);break;case"C":e.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"Q":e.quadraticCurveTo(l[0],l[1],l[2],l[3]);break;case"A":const u=l[0],d=l[1],f=l[2],m=l[3],S=l[4],v=l[5],y=l[6],w=l[7],N=f>m?f:m,b=f>m?1:f/m,k=f>m?m/f:1;e.translate(u,d),e.rotate(y),e.scale(b,k),e.arc(0,0,N,S,S+v,1-w),e.scale(1/b,1/k),e.rotate(-y),e.translate(-u,-d);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(d){if(d.command==="A"){const f=d.points[4],m=d.points[5],S=d.points[4]+m;let v=Math.PI/180;if(Math.abs(f-S)<v&&(v=Math.abs(f-S)),m<0)for(let y=f-v;y>S;y-=v){const w=jt.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],y,0);e.push(w.x,w.y)}else for(let y=f+v;y<S;y+=v){const w=jt.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],y,0);e.push(w.x,w.y)}}else if(d.command==="C")for(let f=0;f<=1;f+=.01){const m=jt.getPointOnCubicBezier(f,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);e.push(m.x,m.y)}else e=e.concat(d.points)});let n=e[0],r=e[0],i=e[1],a=e[1],l,u;for(let d=0;d<e.length/2;d++)l=e[d*2],u=e[d*2+1],isNaN(l)||(n=Math.min(n,l),r=Math.max(r,l)),isNaN(u)||(i=Math.min(i,u),a=Math.max(a,u));return{x:n,y:i,width:r-n,height:a-i}}getLength(){return this.pathLength}getPointAtLength(e){return jt.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,i=0,a=n.length;if(!a)return null;for(;i<a&&e>n[i].pathLength;)e-=n[i].pathLength,++i;if(i===a)return r=n[i-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[i].command==="M"?(r=n[i].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[i].start.x,y:n[i].start.y};const l=n[i],u=l.points;switch(l.command){case"L":return jt.getPointOnLine(e,l.start.x,l.start.y,u[0],u[1]);case"C":return jt.getPointOnCubicBezier((0,Ga.t2length)(e,jt.getPathLength(n),N=>(0,Ga.getCubicArcLength)([l.start.x,u[0],u[2],u[4]],[l.start.y,u[1],u[3],u[5]],N)),l.start.x,l.start.y,u[0],u[1],u[2],u[3],u[4],u[5]);case"Q":return jt.getPointOnQuadraticBezier((0,Ga.t2length)(e,jt.getPathLength(n),N=>(0,Ga.getQuadraticArcLength)([l.start.x,u[0],u[2]],[l.start.y,u[1],u[3]],N)),l.start.x,l.start.y,u[0],u[1],u[2],u[3]);case"A":const d=u[0],f=u[1],m=u[2],S=u[3],v=u[5],y=u[6];let w=u[4];return w+=v*e/l.pathLength,jt.getPointOnEllipticalArc(d,f,m,S,w,y)}return null}static getPointOnLine(e,n,r,i,a,l,u){l=l??n,u=u??r;const d=this.getLineLength(n,r,i,a);if(d<1e-10)return{x:n,y:r};if(i===n)return{x:l,y:u+(a>r?e:-e)};const f=(a-r)/(i-n),m=Math.sqrt(e*e/(1+f*f))*(i<n?-1:1),S=f*m;if(Math.abs(u-r-f*(l-n))<1e-10)return{x:l+m,y:u+S};const v=((l-n)*(i-n)+(u-r)*(a-r))/(d*d),y=n+v*(i-n),w=r+v*(a-r),N=this.getLineLength(l,u,y,w),b=Math.sqrt(e*e-N*N),k=Math.sqrt(b*b/(1+f*f))*(i<n?-1:1),E=f*k;return{x:y+k,y:w+E}}static getPointOnCubicBezier(e,n,r,i,a,l,u,d,f){function m(b){return b*b*b}function S(b){return 3*b*b*(1-b)}function v(b){return 3*b*(1-b)*(1-b)}function y(b){return(1-b)*(1-b)*(1-b)}const w=d*m(e)+l*S(e)+i*v(e)+n*y(e),N=f*m(e)+u*S(e)+a*v(e)+r*y(e);return{x:w,y:N}}static getPointOnQuadraticBezier(e,n,r,i,a,l,u){function d(y){return y*y}function f(y){return 2*y*(1-y)}function m(y){return(1-y)*(1-y)}const S=l*d(e)+i*f(e)+n*m(e),v=u*d(e)+a*f(e)+r*m(e);return{x:S,y:v}}static getPointOnEllipticalArc(e,n,r,i,a,l){const u=Math.cos(l),d=Math.sin(l),f={x:r*Math.cos(a),y:i*Math.sin(a)};return{x:e+(f.x*u-f.y*d),y:n+(f.x*d+f.y*u)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let S=0;S<r.length;S++)n=n.replace(new RegExp(r[S],"g"),"|"+r[S]);const i=n.split("|"),a=[],l=[];let u=0,d=0;const f=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let m;for(let S=1;S<i.length;S++){let v=i[S],y=v.charAt(0);for(v=v.slice(1),l.length=0;m=f.exec(v);)l.push(m[0]);const w=[];for(let N=0,b=l.length;N<b;N++){if(l[N]==="00"){w.push(0,0);continue}const k=parseFloat(l[N]);isNaN(k)?w.push(0):w.push(k)}for(;w.length>0&&!isNaN(w[0]);){let N="",b=[];const k=u,E=d;let g,C,T,R,L,j,I,O,B,z;switch(y){case"l":u+=w.shift(),d+=w.shift(),N="L",b.push(u,d);break;case"L":u=w.shift(),d=w.shift(),b.push(u,d);break;case"m":const K=w.shift(),ne=w.shift();if(u+=K,d+=ne,N="M",a.length>2&&a[a.length-1].command==="z"){for(let te=a.length-2;te>=0;te--)if(a[te].command==="M"){u=a[te].points[0]+K,d=a[te].points[1]+ne;break}}b.push(u,d),y="l";break;case"M":u=w.shift(),d=w.shift(),N="M",b.push(u,d),y="L";break;case"h":u+=w.shift(),N="L",b.push(u,d);break;case"H":u=w.shift(),N="L",b.push(u,d);break;case"v":d+=w.shift(),N="L",b.push(u,d);break;case"V":d=w.shift(),N="L",b.push(u,d);break;case"C":b.push(w.shift(),w.shift(),w.shift(),w.shift()),u=w.shift(),d=w.shift(),b.push(u,d);break;case"c":b.push(u+w.shift(),d+w.shift(),u+w.shift(),d+w.shift()),u+=w.shift(),d+=w.shift(),N="C",b.push(u,d);break;case"S":C=u,T=d,g=a[a.length-1],g.command==="C"&&(C=u+(u-g.points[2]),T=d+(d-g.points[3])),b.push(C,T,w.shift(),w.shift()),u=w.shift(),d=w.shift(),N="C",b.push(u,d);break;case"s":C=u,T=d,g=a[a.length-1],g.command==="C"&&(C=u+(u-g.points[2]),T=d+(d-g.points[3])),b.push(C,T,u+w.shift(),d+w.shift()),u+=w.shift(),d+=w.shift(),N="C",b.push(u,d);break;case"Q":b.push(w.shift(),w.shift()),u=w.shift(),d=w.shift(),b.push(u,d);break;case"q":b.push(u+w.shift(),d+w.shift()),u+=w.shift(),d+=w.shift(),N="Q",b.push(u,d);break;case"T":C=u,T=d,g=a[a.length-1],g.command==="Q"&&(C=u+(u-g.points[0]),T=d+(d-g.points[1])),u=w.shift(),d=w.shift(),N="Q",b.push(C,T,u,d);break;case"t":C=u,T=d,g=a[a.length-1],g.command==="Q"&&(C=u+(u-g.points[0]),T=d+(d-g.points[1])),u+=w.shift(),d+=w.shift(),N="Q",b.push(C,T,u,d);break;case"A":R=w.shift(),L=w.shift(),j=w.shift(),I=w.shift(),O=w.shift(),B=u,z=d,u=w.shift(),d=w.shift(),N="A",b=this.convertEndpointToCenterParameterization(B,z,u,d,I,O,R,L,j);break;case"a":R=w.shift(),L=w.shift(),j=w.shift(),I=w.shift(),O=w.shift(),B=u,z=d,u+=w.shift(),d+=w.shift(),N="A",b=this.convertEndpointToCenterParameterization(B,z,u,d,I,O,R,L,j);break}a.push({command:N||y,points:b,start:{x:k,y:E},pathLength:this.calcLength(k,E,N||y,b)})}(y==="z"||y==="Z")&&a.push({command:"z",points:[],start:void 0,pathLength:0})}return a}static calcLength(e,n,r,i){let a,l,u,d;const f=jt;switch(r){case"L":return f.getLineLength(e,n,i[0],i[1]);case"C":return(0,Ga.getCubicArcLength)([e,i[0],i[2],i[4]],[n,i[1],i[3],i[5]],1);case"Q":return(0,Ga.getQuadraticArcLength)([e,i[0],i[2]],[n,i[1],i[3]],1);case"A":a=0;const m=i[4],S=i[5],v=i[4]+S;let y=Math.PI/180;if(Math.abs(m-v)<y&&(y=Math.abs(m-v)),l=f.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],m,0),S<0)for(d=m-y;d>v;d-=y)u=f.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),a+=f.getLineLength(l.x,l.y,u.x,u.y),l=u;else for(d=m+y;d<v;d+=y)u=f.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),a+=f.getLineLength(l.x,l.y,u.x,u.y),l=u;return u=f.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],v,0),a+=f.getLineLength(l.x,l.y,u.x,u.y),a}return 0}static convertEndpointToCenterParameterization(e,n,r,i,a,l,u,d,f){const m=f*(Math.PI/180),S=Math.cos(m)*(e-r)/2+Math.sin(m)*(n-i)/2,v=-1*Math.sin(m)*(e-r)/2+Math.cos(m)*(n-i)/2,y=S*S/(u*u)+v*v/(d*d);y>1&&(u*=Math.sqrt(y),d*=Math.sqrt(y));let w=Math.sqrt((u*u*(d*d)-u*u*(v*v)-d*d*(S*S))/(u*u*(v*v)+d*d*(S*S)));a===l&&(w*=-1),isNaN(w)&&(w=0);const N=w*u*v/d,b=w*-d*S/u,k=(e+r)/2+Math.cos(m)*N-Math.sin(m)*b,E=(n+i)/2+Math.sin(m)*N+Math.cos(m)*b,g=function(O){return Math.sqrt(O[0]*O[0]+O[1]*O[1])},C=function(O,B){return(O[0]*B[0]+O[1]*B[1])/(g(O)*g(B))},T=function(O,B){return(O[0]*B[1]<O[1]*B[0]?-1:1)*Math.acos(C(O,B))},R=T([1,0],[(S-N)/u,(v-b)/d]),L=[(S-N)/u,(v-b)/d],j=[(-1*S-N)/u,(-1*v-b)/d];let I=T(L,j);return C(L,j)<=-1&&(I=Math.PI),C(L,j)>=1&&(I=0),l===0&&I>0&&(I=I-2*Math.PI),l===1&&I<0&&(I=I+2*Math.PI),[k,E,u,d,R,I,m,l]}}Vo.Path=jt;jt.prototype.className="Path";jt.prototype._attrsAffectingSize=["data"];(0,IE._registerNode)(jt);DE.Factory.addGetterSetter(jt,"data");Object.defineProperty(Nh,"__esModule",{value:!0});Nh.Arrow=void 0;const Ph=je,UE=Su,I6=ye,GE=Te,Jv=Vo;class ma extends UE.Line{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let i=r;const a=this.tension()!==0&&r.length>4;a&&(i=this.getTensionPoints());const l=this.pointerLength(),u=r.length;let d,f;if(a){const v=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[u-2],r[u-1]],y=Jv.Path.calcLength(i[i.length-4],i[i.length-3],"C",v),w=Jv.Path.getPointOnQuadraticBezier(Math.min(1,1-l/y),v[0],v[1],v[2],v[3],v[4],v[5]);d=r[u-2]-w.x,f=r[u-1]-w.y}else d=r[u-2]-r[u-4],f=r[u-1]-r[u-3];const m=(Math.atan2(f,d)+n)%n,S=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[u-2],r[u-1]),e.rotate(m),e.moveTo(0,0),e.lineTo(-l,S/2),e.lineTo(-l,-S/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),a?(d=(i[0]+i[2])/2-r[0],f=(i[1]+i[3])/2-r[1]):(d=r[2]-r[0],f=r[3]-r[1]),e.rotate((Math.atan2(-f,-d)+n)%n),e.moveTo(0,0),e.lineTo(-l,S/2),e.lineTo(-l,-S/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}Nh.Arrow=ma;ma.prototype.className="Arrow";(0,GE._registerNode)(ma);Ph.Factory.addGetterSetter(ma,"pointerLength",10,(0,I6.getNumberValidator)());Ph.Factory.addGetterSetter(ma,"pointerWidth",10,(0,I6.getNumberValidator)());Ph.Factory.addGetterSetter(ma,"pointerAtBeginning",!1);Ph.Factory.addGetterSetter(ma,"pointerAtEnding",!0);var Th={};Object.defineProperty(Th,"__esModule",{value:!0});Th.Circle=void 0;const BE=je,VE=At,WE=ye,HE=Te;let Wo=class extends VE.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Th.Circle=Wo;Wo.prototype._centroid=!0;Wo.prototype.className="Circle";Wo.prototype._attrsAffectingSize=["radius"];(0,HE._registerNode)(Wo);BE.Factory.addGetterSetter(Wo,"radius",0,(0,WE.getNumberValidator)());var Rh={};Object.defineProperty(Rh,"__esModule",{value:!0});Rh.Ellipse=void 0;const om=je,$E=At,z6=ye,KE=Te;class bs extends $E.Shape{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Rh.Ellipse=bs;bs.prototype.className="Ellipse";bs.prototype._centroid=!0;bs.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,KE._registerNode)(bs);om.Factory.addComponentsGetterSetter(bs,"radius",["x","y"]);om.Factory.addGetterSetter(bs,"radiusX",0,(0,z6.getNumberValidator)());om.Factory.addGetterSetter(bs,"radiusY",0,(0,z6.getNumberValidator)());var jh={};Object.defineProperty(jh,"__esModule",{value:!0});jh.Image=void 0;const dp=yt,ya=je,QE=At,YE=Te,Cu=ye;class ar extends QE.Shape{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),a=this.attrs.image;let l;if(a){const u=this.attrs.cropWidth,d=this.attrs.cropHeight;u&&d?l=[a,this.cropX(),this.cropY(),u,d,0,0,n,r]:l=[a,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?dp.Util.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),a&&(i&&e.clip(),e.drawImage.apply(e,l))}_hitFunc(e){const n=this.width(),r=this.height(),i=this.cornerRadius();e.beginPath(),i?dp.Util.drawRoundedRectPath(e,n,r,i):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,r=null){const i=dp.Util.createImageElement();i.onload=function(){const a=new ar({image:i});n(a)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}jh.Image=ar;ar.prototype.className="Image";(0,YE._registerNode)(ar);ya.Factory.addGetterSetter(ar,"cornerRadius",0,(0,Cu.getNumberOrArrayOfNumbersValidator)(4));ya.Factory.addGetterSetter(ar,"image");ya.Factory.addComponentsGetterSetter(ar,"crop",["x","y","width","height"]);ya.Factory.addGetterSetter(ar,"cropX",0,(0,Cu.getNumberValidator)());ya.Factory.addGetterSetter(ar,"cropY",0,(0,Cu.getNumberValidator)());ya.Factory.addGetterSetter(ar,"cropWidth",0,(0,Cu.getNumberValidator)());ya.Factory.addGetterSetter(ar,"cropHeight",0,(0,Cu.getNumberValidator)());var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.Tag=Oo.Label=void 0;const Mh=je,XE=At,qE=Go,lm=ye,U6=Te,G6=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],ZE="Change.konva",JE="none",W1="up",H1="right",$1="down",K1="left",eN=G6.length;class um extends qE.Group{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const i=function(){n._sync()};for(r=0;r<eN;r++)e.on(G6[r]+ZE,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,i,a,l,u,d,f;if(e&&n){switch(r=e.width(),i=e.height(),a=n.pointerDirection(),l=n.pointerWidth(),f=n.pointerHeight(),u=0,d=0,a){case W1:u=r/2,d=-1*f;break;case H1:u=r+l,d=i/2;break;case $1:u=r/2,d=i+f;break;case K1:u=-1*l,d=i/2;break}n.setAttrs({x:-1*u,y:-1*d,width:r,height:i}),e.setAttrs({x:-1*u,y:-1*d})}}}Oo.Label=um;um.prototype.className="Label";(0,U6._registerNode)(um);class va extends XE.Shape{_sceneFunc(e){const n=this.width(),r=this.height(),i=this.pointerDirection(),a=this.pointerWidth(),l=this.pointerHeight(),u=this.cornerRadius();let d=0,f=0,m=0,S=0;typeof u=="number"?d=f=m=S=Math.min(u,n/2,r/2):(d=Math.min(u[0]||0,n/2,r/2),f=Math.min(u[1]||0,n/2,r/2),S=Math.min(u[2]||0,n/2,r/2),m=Math.min(u[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(d,0),i===W1&&(e.lineTo((n-a)/2,0),e.lineTo(n/2,-1*l),e.lineTo((n+a)/2,0)),e.lineTo(n-f,0),e.arc(n-f,f,f,Math.PI*3/2,0,!1),i===H1&&(e.lineTo(n,(r-l)/2),e.lineTo(n+a,r/2),e.lineTo(n,(r+l)/2)),e.lineTo(n,r-S),e.arc(n-S,r-S,S,0,Math.PI/2,!1),i===$1&&(e.lineTo((n+a)/2,r),e.lineTo(n/2,r+l),e.lineTo((n-a)/2,r)),e.lineTo(m,r),e.arc(m,r-m,m,Math.PI/2,Math.PI,!1),i===K1&&(e.lineTo(0,(r+l)/2),e.lineTo(-1*a,r/2),e.lineTo(0,(r-l)/2)),e.lineTo(0,d),e.arc(d,d,d,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),a=this.pointerDirection(),l=this.width(),u=this.height();return a===W1?(n-=i,u+=i):a===$1?u+=i:a===K1?(e-=r*1.5,l+=r):a===H1&&(l+=r*1.5),{x:e,y:n,width:l,height:u}}}Oo.Tag=va;va.prototype.className="Tag";(0,U6._registerNode)(va);Mh.Factory.addGetterSetter(va,"pointerDirection",JE);Mh.Factory.addGetterSetter(va,"pointerWidth",0,(0,lm.getNumberValidator)());Mh.Factory.addGetterSetter(va,"pointerHeight",0,(0,lm.getNumberValidator)());Mh.Factory.addGetterSetter(va,"cornerRadius",0,(0,lm.getNumberOrArrayOfNumbersValidator)(4));var ku={};Object.defineProperty(ku,"__esModule",{value:!0});ku.Rect=void 0;const tN=je,nN=At,rN=Te,iN=yt,sN=ye;let Oh=class extends nN.Shape{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),i=this.height();e.beginPath(),n?iN.Util.drawRoundedRectPath(e,r,i,n):e.rect(0,0,r,i),e.closePath(),e.fillStrokeShape(this)}};ku.Rect=Oh;Oh.prototype.className="Rect";(0,rN._registerNode)(Oh);tN.Factory.addGetterSetter(Oh,"cornerRadius",0,(0,sN.getNumberOrArrayOfNumbersValidator)(4));var Ah={};Object.defineProperty(Ah,"__esModule",{value:!0});Ah.RegularPolygon=void 0;const B6=je,aN=At,V6=ye,oN=Te;class xa extends aN.Shape{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(let r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let i=0;i<e;i++)r.push({x:n*Math.sin(i*2*Math.PI/e),y:-1*n*Math.cos(i*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].y,i=e[0].x,a=e[0].y;return e.forEach(l=>{n=Math.min(n,l.x),r=Math.max(r,l.x),i=Math.min(i,l.y),a=Math.max(a,l.y)}),{x:n,y:i,width:r-n,height:a-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Ah.RegularPolygon=xa;xa.prototype.className="RegularPolygon";xa.prototype._centroid=!0;xa.prototype._attrsAffectingSize=["radius"];(0,oN._registerNode)(xa);B6.Factory.addGetterSetter(xa,"radius",0,(0,V6.getNumberValidator)());B6.Factory.addGetterSetter(xa,"sides",0,(0,V6.getNumberValidator)());var Lh={};Object.defineProperty(Lh,"__esModule",{value:!0});Lh.Ring=void 0;const W6=je,lN=At,H6=ye,uN=Te,e5=Math.PI*2;class _a extends lN.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,e5,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),e5,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Lh.Ring=_a;_a.prototype.className="Ring";_a.prototype._centroid=!0;_a.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,uN._registerNode)(_a);W6.Factory.addGetterSetter(_a,"innerRadius",0,(0,H6.getNumberValidator)());W6.Factory.addGetterSetter(_a,"outerRadius",0,(0,H6.getNumberValidator)());var Fh={};Object.defineProperty(Fh,"__esModule",{value:!0});Fh.Sprite=void 0;const wa=je,cN=At,dN=Bo,$6=ye,hN=Te;class qr extends cN.Shape{constructor(e){super(e),this._updated=!0,this.anim=new dN.Animation(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,a=this.animations()[n],l=this.frameOffsets(),u=a[i+0],d=a[i+1],f=a[i+2],m=a[i+3],S=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,f,m),e.closePath(),e.fillStrokeShape(this)),S)if(l){const v=l[n],y=r*2;e.drawImage(S,u,d,f,m,v[y+0],v[y+1],f,m)}else e.drawImage(S,u,d,f,m,0,0,f,m)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),i=r*4,a=this.animations()[n],l=this.frameOffsets(),u=a[i+2],d=a[i+3];if(e.beginPath(),l){const f=l[n],m=r*2;e.rect(f[m+0],f[m+1],u,d)}else e.rect(0,0,u,d);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],a=i.length/4;e<a-1?this.frameIndex(e+1):this.frameIndex(0)}}Fh.Sprite=qr;qr.prototype.className="Sprite";(0,hN._registerNode)(qr);wa.Factory.addGetterSetter(qr,"animation");wa.Factory.addGetterSetter(qr,"animations");wa.Factory.addGetterSetter(qr,"frameOffsets");wa.Factory.addGetterSetter(qr,"image");wa.Factory.addGetterSetter(qr,"frameIndex",0,(0,$6.getNumberValidator)());wa.Factory.addGetterSetter(qr,"frameRate",17,(0,$6.getNumberValidator)());wa.Factory.backCompat(qr,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Dh={};Object.defineProperty(Dh,"__esModule",{value:!0});Dh.Star=void 0;const cm=je,fN=At,dm=ye,pN=Te;class Ps extends fN.Shape{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let a=1;a<i*2;a++){const l=a%2===0?r:n,u=l*Math.sin(a*Math.PI/i),d=-1*l*Math.cos(a*Math.PI/i);e.lineTo(u,d)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Dh.Star=Ps;Ps.prototype.className="Star";Ps.prototype._centroid=!0;Ps.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,pN._registerNode)(Ps);cm.Factory.addGetterSetter(Ps,"numPoints",5,(0,dm.getNumberValidator)());cm.Factory.addGetterSetter(Ps,"innerRadius",0,(0,dm.getNumberValidator)());cm.Factory.addGetterSetter(Ps,"outerRadius",0,(0,dm.getNumberValidator)());var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.Text=void 0;Ho.stringToArray=Qs;const Q1=yt,sn=je,gN=At,hp=Te,Ts=ye,mN=Te;function Qs(t){return[...t].reduce((e,n,r,i)=>{if(/\p{Emoji}/u.test(n)){const a=i[r+1];a&&/\p{Emoji_Modifier}|\u200D/u.test(a)?(e.push(n+a),i[r+1]=""):e.push(n)}else/\p{Regional_Indicator}{2}/u.test(n+(i[r+1]||""))?e.push(n+i[r+1]):r>0&&/\p{Mn}|\p{Me}|\p{Mc}/u.test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const Ba="auto",yN="center",K6="inherit",wl="justify",vN="Change.konva",xN="2d",t5="-",Q6="left",_N="text",wN="Text",SN="top",CN="bottom",n5="middle",Y6="normal",kN="px ",Yc=" ",EN="right",r5="rtl",NN="word",bN="char",i5="none",fp="…",X6=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],PN=X6.length;function TN(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let Xc;function pp(){return Xc||(Xc=Q1.Util.createCanvasElement().getContext(xN),Xc)}function RN(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function jN(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function MN(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let St=class extends gN.Shape{constructor(e){super(MN(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<PN;n++)this.on(X6[n]+vN,this._setTextData);this._setTextData()}_sceneFunc(e){const n=this.textArr,r=n.length;if(!this.text())return;let i=this.padding(),a=this.fontSize(),l=this.lineHeight()*a,u=this.verticalAlign(),d=this.direction(),f=0,m=this.align(),S=this.getWidth(),v=this.letterSpacing(),y=this.fill(),w=this.textDecoration(),N=w.indexOf("underline")!==-1,b=w.indexOf("line-through")!==-1,k;d=d===K6?e.direction:d;let E=l/2,g=n5;if(hp.Konva._fixTextRendering){const C=this.measureSize("M");g="alphabetic",E=(C.fontBoundingBoxAscent-C.fontBoundingBoxDescent)/2+l/2}for(d===r5&&e.setAttr("direction",d),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",g),e.setAttr("textAlign",Q6),u===n5?f=(this.getHeight()-r*l-i*2)/2:u===CN&&(f=this.getHeight()-r*l-i*2),e.translate(i,f+i),k=0;k<r;k++){let C=0,T=0;const R=n[k],L=R.text,j=R.width,I=R.lastInParagraph;if(e.save(),m===EN?C+=S-j-i*2:m===yN&&(C+=(S-j-i*2)/2),N){e.save(),e.beginPath();const O=hp.Konva._fixTextRendering?Math.round(a/4):Math.round(a/2),B=C,z=E+T+O;e.moveTo(B,z);const K=m===wl&&!I?S-i*2:j;e.lineTo(B+Math.round(K),z),e.lineWidth=a/15;const ne=this._getLinearGradient();e.strokeStyle=ne||y,e.stroke(),e.restore()}if(b){e.save(),e.beginPath();const O=hp.Konva._fixTextRendering?-Math.round(a/4):0;e.moveTo(C,E+T+O);const B=m===wl&&!I?S-i*2:j;e.lineTo(C+Math.round(B),E+T+O),e.lineWidth=a/15;const z=this._getLinearGradient();e.strokeStyle=z||y,e.stroke(),e.restore()}if(d!==r5&&(v!==0||m===wl)){const O=L.split(" ").length-1,B=Qs(L);for(let z=0;z<B.length;z++){const K=B[z];K===" "&&!I&&m===wl&&(C+=(S-i*2-j)/O),this._partialTextX=C,this._partialTextY=E+T,this._partialText=K,e.fillStrokeShape(this),C+=this.measureSize(K).width+v}}else v!==0&&e.setAttr("letterSpacing",`${v}px`),this._partialTextX=C,this._partialTextY=E+T,this._partialText=L,e.fillStrokeShape(this);e.restore(),r>1&&(E+=l)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=Q1.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(_N,n),this}getWidth(){return this.attrs.width===Ba||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Ba||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Q1.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,i,a,l,u,d,f,m,S,v;let y=pp(),w=this.fontSize(),N;y.save(),y.font=this._getContextFont(),N=y.measureText(e),y.restore();const b=w/100;return{actualBoundingBoxAscent:(n=N.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*b,actualBoundingBoxDescent:(r=N.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(i=N.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*b,actualBoundingBoxRight:(a=N.actualBoundingBoxRight)!==null&&a!==void 0?a:75.732421875*b,alphabeticBaseline:(l=N.alphabeticBaseline)!==null&&l!==void 0?l:0,emHeightAscent:(u=N.emHeightAscent)!==null&&u!==void 0?u:100*b,emHeightDescent:(d=N.emHeightDescent)!==null&&d!==void 0?d:-20*b,fontBoundingBoxAscent:(f=N.fontBoundingBoxAscent)!==null&&f!==void 0?f:91*b,fontBoundingBoxDescent:(m=N.fontBoundingBoxDescent)!==null&&m!==void 0?m:21*b,hangingBaseline:(S=N.hangingBaseline)!==null&&S!==void 0?S:72.80000305175781*b,ideographicBaseline:(v=N.ideographicBaseline)!==null&&v!==void 0?v:-21*b,width:N.width,height:w}}_getContextFont(){return this.fontStyle()+Yc+this.fontVariant()+Yc+(this.fontSize()+kN)+TN(this.fontFamily())}_addTextLine(e){this.align()===wl&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return pp().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,a=this.attrs.width,l=this.attrs.height,u=a!==Ba&&a!==void 0,d=l!==Ba&&l!==void 0,f=this.padding(),m=a-f*2,S=l-f*2,v=0,y=this.wrap(),w=y!==i5,N=y!==bN&&w,b=this.ellipsis();this.textArr=[],pp().font=this._getContextFont();const k=b?this._getTextWidth(fp):0;for(let E=0,g=e.length;E<g;++E){let C=e[E],T=this._getTextWidth(C);if(u&&T>m)for(;C.length>0;){let R=0,L=Qs(C).length,j="",I=0;for(;R<L;){const O=R+L>>>1,B=Qs(C),z=B.slice(0,O+1).join(""),K=this._getTextWidth(z);(b&&d&&v+i>S?K+k:K)<=m?(R=O+1,j=z,I=K):L=O}if(j){if(N){const z=Qs(C),K=Qs(j),ne=z[K.length],te=ne===Yc||ne===t5;let ge;if(te&&I<=m)ge=K.length;else{const me=K.lastIndexOf(Yc),W=K.lastIndexOf(t5);ge=Math.max(me,W)+1}ge>0&&(R=ge,j=z.slice(0,R).join(""),I=this._getTextWidth(j))}if(j=j.trimRight(),this._addTextLine(j),r=Math.max(r,I),v+=i,this._shouldHandleEllipsis(v)){this._tryToAddEllipsisToLastLine();break}if(C=Qs(C).slice(R).join("").trimLeft(),C.length>0&&(T=this._getTextWidth(C),T<=m)){this._addTextLine(C),v+=i,r=Math.max(r,T);break}}else break}else this._addTextLine(C),v+=i,r=Math.max(r,T),this._shouldHandleEllipsis(v)&&E<g-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),d&&v+i>S)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,a=i!==Ba&&i!==void 0,l=this.padding(),u=i-l*2;return!(this.wrap()!==i5)||a&&e+r>u}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==Ba&&e!==void 0,r=this.padding(),i=e-r*2,a=this.ellipsis(),l=this.textArr[this.textArr.length-1];!l||!a||(n&&(this._getTextWidth(l.text+fp)<i||(l.text=l.text.slice(0,l.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(l.text+fp))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};Ho.Text=St;St.prototype._fillFunc=RN;St.prototype._strokeFunc=jN;St.prototype.className=wN;St.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,mN._registerNode)(St);sn.Factory.overWriteSetter(St,"width",(0,Ts.getNumberOrAutoValidator)());sn.Factory.overWriteSetter(St,"height",(0,Ts.getNumberOrAutoValidator)());sn.Factory.addGetterSetter(St,"direction",K6);sn.Factory.addGetterSetter(St,"fontFamily","Arial");sn.Factory.addGetterSetter(St,"fontSize",12,(0,Ts.getNumberValidator)());sn.Factory.addGetterSetter(St,"fontStyle",Y6);sn.Factory.addGetterSetter(St,"fontVariant",Y6);sn.Factory.addGetterSetter(St,"padding",0,(0,Ts.getNumberValidator)());sn.Factory.addGetterSetter(St,"align",Q6);sn.Factory.addGetterSetter(St,"verticalAlign",SN);sn.Factory.addGetterSetter(St,"lineHeight",1,(0,Ts.getNumberValidator)());sn.Factory.addGetterSetter(St,"wrap",NN);sn.Factory.addGetterSetter(St,"ellipsis",!1,(0,Ts.getBooleanValidator)());sn.Factory.addGetterSetter(St,"letterSpacing",0,(0,Ts.getNumberValidator)());sn.Factory.addGetterSetter(St,"text","",(0,Ts.getStringValidator)());sn.Factory.addGetterSetter(St,"textDecoration","");var Ih={};Object.defineProperty(Ih,"__esModule",{value:!0});Ih.TextPath=void 0;const gp=yt,Tr=je,ON=At,Sl=Vo,mp=Ho,q6=ye,AN=Te,LN="",Z6="normal";function J6(t){t.fillText(this.partialText,0,0)}function e8(t){t.strokeText(this.partialText,0,0)}class Lt extends ON.Shape{constructor(e){super(e),this.dummyCanvas=gp.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Sl.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e-1>n?null:Sl.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Sl.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),i=this.fontSize(),a=this.glyphInfo;n==="underline"&&e.beginPath();for(let l=0;l<a.length;l++){e.save();const u=a[l].p0;e.translate(u.x,u.y),e.rotate(a[l].rotation),this.partialText=a[l].text,e.fillStrokeShape(this),n==="underline"&&(l===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const i=n[r].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return gp.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return mp.Text.prototype.setText.call(this,e)}_getContextFont(){return mp.Text.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;const r=this.letterSpacing(),i=this.align(),a=this.kerningFunc(),l=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);let u=0;i==="center"&&(u=Math.max(0,this.pathLength/2-l/2)),i==="right"&&(u=Math.max(0,this.pathLength-l));const d=(0,mp.stringToArray)(this.text());let f=u;for(let m=0;m<d.length;m++){const S=this._getPointAtLength(f);if(!S)return;let v=this._getTextSize(d[m]).width+r;if(d[m]===" "&&i==="justify"){const E=this.text().split(" ").length-1;v+=(this.pathLength-l)/E}const y=this._getPointAtLength(f+v);if(!y)return;const w=Sl.Path.getLineLength(S.x,S.y,y.x,y.y);let N=0;if(a)try{N=a(d[m-1],d[m])*this.fontSize()}catch{N=0}S.x+=N,y.x+=N,this.textWidth+=N;const b=Sl.Path.getPointOnLine(N+w/2,S.x,S.y,y.x,y.y),k=Math.atan2(y.y-S.y,y.x-S.x);this.glyphInfo.push({transposeX:b.x,transposeY:b.y,text:d[m],rotation:k,p0:S,p1:y}),f+=v}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(f){e.push(f.p0.x),e.push(f.p0.y),e.push(f.p1.x),e.push(f.p1.y)});let n=e[0]||0,r=e[0]||0,i=e[1]||0,a=e[1]||0,l,u;for(let f=0;f<e.length/2;f++)l=e[f*2],u=e[f*2+1],n=Math.min(n,l),r=Math.max(r,l),i=Math.min(i,u),a=Math.max(a,u);const d=this.fontSize();return{x:n-d/2,y:i-d/2,width:r-n+d,height:a-i+d}}destroy(){return gp.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}Ih.TextPath=Lt;Lt.prototype._fillFunc=J6;Lt.prototype._strokeFunc=e8;Lt.prototype._fillFuncHit=J6;Lt.prototype._strokeFuncHit=e8;Lt.prototype.className="TextPath";Lt.prototype._attrsAffectingSize=["text","fontSize","data"];(0,AN._registerNode)(Lt);Tr.Factory.addGetterSetter(Lt,"data");Tr.Factory.addGetterSetter(Lt,"fontFamily","Arial");Tr.Factory.addGetterSetter(Lt,"fontSize",12,(0,q6.getNumberValidator)());Tr.Factory.addGetterSetter(Lt,"fontStyle",Z6);Tr.Factory.addGetterSetter(Lt,"align","left");Tr.Factory.addGetterSetter(Lt,"letterSpacing",0,(0,q6.getNumberValidator)());Tr.Factory.addGetterSetter(Lt,"textBaseline","middle");Tr.Factory.addGetterSetter(Lt,"fontVariant",Z6);Tr.Factory.addGetterSetter(Lt,"text",LN);Tr.Factory.addGetterSetter(Lt,"textDecoration","");Tr.Factory.addGetterSetter(Lt,"kerningFunc",void 0);var zh={};Object.defineProperty(zh,"__esModule",{value:!0});zh.Transformer=void 0;const Je=yt,$e=je,s5=dt,FN=At,DN=ku,a5=Go,yr=Te,Rs=ye,IN=Te,t8="tr-konva",zN=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${t8}`).join(" "),o5="nodesRect",UN=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],GN={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},BN="ontouchstart"in yr.Konva._global;function VN(t,e,n){if(t==="rotater")return n;e+=Je.Util.degToRad(GN[t]||0);const r=(Je.Util.radToDeg(e)%360+360)%360;return Je.Util._inRange(r,315+22.5,360)||Je.Util._inRange(r,0,22.5)?"ns-resize":Je.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":Je.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":Je.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":Je.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":Je.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":Je.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":Je.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(Je.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const Qd=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],l5=1e8;function WN(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function n8(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:i}}function HN(t,e){const n=WN(t);return n8(t,e,n)}function $N(t,e,n){let r=e;for(let i=0;i<t.length;i++){const a=yr.Konva.getAngle(t[i]),l=Math.abs(a-e)%(Math.PI*2);Math.min(l,Math.PI*2-l)<n&&(r=a)}return r}let Y1=0;class De extends a5.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(zN,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Je.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return t8+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(i=>i.isAncestorOf(this)?(Je.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const a=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const l=i._attrsAffectingSize.map(u=>u+"Change."+this._getEventNamespace()).join(" ");i.on(l,a)}i.on(UN.map(l=>l+`.${this._getEventNamespace()}`).join(" "),a),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,a),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),a=i.x-n.x,l=i.y-n.y;this.nodes().forEach(u=>{if(u===e||u.isDragging())return;const d=u.getAbsolutePosition();u.setAbsolutePosition({x:d.x+a,y:d.y+l}),u.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(o5),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(o5,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),a=e.getAbsoluteScale(r),l=e.getAbsolutePosition(r),u=i.x*a.x-e.offsetX()*a.x,d=i.y*a.y-e.offsetY()*a.y,f=(yr.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),m={x:l.x+u*Math.cos(f)+d*Math.sin(-f),y:l.y+d*Math.cos(f)+u*Math.sin(f),width:i.width*a.x,height:i.height*a.y,rotation:f};return n8(m,-yr.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-l5,y:-l5,width:0,height:0,rotation:0};const n=[];this.nodes().map(f=>{const m=f.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),S=[{x:m.x,y:m.y},{x:m.x+m.width,y:m.y},{x:m.x+m.width,y:m.y+m.height},{x:m.x,y:m.y+m.height}],v=f.getAbsoluteTransform();S.forEach(function(y){const w=v.point(y);n.push(w)})});const r=new Je.Transform;r.rotate(-yr.Konva.getAngle(this.rotation()));let i=1/0,a=1/0,l=-1/0,u=-1/0;n.forEach(function(f){const m=r.point(f);i===void 0&&(i=l=m.x,a=u=m.y),i=Math.min(i,m.x),a=Math.min(a,m.y),l=Math.max(l,m.x),u=Math.max(u,m.y)}),r.invert();const d=r.point({x:i,y:a});return{x:d.x,y:d.y,width:l-i,height:u-a,rotation:yr.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Qd.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new DN.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:BN?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{const i=yr.Konva.getAngle(this.rotation()),a=this.rotateAnchorCursor(),l=VN(e,i,a);n.getStage().content&&(n.getStage().content.style.cursor=l),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new FN.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n,r){const i=r.getParent(),a=i.padding();n.beginPath(),n.rect(-a,-a,r.width()+a*2,r.height()+a*2),n.moveTo(r.width()/2,-a),i.rotateEnabled()&&i.rotateLineVisible()&&n.lineTo(r.width()/2,-i.rotateAnchorOffset()*Je.Util._sign(r.height())-a),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,i=n.height,a=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/a),this.cos=Math.abs(r/a),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const l=e.target.getAbsolutePosition(),u=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:u.x-l.x,y:u.y-l.y},Y1++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(d=>{d._fire("transformstart",{evt:e.evt,target:d})})}_handleMouseMove(e){let n,r,i;const a=this.findOne("."+this._movingAnchorName),l=a.getStage();l.setPointersPositions(e);const u=l.getPointerPosition();let d={x:u.x-this._anchorDragOffset.x,y:u.y-this._anchorDragOffset.y};const f=a.getAbsolutePosition();this.anchorDragBoundFunc()&&(d=this.anchorDragBoundFunc()(f,d,e)),a.setAbsolutePosition(d);const m=a.getAbsolutePosition();if(f.x===m.x&&f.y===m.y)return;if(this._movingAnchorName==="rotater"){const E=this._getNodeRect();n=a.x()-E.width/2,r=-a.y()+E.height/2;let g=Math.atan2(-r,n)+Math.PI/2;E.height<0&&(g-=Math.PI);const T=yr.Konva.getAngle(this.rotation())+g,R=yr.Konva.getAngle(this.rotationSnapTolerance()),j=$N(this.rotationSnaps(),T,R)-E.rotation,I=HN(E,j);this._fitNodesInto(I,e);return}const S=this.shiftBehavior();let v;S==="inverted"?v=this.keepRatio()&&!e.shiftKey:S==="none"?v=this.keepRatio():v=this.keepRatio()||e.shiftKey;let y=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(v){const E=y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(E.x-a.x(),2)+Math.pow(E.y-a.y(),2));const g=this.findOne(".top-left").x()>E.x?-1:1,C=this.findOne(".top-left").y()>E.y?-1:1;n=i*this.cos*g,r=i*this.sin*C,this.findOne(".top-left").x(E.x-n),this.findOne(".top-left").y(E.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(a.y());else if(this._movingAnchorName==="top-right"){if(v){const E=y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(a.x()-E.x,2)+Math.pow(E.y-a.y(),2));const g=this.findOne(".top-right").x()<E.x?-1:1,C=this.findOne(".top-right").y()>E.y?-1:1;n=i*this.cos*g,r=i*this.sin*C,this.findOne(".top-right").x(E.x+n),this.findOne(".top-right").y(E.y-r)}var w=a.position();this.findOne(".top-left").y(w.y),this.findOne(".bottom-right").x(w.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(a.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(a.x());else if(this._movingAnchorName==="bottom-left"){if(v){const E=y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(E.x-a.x(),2)+Math.pow(a.y()-E.y,2));const g=E.x<a.x()?-1:1,C=a.y()<E.y?-1:1;n=i*this.cos*g,r=i*this.sin*C,a.x(E.x-n),a.y(E.y+r)}w=a.position(),this.findOne(".top-left").x(w.x),this.findOne(".bottom-right").y(w.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(a.y());else if(this._movingAnchorName==="bottom-right"){if(v){const E=y?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(a.x()-E.x,2)+Math.pow(a.y()-E.y,2));const g=this.findOne(".bottom-right").x()<E.x?-1:1,C=this.findOne(".bottom-right").y()<E.y?-1:1;n=i*this.cos*g,r=i*this.sin*C,this.findOne(".bottom-right").x(E.x+n),this.findOne(".bottom-right").y(E.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(y=this.centeredScaling()||e.altKey,y){const E=this.findOne(".top-left"),g=this.findOne(".bottom-right"),C=E.x(),T=E.y(),R=this.getWidth()-g.x(),L=this.getHeight()-g.y();g.move({x:-C,y:-T}),E.move({x:R,y:L})}const N=this.findOne(".top-left").getAbsolutePosition();n=N.x,r=N.y;const b=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),k=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:b,height:k,rotation:yr.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();Y1--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(i=>{var a;i._fire("transformend",{evt:e,target:i}),(a=i.getLayer())===null||a===void 0||a.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),i=1;if(Je.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(Je.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const a=new Je.Transform;if(a.rotate(yr.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const v=a.point({x:-this.padding()*2,y:0});e.x+=v.x,e.y+=v.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const v=a.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const v=a.point({x:0,y:-this.padding()*2});e.x+=v.x,e.y+=v.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const v=a.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=v.x,this._anchorDragOffset.y-=v.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const v=this.boundBoxFunc()(r,e);v?e=v:Je.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const l=1e7,u=new Je.Transform;u.translate(r.x,r.y),u.rotate(r.rotation),u.scale(r.width/l,r.height/l);const d=new Je.Transform,f=e.width/l,m=e.height/l;this.flipEnabled()===!1?(d.translate(e.x,e.y),d.rotate(e.rotation),d.translate(e.width<0?e.width:0,e.height<0?e.height:0),d.scale(Math.abs(f),Math.abs(m))):(d.translate(e.x,e.y),d.rotate(e.rotation),d.scale(f,m));const S=d.multiply(u.invert());this._nodes.forEach(v=>{var y;const w=v.getParent().getAbsoluteTransform(),N=v.getTransform().copy();N.translate(v.offsetX(),v.offsetY());const b=new Je.Transform;b.multiply(w.copy().invert()).multiply(S).multiply(w).multiply(N);const k=b.decompose();v.setAttrs(k),(y=v.getLayer())===null||y===void 0||y.batchDraw()}),this.rotation(Je.Util._getRotation(e.rotation)),this._nodes.forEach(v=>{this._fire("transform",{evt:n,target:v}),v._fire("transform",{evt:n,target:v})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(Je.Util._getRotation(n.rotation));const r=n.width,i=n.height,a=this.enabledAnchors(),l=this.resizeEnabled(),u=this.padding(),d=this.anchorSize(),f=this.find("._anchor");f.forEach(S=>{S.setAttrs({width:d,height:d,offsetX:d/2,offsetY:d/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:d/2+u,offsetY:d/2+u,visible:l&&a.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:d/2+u,visible:l&&a.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:d/2-u,offsetY:d/2+u,visible:l&&a.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:d/2+u,visible:l&&a.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:d/2-u,visible:l&&a.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:d/2+u,offsetY:d/2-u,visible:l&&a.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:d/2-u,visible:l&&a.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:d/2-u,offsetY:d/2-u,visible:l&&a.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*Je.Util._sign(i)-u,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const m=this.anchorStyleFunc();m&&f.forEach(S=>{m(S)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),a5.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return s5.Node.prototype.toObject.call(this)}clone(e){return s5.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}zh.Transformer=De;De.isTransforming=()=>Y1>0;function KN(t){return t instanceof Array||Je.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Qd.indexOf(e)===-1&&Je.Util.warn("Unknown anchor name: "+e+". Available names are: "+Qd.join(", "))}),t||[]}De.prototype.className="Transformer";(0,IN._registerNode)(De);$e.Factory.addGetterSetter(De,"enabledAnchors",Qd,KN);$e.Factory.addGetterSetter(De,"flipEnabled",!0,(0,Rs.getBooleanValidator)());$e.Factory.addGetterSetter(De,"resizeEnabled",!0);$e.Factory.addGetterSetter(De,"anchorSize",10,(0,Rs.getNumberValidator)());$e.Factory.addGetterSetter(De,"rotateEnabled",!0);$e.Factory.addGetterSetter(De,"rotateLineVisible",!0);$e.Factory.addGetterSetter(De,"rotationSnaps",[]);$e.Factory.addGetterSetter(De,"rotateAnchorOffset",50,(0,Rs.getNumberValidator)());$e.Factory.addGetterSetter(De,"rotateAnchorCursor","crosshair");$e.Factory.addGetterSetter(De,"rotationSnapTolerance",5,(0,Rs.getNumberValidator)());$e.Factory.addGetterSetter(De,"borderEnabled",!0);$e.Factory.addGetterSetter(De,"anchorStroke","rgb(0, 161, 255)");$e.Factory.addGetterSetter(De,"anchorStrokeWidth",1,(0,Rs.getNumberValidator)());$e.Factory.addGetterSetter(De,"anchorFill","white");$e.Factory.addGetterSetter(De,"anchorCornerRadius",0,(0,Rs.getNumberValidator)());$e.Factory.addGetterSetter(De,"borderStroke","rgb(0, 161, 255)");$e.Factory.addGetterSetter(De,"borderStrokeWidth",1,(0,Rs.getNumberValidator)());$e.Factory.addGetterSetter(De,"borderDash");$e.Factory.addGetterSetter(De,"keepRatio",!0);$e.Factory.addGetterSetter(De,"shiftBehavior","default");$e.Factory.addGetterSetter(De,"centeredScaling",!1);$e.Factory.addGetterSetter(De,"ignoreStroke",!1);$e.Factory.addGetterSetter(De,"padding",0,(0,Rs.getNumberValidator)());$e.Factory.addGetterSetter(De,"nodes");$e.Factory.addGetterSetter(De,"node");$e.Factory.addGetterSetter(De,"boundBoxFunc");$e.Factory.addGetterSetter(De,"anchorDragBoundFunc");$e.Factory.addGetterSetter(De,"anchorStyleFunc");$e.Factory.addGetterSetter(De,"shouldOverdrawWholeArea",!1);$e.Factory.addGetterSetter(De,"useSingleNodeRotation",!0);$e.Factory.backCompat(De,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var Uh={};Object.defineProperty(Uh,"__esModule",{value:!0});Uh.Wedge=void 0;const Gh=je,QN=At,YN=Te,r8=ye,XN=Te;class bi extends QN.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,YN.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Uh.Wedge=bi;bi.prototype.className="Wedge";bi.prototype._centroid=!0;bi.prototype._attrsAffectingSize=["radius"];(0,XN._registerNode)(bi);Gh.Factory.addGetterSetter(bi,"radius",0,(0,r8.getNumberValidator)());Gh.Factory.addGetterSetter(bi,"angle",0,(0,r8.getNumberValidator)());Gh.Factory.addGetterSetter(bi,"clockwise",!1);Gh.Factory.backCompat(bi,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Bh={};Object.defineProperty(Bh,"__esModule",{value:!0});Bh.Blur=void 0;const u5=je,qN=dt,ZN=ye;function c5(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const JN=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],eb=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function tb(t,e){const n=t.data,r=t.width,i=t.height;let a,l,u,d,f,m,S,v,y,w,N,b,k,E,g,C,T,R,L,j;const I=e+e+1,O=r-1,B=i-1,z=e+1,K=z*(z+1)/2,ne=new c5,te=JN[e],ge=eb[e];let me=null,W=ne,$=null,X=null;for(let ce=1;ce<I;ce++)W=W.next=new c5,ce===z&&(me=W);W.next=ne,u=l=0;for(let ce=0;ce<i;ce++){b=k=E=g=d=f=m=S=0,v=z*(C=n[l]),y=z*(T=n[l+1]),w=z*(R=n[l+2]),N=z*(L=n[l+3]),d+=K*C,f+=K*T,m+=K*R,S+=K*L,W=ne;for(let Q=0;Q<z;Q++)W.r=C,W.g=T,W.b=R,W.a=L,W=W.next;for(let Q=1;Q<z;Q++)a=l+((O<Q?O:Q)<<2),d+=(W.r=C=n[a])*(j=z-Q),f+=(W.g=T=n[a+1])*j,m+=(W.b=R=n[a+2])*j,S+=(W.a=L=n[a+3])*j,b+=C,k+=T,E+=R,g+=L,W=W.next;$=ne,X=me;for(let Q=0;Q<r;Q++)n[l+3]=L=S*te>>ge,L!==0?(L=255/L,n[l]=(d*te>>ge)*L,n[l+1]=(f*te>>ge)*L,n[l+2]=(m*te>>ge)*L):n[l]=n[l+1]=n[l+2]=0,d-=v,f-=y,m-=w,S-=N,v-=$.r,y-=$.g,w-=$.b,N-=$.a,a=u+((a=Q+e+1)<O?a:O)<<2,b+=$.r=n[a],k+=$.g=n[a+1],E+=$.b=n[a+2],g+=$.a=n[a+3],d+=b,f+=k,m+=E,S+=g,$=$.next,v+=C=X.r,y+=T=X.g,w+=R=X.b,N+=L=X.a,b-=C,k-=T,E-=R,g-=L,X=X.next,l+=4;u+=r}for(let ce=0;ce<r;ce++){k=E=g=b=f=m=S=d=0,l=ce<<2,v=z*(C=n[l]),y=z*(T=n[l+1]),w=z*(R=n[l+2]),N=z*(L=n[l+3]),d+=K*C,f+=K*T,m+=K*R,S+=K*L,W=ne;for(let fe=0;fe<z;fe++)W.r=C,W.g=T,W.b=R,W.a=L,W=W.next;let Q=r;for(let fe=1;fe<=e;fe++)l=Q+ce<<2,d+=(W.r=C=n[l])*(j=z-fe),f+=(W.g=T=n[l+1])*j,m+=(W.b=R=n[l+2])*j,S+=(W.a=L=n[l+3])*j,b+=C,k+=T,E+=R,g+=L,W=W.next,fe<B&&(Q+=r);l=ce,$=ne,X=me;for(let fe=0;fe<i;fe++)a=l<<2,n[a+3]=L=S*te>>ge,L>0?(L=255/L,n[a]=(d*te>>ge)*L,n[a+1]=(f*te>>ge)*L,n[a+2]=(m*te>>ge)*L):n[a]=n[a+1]=n[a+2]=0,d-=v,f-=y,m-=w,S-=N,v-=$.r,y-=$.g,w-=$.b,N-=$.a,a=ce+((a=fe+z)<B?a:B)*r<<2,d+=b+=$.r=n[a],f+=k+=$.g=n[a+1],m+=E+=$.b=n[a+2],S+=g+=$.a=n[a+3],$=$.next,v+=C=X.r,y+=T=X.g,w+=R=X.b,N+=L=X.a,b-=C,k-=T,E-=R,g-=L,X=X.next,l+=r}}const nb=function(e){const n=Math.round(this.blurRadius());n>0&&tb(e,n)};Bh.Blur=nb;u5.Factory.addGetterSetter(qN.Node,"blurRadius",0,(0,ZN.getNumberValidator)(),u5.Factory.afterSetFilter);var Vh={};Object.defineProperty(Vh,"__esModule",{value:!0});Vh.Brighten=void 0;const d5=je,rb=dt,ib=ye,sb=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e};Vh.Brighten=sb;d5.Factory.addGetterSetter(rb.Node,"brightness",0,(0,ib.getNumberValidator)(),d5.Factory.afterSetFilter);var Wh={};Object.defineProperty(Wh,"__esModule",{value:!0});Wh.Contrast=void 0;const h5=je,ab=dt,ob=ye,lb=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let i=150,a=150,l=150;for(let u=0;u<r;u+=4)i=n[u],a=n[u+1],l=n[u+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,l/=255,l-=.5,l*=e,l+=.5,l*=255,i=i<0?0:i>255?255:i,a=a<0?0:a>255?255:a,l=l<0?0:l>255?255:l,n[u]=i,n[u+1]=a,n[u+2]=l};Wh.Contrast=lb;h5.Factory.addGetterSetter(ab.Node,"contrast",0,(0,ob.getNumberValidator)(),h5.Factory.afterSetFilter);var Hh={};Object.defineProperty(Hh,"__esModule",{value:!0});Hh.Emboss=void 0;const ws=je,$h=dt,ub=yt,i8=ye,cb=function(t){const e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),a=t.data,l=t.width,u=t.height,d=l*4;let f=0,m=0,S=u;switch(r){case"top-left":f=-1,m=-1;break;case"top":f=-1,m=0;break;case"top-right":f=-1,m=1;break;case"right":f=0,m=1;break;case"bottom-right":f=1,m=1;break;case"bottom":f=1,m=0;break;case"bottom-left":f=1,m=-1;break;case"left":f=0,m=-1;break;default:ub.Util.error("Unknown emboss direction: "+r)}do{const v=(S-1)*d;let y=f;S+y<1&&(y=0),S+y>u&&(y=0);const w=(S-1+y)*l*4;let N=l;do{const b=v+(N-1)*4;let k=m;N+k<1&&(k=0),N+k>l&&(k=0);const E=w+(N-1+k)*4,g=a[b]-a[E],C=a[b+1]-a[E+1],T=a[b+2]-a[E+2];let R=g;const L=R>0?R:-R,j=C>0?C:-C,I=T>0?T:-T;if(j>L&&(R=C),I>L&&(R=T),R*=e,i){const O=a[b]+R,B=a[b+1]+R,z=a[b+2]+R;a[b]=O>255?255:O<0?0:O,a[b+1]=B>255?255:B<0?0:B,a[b+2]=z>255?255:z<0?0:z}else{let O=n-R;O<0?O=0:O>255&&(O=255),a[b]=a[b+1]=a[b+2]=O}}while(--N)}while(--S)};Hh.Emboss=cb;ws.Factory.addGetterSetter($h.Node,"embossStrength",.5,(0,i8.getNumberValidator)(),ws.Factory.afterSetFilter);ws.Factory.addGetterSetter($h.Node,"embossWhiteLevel",.5,(0,i8.getNumberValidator)(),ws.Factory.afterSetFilter);ws.Factory.addGetterSetter($h.Node,"embossDirection","top-left",void 0,ws.Factory.afterSetFilter);ws.Factory.addGetterSetter($h.Node,"embossBlend",!1,void 0,ws.Factory.afterSetFilter);var Kh={};Object.defineProperty(Kh,"__esModule",{value:!0});Kh.Enhance=void 0;const f5=je,db=dt,hb=ye;function yp(t,e,n,r,i){const a=n-e,l=i-r;if(a===0)return r+l/2;if(l===0)return r;let u=(t-e)/a;return u=l*u+r,u}const fb=function(t){const e=t.data,n=e.length;let r=e[0],i=r,a,l=e[1],u=l,d,f=e[2],m=f,S;const v=this.enhance();if(v===0)return;for(let g=0;g<n;g+=4)a=e[g+0],a<r?r=a:a>i&&(i=a),d=e[g+1],d<l?l=d:d>u&&(u=d),S=e[g+2],S<f?f=S:S>m&&(m=S);i===r&&(i=255,r=0),u===l&&(u=255,l=0),m===f&&(m=255,f=0);let y,w,N,b,k,E;if(v>0)y=i+v*(255-i),w=r-v*(r-0),N=u+v*(255-u),b=l-v*(l-0),k=m+v*(255-m),E=f-v*(f-0);else{const g=(i+r)*.5;y=i+v*(i-g),w=r+v*(r-g);const C=(u+l)*.5;N=u+v*(u-C),b=l+v*(l-C);const T=(m+f)*.5;k=m+v*(m-T),E=f+v*(f-T)}for(let g=0;g<n;g+=4)e[g+0]=yp(e[g+0],r,i,w,y),e[g+1]=yp(e[g+1],l,u,b,N),e[g+2]=yp(e[g+2],f,m,E,k)};Kh.Enhance=fb;f5.Factory.addGetterSetter(db.Node,"enhance",0,(0,hb.getNumberValidator)(),f5.Factory.afterSetFilter);var Qh={};Object.defineProperty(Qh,"__esModule",{value:!0});Qh.Grayscale=void 0;const pb=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=i,e[r+1]=i,e[r+2]=i}};Qh.Grayscale=pb;var Yh={};Object.defineProperty(Yh,"__esModule",{value:!0});Yh.HSL=void 0;const Ao=je,hm=dt,fm=ye;Ao.Factory.addGetterSetter(hm.Node,"hue",0,(0,fm.getNumberValidator)(),Ao.Factory.afterSetFilter);Ao.Factory.addGetterSetter(hm.Node,"saturation",0,(0,fm.getNumberValidator)(),Ao.Factory.afterSetFilter);Ao.Factory.addGetterSetter(hm.Node,"luminance",0,(0,fm.getNumberValidator)(),Ao.Factory.afterSetFilter);const gb=function(t){const e=t.data,n=e.length,r=1,i=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,l=this.luminance()*127,u=r*i*Math.cos(a*Math.PI/180),d=r*i*Math.sin(a*Math.PI/180),f=.299*r+.701*u+.167*d,m=.587*r-.587*u+.33*d,S=.114*r-.114*u-.497*d,v=.299*r-.299*u-.328*d,y=.587*r+.413*u+.035*d,w=.114*r-.114*u+.293*d,N=.299*r-.3*u+1.25*d,b=.587*r-.586*u-1.05*d,k=.114*r+.886*u-.2*d;let E,g,C,T;for(let R=0;R<n;R+=4)E=e[R+0],g=e[R+1],C=e[R+2],T=e[R+3],e[R+0]=f*E+m*g+S*C+l,e[R+1]=v*E+y*g+w*C+l,e[R+2]=N*E+b*g+k*C+l,e[R+3]=T};Yh.HSL=gb;var Xh={};Object.defineProperty(Xh,"__esModule",{value:!0});Xh.HSV=void 0;const Lo=je,pm=dt,gm=ye,mb=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,l=r*i*Math.cos(a*Math.PI/180),u=r*i*Math.sin(a*Math.PI/180),d=.299*r+.701*l+.167*u,f=.587*r-.587*l+.33*u,m=.114*r-.114*l-.497*u,S=.299*r-.299*l-.328*u,v=.587*r+.413*l+.035*u,y=.114*r-.114*l+.293*u,w=.299*r-.3*l+1.25*u,N=.587*r-.586*l-1.05*u,b=.114*r+.886*l-.2*u;for(let k=0;k<n;k+=4){const E=e[k+0],g=e[k+1],C=e[k+2],T=e[k+3];e[k+0]=d*E+f*g+m*C,e[k+1]=S*E+v*g+y*C,e[k+2]=w*E+N*g+b*C,e[k+3]=T}};Xh.HSV=mb;Lo.Factory.addGetterSetter(pm.Node,"hue",0,(0,gm.getNumberValidator)(),Lo.Factory.afterSetFilter);Lo.Factory.addGetterSetter(pm.Node,"saturation",0,(0,gm.getNumberValidator)(),Lo.Factory.afterSetFilter);Lo.Factory.addGetterSetter(pm.Node,"value",0,(0,gm.getNumberValidator)(),Lo.Factory.afterSetFilter);var qh={};Object.defineProperty(qh,"__esModule",{value:!0});qh.Invert=void 0;const yb=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};qh.Invert=yb;var Zh={};Object.defineProperty(Zh,"__esModule",{value:!0});Zh.Kaleidoscope=void 0;const Yd=je,s8=dt,p5=yt,a8=ye,vb=function(t,e,n){const r=t.data,i=e.data,a=t.width,l=t.height,u=n.polarCenterX||a/2,d=n.polarCenterY||l/2;let f=Math.sqrt(u*u+d*d),m=a-u,S=l-d;const v=Math.sqrt(m*m+S*S);f=v>f?v:f;const y=l,w=a,N=360/w*Math.PI/180;for(let b=0;b<w;b+=1){const k=Math.sin(b*N),E=Math.cos(b*N);for(let g=0;g<y;g+=1){m=Math.floor(u+f*g/y*E),S=Math.floor(d+f*g/y*k);let C=(S*a+m)*4;const T=r[C+0],R=r[C+1],L=r[C+2],j=r[C+3];C=(b+g*a)*4,i[C+0]=T,i[C+1]=R,i[C+2]=L,i[C+3]=j}}},xb=function(t,e,n){const r=t.data,i=e.data,a=t.width,l=t.height,u=n.polarCenterX||a/2,d=n.polarCenterY||l/2;let f=Math.sqrt(u*u+d*d),m=a-u,S=l-d;const v=Math.sqrt(m*m+S*S);f=v>f?v:f;const y=l,w=a,N=n.polarRotation||0;let b,k;for(m=0;m<a;m+=1)for(S=0;S<l;S+=1){const E=m-u,g=S-d,C=Math.sqrt(E*E+g*g)*y/f;let T=(Math.atan2(g,E)*180/Math.PI+360+N)%360;T=T*w/360,b=Math.floor(T),k=Math.floor(C);let R=(k*a+b)*4;const L=r[R+0],j=r[R+1],I=r[R+2],O=r[R+3];R=(S*a+m)*4,i[R+0]=L,i[R+1]=j,i[R+2]=I,i[R+3]=O}},_b=function(t){const e=t.width,n=t.height;let r,i,a,l,u,d,f,m,S,v,y=Math.round(this.kaleidoscopePower());const w=Math.round(this.kaleidoscopeAngle()),N=Math.floor(e*(w%360)/360);if(y<1)return;const b=p5.Util.createCanvasElement();b.width=e,b.height=n;const k=b.getContext("2d").getImageData(0,0,e,n);p5.Util.releaseCanvas(b),vb(t,k,{polarCenterX:e/2,polarCenterY:n/2});let E=e/Math.pow(2,y);for(;E<=8;)E=E*2,y-=1;E=Math.ceil(E);let g=E,C=0,T=g,R=1;for(N+E>e&&(C=g,T=0,R=-1),i=0;i<n;i+=1)for(r=C;r!==T;r+=R)a=Math.round(r+N)%e,S=(e*i+a)*4,u=k.data[S+0],d=k.data[S+1],f=k.data[S+2],m=k.data[S+3],v=(e*i+r)*4,k.data[v+0]=u,k.data[v+1]=d,k.data[v+2]=f,k.data[v+3]=m;for(i=0;i<n;i+=1)for(g=Math.floor(E),l=0;l<y;l+=1){for(r=0;r<g+1;r+=1)S=(e*i+r)*4,u=k.data[S+0],d=k.data[S+1],f=k.data[S+2],m=k.data[S+3],v=(e*i+g*2-r-1)*4,k.data[v+0]=u,k.data[v+1]=d,k.data[v+2]=f,k.data[v+3]=m;g*=2}xb(k,t,{polarRotation:0})};Zh.Kaleidoscope=_b;Yd.Factory.addGetterSetter(s8.Node,"kaleidoscopePower",2,(0,a8.getNumberValidator)(),Yd.Factory.afterSetFilter);Yd.Factory.addGetterSetter(s8.Node,"kaleidoscopeAngle",0,(0,a8.getNumberValidator)(),Yd.Factory.afterSetFilter);var Jh={};Object.defineProperty(Jh,"__esModule",{value:!0});Jh.Mask=void 0;const g5=je,wb=dt,Sb=ye;function qc(t,e,n){let r=(n*t.width+e)*4;const i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function Cl(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function Cb(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function kb(t,e){const n=qc(t,0,0),r=qc(t,t.width-1,0),i=qc(t,0,t.height-1),a=qc(t,t.width-1,t.height-1),l=e||10;if(Cl(n,r)<l&&Cl(r,a)<l&&Cl(a,i)<l&&Cl(i,n)<l){const u=Cb([r,n,a,i]),d=[];for(let f=0;f<t.width*t.height;f++){const m=Cl(u,[t.data[f*4],t.data[f*4+1],t.data[f*4+2]]);d[f]=m<l?0:255}return d}}function Eb(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function Nb(t,e,n){const r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),l=[];for(let u=0;u<n;u++)for(let d=0;d<e;d++){const f=u*e+d;let m=0;for(let S=0;S<i;S++)for(let v=0;v<i;v++){const y=u+S-a,w=d+v-a;if(y>=0&&y<n&&w>=0&&w<e){const N=y*e+w,b=r[S*i+v];m+=t[N]*b}}l[f]=m===255*8?255:0}return l}function bb(t,e,n){const r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),l=[];for(let u=0;u<n;u++)for(let d=0;d<e;d++){const f=u*e+d;let m=0;for(let S=0;S<i;S++)for(let v=0;v<i;v++){const y=u+S-a,w=d+v-a;if(y>=0&&y<n&&w>=0&&w<e){const N=y*e+w,b=r[S*i+v];m+=t[N]*b}}l[f]=m>=255*4?255:0}return l}function Pb(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),l=[];for(let u=0;u<n;u++)for(let d=0;d<e;d++){const f=u*e+d;let m=0;for(let S=0;S<i;S++)for(let v=0;v<i;v++){const y=u+S-a,w=d+v-a;if(y>=0&&y<n&&w>=0&&w<e){const N=y*e+w,b=r[S*i+v];m+=t[N]*b}}l[f]=m}return l}const Tb=function(t){const e=this.threshold();let n=kb(t,e);return n&&(n=Nb(n,t.width,t.height),n=bb(n,t.width,t.height),n=Pb(n,t.width,t.height),Eb(t,n)),t};Jh.Mask=Tb;g5.Factory.addGetterSetter(wb.Node,"threshold",0,(0,Sb.getNumberValidator)(),g5.Factory.afterSetFilter);var ef={};Object.defineProperty(ef,"__esModule",{value:!0});ef.Noise=void 0;const m5=je,Rb=dt,jb=ye,Mb=function(t){const e=this.noise()*255,n=t.data,r=n.length,i=e/2;for(let a=0;a<r;a+=4)n[a+0]+=i-2*i*Math.random(),n[a+1]+=i-2*i*Math.random(),n[a+2]+=i-2*i*Math.random()};ef.Noise=Mb;m5.Factory.addGetterSetter(Rb.Node,"noise",.2,(0,jb.getNumberValidator)(),m5.Factory.afterSetFilter);var tf={};Object.defineProperty(tf,"__esModule",{value:!0});tf.Pixelate=void 0;const y5=je,Ob=yt,Ab=dt,Lb=ye,Fb=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,i=Math.ceil(n/e),a=Math.ceil(r/e),l=t.data;if(e<=0){Ob.Util.error("pixelSize value can not be <= 0");return}for(let u=0;u<i;u+=1)for(let d=0;d<a;d+=1){let f=0,m=0,S=0,v=0;const y=u*e,w=y+e,N=d*e,b=N+e;let k=0;for(let E=y;E<w;E+=1)if(!(E>=n))for(let g=N;g<b;g+=1){if(g>=r)continue;const C=(n*g+E)*4;f+=l[C+0],m+=l[C+1],S+=l[C+2],v+=l[C+3],k+=1}f=f/k,m=m/k,S=S/k,v=v/k;for(let E=y;E<w;E+=1)if(!(E>=n))for(let g=N;g<b;g+=1){if(g>=r)continue;const C=(n*g+E)*4;l[C+0]=f,l[C+1]=m,l[C+2]=S,l[C+3]=v}}};tf.Pixelate=Fb;y5.Factory.addGetterSetter(Ab.Node,"pixelSize",8,(0,Lb.getNumberValidator)(),y5.Factory.afterSetFilter);var nf={};Object.defineProperty(nf,"__esModule",{value:!0});nf.Posterize=void 0;const v5=je,Db=dt,Ib=ye,zb=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,i=255/e;for(let a=0;a<r;a+=1)n[a]=Math.floor(n[a]/i)*i};nf.Posterize=zb;v5.Factory.addGetterSetter(Db.Node,"levels",.5,(0,Ib.getNumberValidator)(),v5.Factory.afterSetFilter);var rf={};Object.defineProperty(rf,"__esModule",{value:!0});rf.RGB=void 0;const Xd=je,mm=dt,Ub=ye,Gb=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),a=this.blue();for(let l=0;l<n;l+=4){const u=(.34*e[l]+.5*e[l+1]+.16*e[l+2])/255;e[l]=u*r,e[l+1]=u*i,e[l+2]=u*a,e[l+3]=e[l+3]}};rf.RGB=Gb;Xd.Factory.addGetterSetter(mm.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Xd.Factory.addGetterSetter(mm.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Xd.Factory.addGetterSetter(mm.Node,"blue",0,Ub.RGBComponent,Xd.Factory.afterSetFilter);var sf={};Object.defineProperty(sf,"__esModule",{value:!0});sf.RGBA=void 0;const lu=je,af=dt,Bb=ye,Vb=function(t){const e=t.data,n=e.length,r=this.red(),i=this.green(),a=this.blue(),l=this.alpha();for(let u=0;u<n;u+=4){const d=1-l;e[u]=r*l+e[u]*d,e[u+1]=i*l+e[u+1]*d,e[u+2]=a*l+e[u+2]*d}};sf.RGBA=Vb;lu.Factory.addGetterSetter(af.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});lu.Factory.addGetterSetter(af.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});lu.Factory.addGetterSetter(af.Node,"blue",0,Bb.RGBComponent,lu.Factory.afterSetFilter);lu.Factory.addGetterSetter(af.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});var of={};Object.defineProperty(of,"__esModule",{value:!0});of.Sepia=void 0;const Wb=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const i=e[r+0],a=e[r+1],l=e[r+2];e[r+0]=Math.min(255,i*.393+a*.769+l*.189),e[r+1]=Math.min(255,i*.349+a*.686+l*.168),e[r+2]=Math.min(255,i*.272+a*.534+l*.131)}};of.Sepia=Wb;var lf={};Object.defineProperty(lf,"__esModule",{value:!0});lf.Solarize=void 0;const Hb=function(t){const e=t.data,n=t.width,r=t.height,i=n*4;let a=r;do{const l=(a-1)*i;let u=n;do{const d=l+(u-1)*4;let f=e[d],m=e[d+1],S=e[d+2];f>127&&(f=255-f),m>127&&(m=255-m),S>127&&(S=255-S),e[d]=f,e[d+1]=m,e[d+2]=S}while(--u)}while(--a)};lf.Solarize=Hb;var uf={};Object.defineProperty(uf,"__esModule",{value:!0});uf.Threshold=void 0;const x5=je,$b=dt,Kb=ye,Qb=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let i=0;i<r;i+=1)n[i]=n[i]<e?0:255};uf.Threshold=Qb;x5.Factory.addGetterSetter($b.Node,"threshold",.5,(0,Kb.getNumberValidator)(),x5.Factory.afterSetFilter);Object.defineProperty(vh,"__esModule",{value:!0});vh.Konva=void 0;const _5=$d,Yb=Ch,Xb=Nh,qb=Th,Zb=Rh,Jb=jh,w5=Oo,eP=Su,tP=Vo,nP=ku,rP=Ah,iP=Lh,sP=Fh,aP=Dh,oP=Ho,lP=Ih,uP=zh,cP=Uh,dP=Bh,hP=Vh,fP=Wh,pP=Hh,gP=Kh,mP=Qh,yP=Yh,vP=Xh,xP=qh,_P=Zh,wP=Jh,SP=ef,CP=tf,kP=nf,EP=rf,NP=sf,bP=of,PP=lf,TP=uf;vh.Konva=_5.Konva.Util._assign(_5.Konva,{Arc:Yb.Arc,Arrow:Xb.Arrow,Circle:qb.Circle,Ellipse:Zb.Ellipse,Image:Jb.Image,Label:w5.Label,Tag:w5.Tag,Line:eP.Line,Path:tP.Path,Rect:nP.Rect,RegularPolygon:rP.RegularPolygon,Ring:iP.Ring,Sprite:sP.Sprite,Star:aP.Star,Text:oP.Text,TextPath:lP.TextPath,Transformer:uP.Transformer,Wedge:cP.Wedge,Filters:{Blur:dP.Blur,Brighten:hP.Brighten,Contrast:fP.Contrast,Emboss:pP.Emboss,Enhance:gP.Enhance,Grayscale:mP.Grayscale,HSL:yP.HSL,HSV:vP.HSV,Invert:xP.Invert,Kaleidoscope:_P.Kaleidoscope,Mask:wP.Mask,Noise:SP.Noise,Pixelate:CP.Pixelate,Posterize:kP.Posterize,RGB:EP.RGB,RGBA:NP.RGBA,Sepia:bP.Sepia,Solarize:PP.Solarize,Threshold:TP.Threshold}});var RP=b6.exports;Object.defineProperty(RP,"__esModule",{value:!0});const jP=vh;b6.exports=jP.Konva;var X1={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var n=$d;Object.defineProperty(e,"Konva",{enumerable:!0,get:function(){return n.Konva}});const r=$d;t.exports=r.Konva})(X1,X1.exports);var MP=X1.exports;const uu=hu(MP);var o8={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OP=function(e){var n={},r=M,i=Rl,a=Object.assign;function l(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),f=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),w=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),T=Symbol.iterator;function R(s){return s===null||typeof s!="object"?null:(s=T&&s[T]||s["@@iterator"],typeof s=="function"?s:null)}function L(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case m:return"Fragment";case f:return"Portal";case v:return"Profiler";case S:return"StrictMode";case b:return"Suspense";case k:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case w:return(s.displayName||"Context")+".Consumer";case y:return(s._context.displayName||"Context")+".Provider";case N:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case E:return o=s.displayName||null,o!==null?o:L(s.type)||"Memo";case g:o=s._payload,s=s._init;try{return L(s(o))}catch{}}return null}function j(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function I(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function O(s){if(I(s)!==s)throw Error(l(188))}function B(s){var o=s.alternate;if(!o){if(o=I(s),o===null)throw Error(l(188));return o!==s?null:s}for(var c=s,h=o;;){var p=c.return;if(p===null)break;var x=p.alternate;if(x===null){if(h=p.return,h!==null){c=h;continue}break}if(p.child===x.child){for(x=p.child;x;){if(x===c)return O(p),s;if(x===h)return O(p),o;x=x.sibling}throw Error(l(188))}if(c.return!==h.return)c=p,h=x;else{for(var P=!1,F=p.child;F;){if(F===c){P=!0,c=p,h=x;break}if(F===h){P=!0,h=p,c=x;break}F=F.sibling}if(!P){for(F=x.child;F;){if(F===c){P=!0,c=x,h=p;break}if(F===h){P=!0,h=x,c=p;break}F=F.sibling}if(!P)throw Error(l(189))}}if(c.alternate!==h)throw Error(l(190))}if(c.tag!==3)throw Error(l(188));return c.stateNode.current===c?s:o}function z(s){return s=B(s),s!==null?K(s):null}function K(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=K(s);if(o!==null)return o;s=s.sibling}return null}function ne(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){if(s.tag!==4){var o=ne(s);if(o!==null)return o}s=s.sibling}return null}var te=Array.isArray,ge=e.getPublicInstance,me=e.getRootHostContext,W=e.getChildHostContext,$=e.prepareForCommit,X=e.resetAfterCommit,ce=e.createInstance,Q=e.appendInitialChild,fe=e.finalizeInitialChildren,Se=e.prepareUpdate,Ae=e.shouldSetTextContent,Ge=e.createTextInstance,A=e.scheduleTimeout,Y=e.cancelTimeout,de=e.noTimeout,Ie=e.isPrimaryRenderer,ve=e.supportsMutation,Ke=e.supportsPersistence,qe=e.supportsHydration,Gn=e.getInstanceFromNode,Ye=e.preparePortalMount,or=e.getCurrentEventPriority,Rn=e.detachDeletedInstance,Bn=e.supportsMicrotasks,df=e.scheduleMicrotask,Pi=e.supportsTestSelectors,Ms=e.findFiberRoot,Eu=e.getBoundingRect,Zr=e.getTextContent,Os=e.isHiddenSubtree,hf=e.matchAccessibilityRole,pn=e.setFocusIfFocusable,Ti=e.setupIntersectionObserver,ff=e.appendChild,pf=e.appendChildToContainer,Ca=e.commitTextUpdate,gf=e.commitMount,Nu=e.commitUpdate,$o=e.insertBefore,Ri=e.insertInContainerBefore,bu=e.removeChild,ji=e.removeChildFromContainer,Pu=e.resetTextContent,mf=e.hideInstance,Tu=e.hideTextInstance,Ru=e.unhideInstance,yf=e.unhideTextInstance,Ko=e.clearContainer,Rr=e.cloneInstance,ju=e.createContainerChildSet,xe=e.appendChildToContainerChildSet,Qe=e.finalizeContainerChildren,Ze=e.replaceContainerChildren,gn=e.cloneHiddenInstance,mn=e.cloneHiddenTextInstance,jr=e.canHydrateInstance,Jr=e.canHydrateTextInstance,jn=e.canHydrateSuspenseInstance,lr=e.isSuspenseInstancePending,vf=e.isSuspenseInstanceFallback,m8=e.getSuspenseInstanceFallbackErrorDetails,y8=e.registerSuspenseInstanceRetry,Mu=e.getNextHydratableSibling,v8=e.getFirstHydratableChild,x8=e.getFirstHydratableChildWithinContainer,_8=e.getFirstHydratableChildWithinSuspenseInstance,w8=e.hydrateInstance,S8=e.hydrateTextInstance,C8=e.hydrateSuspenseInstance,k8=e.getNextHydratableInstanceAfterSuspenseInstance,E8=e.commitHydratedContainer,N8=e.commitHydratedSuspenseInstance,b8=e.clearSuspenseBoundary,P8=e.clearSuspenseBoundaryFromContainer,T8=e.shouldDeleteUnhydratedTailInstances,R8=e.didNotMatchHydratedContainerTextInstance,j8=e.didNotMatchHydratedTextInstance,xf;function Qo(s){if(xf===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);xf=o&&o[1]||""}return`
`+xf+s}var _f=!1;function wf(s,o){if(!s||_f)return"";_f=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var h=J}Reflect.construct(s,[],o)}else{try{o.call()}catch(J){h=J}s.call(o.prototype)}else{try{throw Error()}catch(J){h=J}s()}}catch(J){if(J&&h&&typeof J.stack=="string"){for(var p=J.stack.split(`
`),x=h.stack.split(`
`),P=p.length-1,F=x.length-1;1<=P&&0<=F&&p[P]!==x[F];)F--;for(;1<=P&&0<=F;P--,F--)if(p[P]!==x[F]){if(P!==1||F!==1)do if(P--,F--,0>F||p[P]!==x[F]){var G=`
`+p[P].replace(" at new "," at ");return s.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",s.displayName)),G}while(1<=P&&0<=F);break}}}finally{_f=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Qo(s):""}var M8=Object.prototype.hasOwnProperty,Sf=[],ka=-1;function Mi(s){return{current:s}}function it(s){0>ka||(s.current=Sf[ka],Sf[ka]=null,ka--)}function nt(s,o){ka++,Sf[ka]=s.current,s.current=o}var Oi={},Qt=Mi(Oi),yn=Mi(!1),As=Oi;function Ea(s,o){var c=s.type.contextTypes;if(!c)return Oi;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var p={},x;for(x in c)p[x]=o[x];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=p),p}function vn(s){return s=s.childContextTypes,s!=null}function Ou(){it(yn),it(Qt)}function _m(s,o,c){if(Qt.current!==Oi)throw Error(l(168));nt(Qt,o),nt(yn,c)}function wm(s,o,c){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var p in h)if(!(p in o))throw Error(l(108,j(s)||"Unknown",p));return a({},c,h)}function Au(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Oi,As=Qt.current,nt(Qt,s),nt(yn,yn.current),!0}function Sm(s,o,c){var h=s.stateNode;if(!h)throw Error(l(169));c?(s=wm(s,o,As),h.__reactInternalMemoizedMergedChildContext=s,it(yn),it(Qt),nt(Qt,s)):it(yn),nt(yn,c)}var ur=Math.clz32?Math.clz32:L8,O8=Math.log,A8=Math.LN2;function L8(s){return s>>>=0,s===0?32:31-(O8(s)/A8|0)|0}var Lu=64,Fu=4194304;function Yo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Du(s,o){var c=s.pendingLanes;if(c===0)return 0;var h=0,p=s.suspendedLanes,x=s.pingedLanes,P=c&268435455;if(P!==0){var F=P&~p;F!==0?h=Yo(F):(x&=P,x!==0&&(h=Yo(x)))}else P=c&~p,P!==0?h=Yo(P):x!==0&&(h=Yo(x));if(h===0)return 0;if(o!==0&&o!==h&&!(o&p)&&(p=h&-h,x=o&-o,p>=x||p===16&&(x&4194240)!==0))return o;if(h&4&&(h|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)c=31-ur(o),p=1<<c,h|=s[c],o&=~p;return h}function F8(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D8(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,x=s.pendingLanes;0<x;){var P=31-ur(x),F=1<<P,G=p[P];G===-1?(!(F&c)||F&h)&&(p[P]=F8(F,o)):G<=o&&(s.expiredLanes|=F),x&=~F}}function Cf(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Cm(){var s=Lu;return Lu<<=1,!(Lu&4194240)&&(Lu=64),s}function kf(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Xo(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-ur(o),s[o]=c}function I8(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var p=31-ur(c),x=1<<p;o[p]=0,h[p]=-1,s[p]=-1,c&=~x}}function Ef(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-ur(c),p=1<<h;p&o|s[h]&o&&(s[h]|=o),c&=~p}}var Be=0;function km(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var Nf=i.unstable_scheduleCallback,Em=i.unstable_cancelCallback,z8=i.unstable_shouldYield,U8=i.unstable_requestPaint,Ft=i.unstable_now,bf=i.unstable_ImmediatePriority,G8=i.unstable_UserBlockingPriority,Pf=i.unstable_NormalPriority,B8=i.unstable_IdlePriority,Iu=null,Mr=null;function V8(s){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(Iu,s,void 0,(s.current.flags&128)===128)}catch{}}function W8(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var cr=typeof Object.is=="function"?Object.is:W8,ei=null,zu=!1,Tf=!1;function Nm(s){ei===null?ei=[s]:ei.push(s)}function H8(s){zu=!0,Nm(s)}function Or(){if(!Tf&&ei!==null){Tf=!0;var s=0,o=Be;try{var c=ei;for(Be=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}ei=null,zu=!1}catch(p){throw ei!==null&&(ei=ei.slice(s+1)),Nf(bf,Or),p}finally{Be=o,Tf=!1}}return null}var Na=[],ba=0,Uu=null,Gu=0,Vn=[],Wn=0,Ls=null,ti=1,ni="";function Fs(s,o){Na[ba++]=Gu,Na[ba++]=Uu,Uu=s,Gu=o}function bm(s,o,c){Vn[Wn++]=ti,Vn[Wn++]=ni,Vn[Wn++]=Ls,Ls=s;var h=ti;s=ni;var p=32-ur(h)-1;h&=~(1<<p),c+=1;var x=32-ur(o)+p;if(30<x){var P=p-p%5;x=(h&(1<<P)-1).toString(32),h>>=P,p-=P,ti=1<<32-ur(o)+p|c<<p|h,ni=x+s}else ti=1<<x|c<<p|h,ni=s}function Rf(s){s.return!==null&&(Fs(s,1),bm(s,1,0))}function jf(s){for(;s===Uu;)Uu=Na[--ba],Na[ba]=null,Gu=Na[--ba],Na[ba]=null;for(;s===Ls;)Ls=Vn[--Wn],Vn[Wn]=null,ni=Vn[--Wn],Vn[Wn]=null,ti=Vn[--Wn],Vn[Wn]=null}var Mn=null,Hn=null,lt=!1,qo=!1,dr=null;function Pm(s,o){var c=Xn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function Tm(s,o){switch(s.tag){case 5:return o=jr(o,s.type,s.pendingProps),o!==null?(s.stateNode=o,Mn=s,Hn=v8(o),!0):!1;case 6:return o=Jr(o,s.pendingProps),o!==null?(s.stateNode=o,Mn=s,Hn=null,!0):!1;case 13:if(o=jn(o),o!==null){var c=Ls!==null?{id:ti,overflow:ni}:null;return s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Xn(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Mn=s,Hn=null,!0}return!1;default:return!1}}function Mf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Of(s){if(lt){var o=Hn;if(o){var c=o;if(!Tm(s,o)){if(Mf(s))throw Error(l(418));o=Mu(c);var h=Mn;o&&Tm(s,o)?Pm(h,c):(s.flags=s.flags&-4097|2,lt=!1,Mn=s)}}else{if(Mf(s))throw Error(l(418));s.flags=s.flags&-4097|2,lt=!1,Mn=s}}}function Rm(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Mn=s}function Bu(s){if(!qe||s!==Mn)return!1;if(!lt)return Rm(s),lt=!0,!1;if(s.tag!==3&&(s.tag!==5||T8(s.type)&&!Ae(s.type,s.memoizedProps))){var o=Hn;if(o){if(Mf(s))throw jm(),Error(l(418));for(;o;)Pm(s,o),o=Mu(o)}}if(Rm(s),s.tag===13){if(!qe)throw Error(l(316));if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(l(317));Hn=k8(s)}else Hn=Mn?Mu(s.stateNode):null;return!0}function jm(){for(var s=Hn;s;)s=Mu(s)}function Pa(){qe&&(Hn=Mn=null,qo=lt=!1)}function Af(s){dr===null?dr=[s]:dr.push(s)}var $8=u.ReactCurrentBatchConfig;function Vu(s,o){if(cr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var p=c[h];if(!M8.call(o,p)||!cr(s[p],o[p]))return!1}return!0}function K8(s){switch(s.tag){case 5:return Qo(s.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return s=wf(s.type,!1),s;case 11:return s=wf(s.type.render,!1),s;case 1:return s=wf(s.type,!0),s;default:return""}}function Zo(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(l(309));var h=c.stateNode}if(!h)throw Error(l(147,s));var p=h,x=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(P){var F=p.refs;P===null?delete F[x]:F[x]=P},o._stringRef=x,o)}if(typeof s!="string")throw Error(l(284));if(!c._owner)throw Error(l(290,s))}return s}function Wu(s,o){throw s=Object.prototype.toString.call(o),Error(l(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Mm(s){var o=s._init;return o(s._payload)}function Om(s){function o(U,D){if(s){var V=U.deletions;V===null?(U.deletions=[D],U.flags|=16):V.push(D)}}function c(U,D){if(!s)return null;for(;D!==null;)o(U,D),D=D.sibling;return null}function h(U,D){for(U=new Map;D!==null;)D.key!==null?U.set(D.key,D):U.set(D.index,D),D=D.sibling;return U}function p(U,D){return U=Ui(U,D),U.index=0,U.sibling=null,U}function x(U,D,V){return U.index=V,s?(V=U.alternate,V!==null?(V=V.index,V<D?(U.flags|=2,D):V):(U.flags|=2,D)):(U.flags|=1048576,D)}function P(U){return s&&U.alternate===null&&(U.flags|=2),U}function F(U,D,V,se){return D===null||D.tag!==6?(D=T0(V,U.mode,se),D.return=U,D):(D=p(D,V),D.return=U,D)}function G(U,D,V,se){var pe=V.type;return pe===m?le(U,D,V.props.children,se,V.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===g&&Mm(pe)===D.type)?(se=p(D,V.props),se.ref=Zo(U,D,V),se.return=U,se):(se=wc(V.type,V.key,V.props,null,U.mode,se),se.ref=Zo(U,D,V),se.return=U,se)}function J(U,D,V,se){return D===null||D.tag!==4||D.stateNode.containerInfo!==V.containerInfo||D.stateNode.implementation!==V.implementation?(D=R0(V,U.mode,se),D.return=U,D):(D=p(D,V.children||[]),D.return=U,D)}function le(U,D,V,se,pe){return D===null||D.tag!==7?(D=Vs(V,U.mode,se,pe),D.return=U,D):(D=p(D,V),D.return=U,D)}function Ee(U,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return D=T0(""+D,U.mode,V),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case d:return V=wc(D.type,D.key,D.props,null,U.mode,V),V.ref=Zo(U,null,D),V.return=U,V;case f:return D=R0(D,U.mode,V),D.return=U,D;case g:var se=D._init;return Ee(U,se(D._payload),V)}if(te(D)||R(D))return D=Vs(D,U.mode,V,null),D.return=U,D;Wu(U,D)}return null}function re(U,D,V,se){var pe=D!==null?D.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return pe!==null?null:F(U,D,""+V,se);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case d:return V.key===pe?G(U,D,V,se):null;case f:return V.key===pe?J(U,D,V,se):null;case g:return pe=V._init,re(U,D,pe(V._payload),se)}if(te(V)||R(V))return pe!==null?null:le(U,D,V,se,null);Wu(U,V)}return null}function st(U,D,V,se,pe){if(typeof se=="string"&&se!==""||typeof se=="number")return U=U.get(V)||null,F(D,U,""+se,pe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case d:return U=U.get(se.key===null?V:se.key)||null,G(D,U,se,pe);case f:return U=U.get(se.key===null?V:se.key)||null,J(D,U,se,pe);case g:var be=se._init;return st(U,D,V,be(se._payload),pe)}if(te(se)||R(se))return U=U.get(V)||null,le(D,U,se,pe,null);Wu(D,se)}return null}function et(U,D,V,se){for(var pe=null,be=null,Ne=D,Ve=D=0,zt=null;Ne!==null&&Ve<V.length;Ve++){Ne.index>Ve?(zt=Ne,Ne=null):zt=Ne.sibling;var We=re(U,Ne,V[Ve],se);if(We===null){Ne===null&&(Ne=zt);break}s&&Ne&&We.alternate===null&&o(U,Ne),D=x(We,D,Ve),be===null?pe=We:be.sibling=We,be=We,Ne=zt}if(Ve===V.length)return c(U,Ne),lt&&Fs(U,Ve),pe;if(Ne===null){for(;Ve<V.length;Ve++)Ne=Ee(U,V[Ve],se),Ne!==null&&(D=x(Ne,D,Ve),be===null?pe=Ne:be.sibling=Ne,be=Ne);return lt&&Fs(U,Ve),pe}for(Ne=h(U,Ne);Ve<V.length;Ve++)zt=st(Ne,U,Ve,V[Ve],se),zt!==null&&(s&&zt.alternate!==null&&Ne.delete(zt.key===null?Ve:zt.key),D=x(zt,D,Ve),be===null?pe=zt:be.sibling=zt,be=zt);return s&&Ne.forEach(function(Gi){return o(U,Gi)}),lt&&Fs(U,Ve),pe}function Sn(U,D,V,se){var pe=R(V);if(typeof pe!="function")throw Error(l(150));if(V=pe.call(V),V==null)throw Error(l(151));for(var be=pe=null,Ne=D,Ve=D=0,zt=null,We=V.next();Ne!==null&&!We.done;Ve++,We=V.next()){Ne.index>Ve?(zt=Ne,Ne=null):zt=Ne.sibling;var Gi=re(U,Ne,We.value,se);if(Gi===null){Ne===null&&(Ne=zt);break}s&&Ne&&Gi.alternate===null&&o(U,Ne),D=x(Gi,D,Ve),be===null?pe=Gi:be.sibling=Gi,be=Gi,Ne=zt}if(We.done)return c(U,Ne),lt&&Fs(U,Ve),pe;if(Ne===null){for(;!We.done;Ve++,We=V.next())We=Ee(U,We.value,se),We!==null&&(D=x(We,D,Ve),be===null?pe=We:be.sibling=We,be=We);return lt&&Fs(U,Ve),pe}for(Ne=h(U,Ne);!We.done;Ve++,We=V.next())We=st(Ne,U,Ve,We.value,se),We!==null&&(s&&We.alternate!==null&&Ne.delete(We.key===null?Ve:We.key),D=x(We,D,Ve),be===null?pe=We:be.sibling=We,be=We);return s&&Ne.forEach(function(C9){return o(U,C9)}),lt&&Fs(U,Ve),pe}function ai(U,D,V,se){if(typeof V=="object"&&V!==null&&V.type===m&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case d:e:{for(var pe=V.key,be=D;be!==null;){if(be.key===pe){if(pe=V.type,pe===m){if(be.tag===7){c(U,be.sibling),D=p(be,V.props.children),D.return=U,U=D;break e}}else if(be.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===g&&Mm(pe)===be.type){c(U,be.sibling),D=p(be,V.props),D.ref=Zo(U,be,V),D.return=U,U=D;break e}c(U,be);break}else o(U,be);be=be.sibling}V.type===m?(D=Vs(V.props.children,U.mode,se,V.key),D.return=U,U=D):(se=wc(V.type,V.key,V.props,null,U.mode,se),se.ref=Zo(U,D,V),se.return=U,U=se)}return P(U);case f:e:{for(be=V.key;D!==null;){if(D.key===be)if(D.tag===4&&D.stateNode.containerInfo===V.containerInfo&&D.stateNode.implementation===V.implementation){c(U,D.sibling),D=p(D,V.children||[]),D.return=U,U=D;break e}else{c(U,D);break}else o(U,D);D=D.sibling}D=R0(V,U.mode,se),D.return=U,U=D}return P(U);case g:return be=V._init,ai(U,D,be(V._payload),se)}if(te(V))return et(U,D,V,se);if(R(V))return Sn(U,D,V,se);Wu(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,D!==null&&D.tag===6?(c(U,D.sibling),D=p(D,V),D.return=U,U=D):(c(U,D),D=T0(V,U.mode,se),D.return=U,U=D),P(U)):c(U,D)}return ai}var Ta=Om(!0),Am=Om(!1),Hu=Mi(null),$u=null,Ra=null,Lf=null;function Ff(){Lf=Ra=$u=null}function Lm(s,o,c){Ie?(nt(Hu,o._currentValue),o._currentValue=c):(nt(Hu,o._currentValue2),o._currentValue2=c)}function Df(s){var o=Hu.current;it(Hu),Ie?s._currentValue=o:s._currentValue2=o}function If(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function ja(s,o){$u=s,Lf=Ra=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(xn=!0),s.firstContext=null)}function $n(s){var o=Ie?s._currentValue:s._currentValue2;if(Lf!==s)if(s={context:s,memoizedValue:o,next:null},Ra===null){if($u===null)throw Error(l(308));Ra=s,$u.dependencies={lanes:0,firstContext:s}}else Ra=Ra.next=s;return o}var Ds=null;function zf(s){Ds===null?Ds=[s]:Ds.push(s)}function Fm(s,o,c,h){var p=o.interleaved;return p===null?(c.next=c,zf(o)):(c.next=p.next,p.next=c),o.interleaved=c,Ar(s,h)}function Ar(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Ai=!1;function Uf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dm(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ri(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Li(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,Re&2){var p=h.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),h.pending=o,Ar(s,c)}return p=h.interleaved,p===null?(o.next=o,zf(h)):(o.next=p.next,p.next=o),h.interleaved=o,Ar(s,c)}function Ku(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Ef(s,c)}}function Im(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var p=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?p=x=P:x=x.next=P,c=c.next}while(c!==null);x===null?p=x=o:x=x.next=o}else p=x=o;c={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:x,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function Qu(s,o,c,h){var p=s.updateQueue;Ai=!1;var x=p.firstBaseUpdate,P=p.lastBaseUpdate,F=p.shared.pending;if(F!==null){p.shared.pending=null;var G=F,J=G.next;G.next=null,P===null?x=J:P.next=J,P=G;var le=s.alternate;le!==null&&(le=le.updateQueue,F=le.lastBaseUpdate,F!==P&&(F===null?le.firstBaseUpdate=J:F.next=J,le.lastBaseUpdate=G))}if(x!==null){var Ee=p.baseState;P=0,le=J=G=null,F=x;do{var re=F.lane,st=F.eventTime;if((h&re)===re){le!==null&&(le=le.next={eventTime:st,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var et=s,Sn=F;switch(re=o,st=c,Sn.tag){case 1:if(et=Sn.payload,typeof et=="function"){Ee=et.call(st,Ee,re);break e}Ee=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=Sn.payload,re=typeof et=="function"?et.call(st,Ee,re):et,re==null)break e;Ee=a({},Ee,re);break e;case 2:Ai=!0}}F.callback!==null&&F.lane!==0&&(s.flags|=64,re=p.effects,re===null?p.effects=[F]:re.push(F))}else st={eventTime:st,lane:re,tag:F.tag,payload:F.payload,callback:F.callback,next:null},le===null?(J=le=st,G=Ee):le=le.next=st,P|=re;if(F=F.next,F===null){if(F=p.shared.pending,F===null)break;re=F,F=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(1);if(le===null&&(G=Ee),p.baseState=G,p.firstBaseUpdate=J,p.lastBaseUpdate=le,o=p.shared.interleaved,o!==null){p=o;do P|=p.lane,p=p.next;while(p!==o)}else x===null&&(p.shared.lanes=0);zs|=P,s.lanes=P,s.memoizedState=Ee}}function zm(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],p=h.callback;if(p!==null){if(h.callback=null,h=c,typeof p!="function")throw Error(l(191,p));p.call(h)}}}var Jo={},Kn=Mi(Jo),el=Mi(Jo),Ma=Mi(Jo);function Lr(s){if(s===Jo)throw Error(l(174));return s}function Gf(s,o){nt(Ma,o),nt(el,s),nt(Kn,Jo),s=me(o),it(Kn),nt(Kn,s)}function Oa(){it(Kn),it(el),it(Ma)}function Um(s){var o=Lr(Ma.current),c=Lr(Kn.current);o=W(c,s.type,o),c!==o&&(nt(el,s),nt(Kn,o))}function Bf(s){el.current===s&&(it(Kn),it(el))}var ht=Mi(0);function Yu(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||lr(c)||vf(c)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Vf=[];function Wf(){for(var s=0;s<Vf.length;s++){var o=Vf[s];Ie?o._workInProgressVersionPrimary=null:o._workInProgressVersionSecondary=null}Vf.length=0}var Xu=u.ReactCurrentDispatcher,Hf=u.ReactCurrentBatchConfig,Is=0,ft=null,Tt=null,Dt=null,qu=!1,tl=!1,nl=0,Q8=0;function Yt(){throw Error(l(321))}function $f(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!cr(s[c],o[c]))return!1;return!0}function Kf(s,o,c,h,p,x){if(Is=x,ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Xu.current=s===null||s.memoizedState===null?Z8:J8,s=c(h,p),tl){x=0;do{if(tl=!1,nl=0,25<=x)throw Error(l(301));x+=1,Dt=Tt=null,o.updateQueue=null,Xu.current=e9,s=c(h,p)}while(tl)}if(Xu.current=ec,o=Tt!==null&&Tt.next!==null,Is=0,Dt=Tt=ft=null,qu=!1,o)throw Error(l(300));return s}function Qf(){var s=nl!==0;return nl=0,s}function Fr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ft.memoizedState=Dt=s:Dt=Dt.next=s,Dt}function Qn(){if(Tt===null){var s=ft.alternate;s=s!==null?s.memoizedState:null}else s=Tt.next;var o=Dt===null?ft.memoizedState:Dt.next;if(o!==null)Dt=o,Tt=s;else{if(s===null)throw Error(l(310));Tt=s,s={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Dt===null?ft.memoizedState=Dt=s:Dt=Dt.next=s}return Dt}function rl(s,o){return typeof o=="function"?o(s):o}function Yf(s){var o=Qn(),c=o.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=s;var h=Tt,p=h.baseQueue,x=c.pending;if(x!==null){if(p!==null){var P=p.next;p.next=x.next,x.next=P}h.baseQueue=p=x,c.pending=null}if(p!==null){x=p.next,h=h.baseState;var F=P=null,G=null,J=x;do{var le=J.lane;if((Is&le)===le)G!==null&&(G=G.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),h=J.hasEagerState?J.eagerState:s(h,J.action);else{var Ee={lane:le,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};G===null?(F=G=Ee,P=h):G=G.next=Ee,ft.lanes|=le,zs|=le}J=J.next}while(J!==null&&J!==x);G===null?P=h:G.next=F,cr(h,o.memoizedState)||(xn=!0),o.memoizedState=h,o.baseState=P,o.baseQueue=G,c.lastRenderedState=h}if(s=c.interleaved,s!==null){p=s;do x=p.lane,ft.lanes|=x,zs|=x,p=p.next;while(p!==s)}else p===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Xf(s){var o=Qn(),c=o.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=s;var h=c.dispatch,p=c.pending,x=o.memoizedState;if(p!==null){c.pending=null;var P=p=p.next;do x=s(x,P.action),P=P.next;while(P!==p);cr(x,o.memoizedState)||(xn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,h]}function Gm(){}function Bm(s,o){var c=ft,h=Qn(),p=o(),x=!cr(h.memoizedState,p);if(x&&(h.memoizedState=p,xn=!0),h=h.queue,qf(Hm.bind(null,c,h,s),[s]),h.getSnapshot!==o||x||Dt!==null&&Dt.memoizedState.tag&1){if(c.flags|=2048,il(9,Wm.bind(null,c,h,p,o),void 0,null),It===null)throw Error(l(349));Is&30||Vm(c,o,p)}return p}function Vm(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function Wm(s,o,c,h){o.value=c,o.getSnapshot=h,$m(o)&&Km(s)}function Hm(s,o,c){return c(function(){$m(o)&&Km(s)})}function $m(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!cr(s,c)}catch{return!0}}function Km(s){var o=Ar(s,1);o!==null&&Yn(o,s,1,-1)}function Qm(s){var o=Fr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:s},o.queue=s,s=s.dispatch=q8.bind(null,ft,s),[o.memoizedState,s]}function il(s,o,c,h){return s={tag:s,create:o,destroy:c,deps:h,next:null},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s)),s}function Ym(){return Qn().memoizedState}function Zu(s,o,c,h){var p=Fr();ft.flags|=s,p.memoizedState=il(1|o,c,void 0,h===void 0?null:h)}function Ju(s,o,c,h){var p=Qn();h=h===void 0?null:h;var x=void 0;if(Tt!==null){var P=Tt.memoizedState;if(x=P.destroy,h!==null&&$f(h,P.deps)){p.memoizedState=il(o,c,x,h);return}}ft.flags|=s,p.memoizedState=il(1|o,c,x,h)}function Xm(s,o){return Zu(8390656,8,s,o)}function qf(s,o){return Ju(2048,8,s,o)}function qm(s,o){return Ju(4,2,s,o)}function Zm(s,o){return Ju(4,4,s,o)}function Jm(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function e2(s,o,c){return c=c!=null?c.concat([s]):null,Ju(4,4,Jm.bind(null,o,s),c)}function Zf(){}function t2(s,o){var c=Qn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&$f(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function n2(s,o){var c=Qn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&$f(o,h[1])?h[0]:(s=s(),c.memoizedState=[s,o],s)}function r2(s,o,c){return Is&21?(cr(c,o)||(c=Cm(),ft.lanes|=c,zs|=c,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,xn=!0),s.memoizedState=c)}function Y8(s,o){var c=Be;Be=c!==0&&4>c?c:4,s(!0);var h=Hf.transition;Hf.transition={};try{s(!1),o()}finally{Be=c,Hf.transition=h}}function i2(){return Qn().memoizedState}function X8(s,o,c){var h=Ii(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},s2(s))a2(o,c);else if(c=Fm(s,o,c,h),c!==null){var p=Zt();Yn(c,s,h,p),o2(c,o,h)}}function q8(s,o,c){var h=Ii(s),p={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(s2(s))a2(o,p);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var P=o.lastRenderedState,F=x(P,c);if(p.hasEagerState=!0,p.eagerState=F,cr(F,P)){var G=o.interleaved;G===null?(p.next=p,zf(o)):(p.next=G.next,G.next=p),o.interleaved=p;return}}catch{}finally{}c=Fm(s,o,p,h),c!==null&&(p=Zt(),Yn(c,s,h,p),o2(c,o,h))}}function s2(s){var o=s.alternate;return s===ft||o!==null&&o===ft}function a2(s,o){tl=qu=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function o2(s,o,c){if(c&4194240){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Ef(s,c)}}var ec={readContext:$n,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},Z8={readContext:$n,useCallback:function(s,o){return Fr().memoizedState=[s,o===void 0?null:o],s},useContext:$n,useEffect:Xm,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,Zu(4194308,4,Jm.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Zu(4194308,4,s,o)},useInsertionEffect:function(s,o){return Zu(4,2,s,o)},useMemo:function(s,o){var c=Fr();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var h=Fr();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=X8.bind(null,ft,s),[h.memoizedState,s]},useRef:function(s){var o=Fr();return s={current:s},o.memoizedState=s},useState:Qm,useDebugValue:Zf,useDeferredValue:function(s){return Fr().memoizedState=s},useTransition:function(){var s=Qm(!1),o=s[0];return s=Y8.bind(null,s[1]),Fr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var h=ft,p=Fr();if(lt){if(c===void 0)throw Error(l(407));c=c()}else{if(c=o(),It===null)throw Error(l(349));Is&30||Vm(h,o,c)}p.memoizedState=c;var x={value:c,getSnapshot:o};return p.queue=x,Xm(Hm.bind(null,h,x,s),[s]),h.flags|=2048,il(9,Wm.bind(null,h,x,c,o),void 0,null),c},useId:function(){var s=Fr(),o=It.identifierPrefix;if(lt){var c=ni,h=ti;c=(h&~(1<<32-ur(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=nl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=Q8++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},J8={readContext:$n,useCallback:t2,useContext:$n,useEffect:qf,useImperativeHandle:e2,useInsertionEffect:qm,useLayoutEffect:Zm,useMemo:n2,useReducer:Yf,useRef:Ym,useState:function(){return Yf(rl)},useDebugValue:Zf,useDeferredValue:function(s){var o=Qn();return r2(o,Tt.memoizedState,s)},useTransition:function(){var s=Yf(rl)[0],o=Qn().memoizedState;return[s,o]},useMutableSource:Gm,useSyncExternalStore:Bm,useId:i2,unstable_isNewReconciler:!1},e9={readContext:$n,useCallback:t2,useContext:$n,useEffect:qf,useImperativeHandle:e2,useInsertionEffect:qm,useLayoutEffect:Zm,useMemo:n2,useReducer:Xf,useRef:Ym,useState:function(){return Xf(rl)},useDebugValue:Zf,useDeferredValue:function(s){var o=Qn();return Tt===null?o.memoizedState=s:r2(o,Tt.memoizedState,s)},useTransition:function(){var s=Xf(rl)[0],o=Qn().memoizedState;return[s,o]},useMutableSource:Gm,useSyncExternalStore:Bm,useId:i2,unstable_isNewReconciler:!1};function hr(s,o){if(s&&s.defaultProps){o=a({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Jf(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:a({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var tc={isMounted:function(s){return(s=s._reactInternals)?I(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var h=Zt(),p=Ii(s),x=ri(h,p);x.payload=o,c!=null&&(x.callback=c),o=Li(s,x,p),o!==null&&(Yn(o,s,p,h),Ku(o,s,p))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=Zt(),p=Ii(s),x=ri(h,p);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=Li(s,x,p),o!==null&&(Yn(o,s,p,h),Ku(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Zt(),h=Ii(s),p=ri(c,h);p.tag=2,o!=null&&(p.callback=o),o=Li(s,p,h),o!==null&&(Yn(o,s,h,c),Ku(o,s,h))}};function l2(s,o,c,h,p,x,P){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,x,P):o.prototype&&o.prototype.isPureReactComponent?!Vu(c,h)||!Vu(p,x):!0}function u2(s,o,c){var h=!1,p=Oi,x=o.contextType;return typeof x=="object"&&x!==null?x=$n(x):(p=vn(o)?As:Qt.current,h=o.contextTypes,x=(h=h!=null)?Ea(s,p):Oi),o=new o(c,x),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=tc,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=x),o}function c2(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&tc.enqueueReplaceState(o,o.state,null)}function e0(s,o,c,h){var p=s.stateNode;p.props=c,p.state=s.memoizedState,p.refs={},Uf(s);var x=o.contextType;typeof x=="object"&&x!==null?p.context=$n(x):(x=vn(o)?As:Qt.current,p.context=Ea(s,x)),p.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Jf(s,o,x,c),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&tc.enqueueReplaceState(p,p.state,null),Qu(s,c,p,h),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function Aa(s,o){try{var c="",h=o;do c+=K8(h),h=h.return;while(h);var p=c}catch(x){p=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:o,stack:p,digest:null}}function t0(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function n0(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var t9=typeof WeakMap=="function"?WeakMap:Map;function d2(s,o,c){c=ri(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){gc||(gc=!0,S0=h),n0(s,o)},c}function h2(s,o,c){c=ri(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=o.value;c.payload=function(){return h(p)},c.callback=function(){n0(s,o)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){n0(s,o),typeof h!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var P=o.stack;this.componentDidCatch(o.value,{componentStack:P!==null?P:""})}),c}function f2(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new t9;var p=new Set;h.set(o,p)}else p=h.get(o),p===void 0&&(p=new Set,h.set(o,p));p.has(c)||(p.add(c),s=g9.bind(null,s,o,c),o.then(s,s))}function p2(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function g2(s,o,c,h,p){return s.mode&1?(s.flags|=65536,s.lanes=p,s):(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=ri(-1,1),o.tag=2,Li(c,o,1))),c.lanes|=1),s)}var n9=u.ReactCurrentOwner,xn=!1;function an(s,o,c,h){o.child=s===null?Am(o,null,c,h):Ta(o,s.child,c,h)}function m2(s,o,c,h,p){c=c.render;var x=o.ref;return ja(o,p),h=Kf(s,o,c,h,x,p),c=Qf(),s!==null&&!xn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~p,ii(s,o,p)):(lt&&c&&Rf(o),o.flags|=1,an(s,o,h,p),o.child)}function y2(s,o,c,h,p){if(s===null){var x=c.type;return typeof x=="function"&&!P0(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=x,v2(s,o,x,h,p)):(s=wc(c.type,null,h,o,o.mode,p),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,!(s.lanes&p)){var P=x.memoizedProps;if(c=c.compare,c=c!==null?c:Vu,c(P,h)&&s.ref===o.ref)return ii(s,o,p)}return o.flags|=1,s=Ui(x,h),s.ref=o.ref,s.return=o,o.child=s}function v2(s,o,c,h,p){if(s!==null){var x=s.memoizedProps;if(Vu(x,h)&&s.ref===o.ref)if(xn=!1,o.pendingProps=h=x,(s.lanes&p)!==0)s.flags&131072&&(xn=!0);else return o.lanes=s.lanes,ii(s,o,p)}return r0(s,o,c,h,p)}function x2(s,o,c){var h=o.pendingProps,p=h.children,x=s!==null?s.memoizedState:null;if(h.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Fa,On),On|=c;else{if(!(c&1073741824))return s=x!==null?x.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,nt(Fa,On),On|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=x!==null?x.baseLanes:c,nt(Fa,On),On|=h}else x!==null?(h=x.baseLanes|c,o.memoizedState=null):h=c,nt(Fa,On),On|=h;return an(s,o,p,c),o.child}function _2(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function r0(s,o,c,h,p){var x=vn(c)?As:Qt.current;return x=Ea(o,x),ja(o,p),c=Kf(s,o,c,h,x,p),h=Qf(),s!==null&&!xn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~p,ii(s,o,p)):(lt&&h&&Rf(o),o.flags|=1,an(s,o,c,p),o.child)}function w2(s,o,c,h,p){if(vn(c)){var x=!0;Au(o)}else x=!1;if(ja(o,p),o.stateNode===null)rc(s,o),u2(o,c,h),e0(o,c,h,p),h=!0;else if(s===null){var P=o.stateNode,F=o.memoizedProps;P.props=F;var G=P.context,J=c.contextType;typeof J=="object"&&J!==null?J=$n(J):(J=vn(c)?As:Qt.current,J=Ea(o,J));var le=c.getDerivedStateFromProps,Ee=typeof le=="function"||typeof P.getSnapshotBeforeUpdate=="function";Ee||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(F!==h||G!==J)&&c2(o,P,h,J),Ai=!1;var re=o.memoizedState;P.state=re,Qu(o,h,P,p),G=o.memoizedState,F!==h||re!==G||yn.current||Ai?(typeof le=="function"&&(Jf(o,c,le,h),G=o.memoizedState),(F=Ai||l2(o,c,F,h,re,G,J))?(Ee||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(o.flags|=4194308)):(typeof P.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=G),P.props=h,P.state=G,P.context=J,h=F):(typeof P.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{P=o.stateNode,Dm(s,o),F=o.memoizedProps,J=o.type===o.elementType?F:hr(o.type,F),P.props=J,Ee=o.pendingProps,re=P.context,G=c.contextType,typeof G=="object"&&G!==null?G=$n(G):(G=vn(c)?As:Qt.current,G=Ea(o,G));var st=c.getDerivedStateFromProps;(le=typeof st=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(F!==Ee||re!==G)&&c2(o,P,h,G),Ai=!1,re=o.memoizedState,P.state=re,Qu(o,h,P,p);var et=o.memoizedState;F!==Ee||re!==et||yn.current||Ai?(typeof st=="function"&&(Jf(o,c,st,h),et=o.memoizedState),(J=Ai||l2(o,c,J,h,re,et,G)||!1)?(le||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(h,et,G),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(h,et,G)),typeof P.componentDidUpdate=="function"&&(o.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof P.componentDidUpdate!="function"||F===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=et),P.props=h,P.state=et,P.context=G,h=J):(typeof P.componentDidUpdate!="function"||F===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||F===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),h=!1)}return i0(s,o,c,h,x,p)}function i0(s,o,c,h,p,x){_2(s,o);var P=(o.flags&128)!==0;if(!h&&!P)return p&&Sm(o,c,!1),ii(s,o,x);h=o.stateNode,n9.current=o;var F=P&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&P?(o.child=Ta(o,s.child,null,x),o.child=Ta(o,null,F,x)):an(s,o,F,x),o.memoizedState=h.state,p&&Sm(o,c,!0),o.child}function S2(s){var o=s.stateNode;o.pendingContext?_m(s,o.pendingContext,o.pendingContext!==o.context):o.context&&_m(s,o.context,!1),Gf(s,o.containerInfo)}function C2(s,o,c,h,p){return Pa(),Af(p),o.flags|=256,an(s,o,c,h),o.child}var s0={dehydrated:null,treeContext:null,retryLane:0};function a0(s){return{baseLanes:s,cachePool:null,transitions:null}}function k2(s,o,c){var h=o.pendingProps,p=ht.current,x=!1,P=(o.flags&128)!==0,F;if((F=P)||(F=s!==null&&s.memoizedState===null?!1:(p&2)!==0),F?(x=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),nt(ht,p&1),s===null)return Of(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?vf(s)?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(P=h.children,s=h.fallback,x?(h=o.mode,x=o.child,P={mode:"hidden",children:P},!(h&1)&&x!==null?(x.childLanes=0,x.pendingProps=P):x=Sc(P,h,0,null),s=Vs(s,h,c,null),x.return=o,s.return=o,x.sibling=s,o.child=x,o.child.memoizedState=a0(c),o.memoizedState=s0,s):o0(o,P));if(p=s.memoizedState,p!==null&&(F=p.dehydrated,F!==null))return r9(s,o,P,h,F,p,c);if(x){x=h.fallback,P=o.mode,p=s.child,F=p.sibling;var G={mode:"hidden",children:h.children};return!(P&1)&&o.child!==p?(h=o.child,h.childLanes=0,h.pendingProps=G,o.deletions=null):(h=Ui(p,G),h.subtreeFlags=p.subtreeFlags&14680064),F!==null?x=Ui(F,x):(x=Vs(x,P,c,null),x.flags|=2),x.return=o,h.return=o,h.sibling=x,o.child=h,h=x,x=o.child,P=s.child.memoizedState,P=P===null?a0(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},x.memoizedState=P,x.childLanes=s.childLanes&~c,o.memoizedState=s0,h}return x=s.child,s=x.sibling,h=Ui(x,{mode:"visible",children:h.children}),!(o.mode&1)&&(h.lanes=c),h.return=o,h.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=h,o.memoizedState=null,h}function o0(s,o){return o=Sc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function nc(s,o,c,h){return h!==null&&Af(h),Ta(o,s.child,null,c),s=o0(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function r9(s,o,c,h,p,x,P){if(c)return o.flags&256?(o.flags&=-257,h=t0(Error(l(422))),nc(s,o,P,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(x=h.fallback,p=o.mode,h=Sc({mode:"visible",children:h.children},p,0,null),x=Vs(x,p,P,null),x.flags|=2,h.return=o,x.return=o,h.sibling=x,o.child=h,o.mode&1&&Ta(o,s.child,null,P),o.child.memoizedState=a0(P),o.memoizedState=s0,x);if(!(o.mode&1))return nc(s,o,P,null);if(vf(p))return h=m8(p).digest,x=Error(l(419)),h=t0(x,h,void 0),nc(s,o,P,h);if(c=(P&s.childLanes)!==0,xn||c){if(h=It,h!==null){switch(P&-P){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(h.suspendedLanes|P)?0:p,p!==0&&p!==x.retryLane&&(x.retryLane=p,Ar(s,p),Yn(h,s,p,-1))}return b0(),h=t0(Error(l(421))),nc(s,o,P,h)}return lr(p)?(o.flags|=128,o.child=s.child,o=m9.bind(null,s),y8(p,o),null):(s=x.treeContext,qe&&(Hn=_8(p),Mn=o,lt=!0,dr=null,qo=!1,s!==null&&(Vn[Wn++]=ti,Vn[Wn++]=ni,Vn[Wn++]=Ls,ti=s.id,ni=s.overflow,Ls=o)),o=o0(o,h.children),o.flags|=4096,o)}function E2(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),If(s.return,o,c)}function l0(s,o,c,h,p){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:p}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=c,x.tailMode=p)}function N2(s,o,c){var h=o.pendingProps,p=h.revealOrder,x=h.tail;if(an(s,o,h.children,c),h=ht.current,h&2)h=h&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&E2(s,c,o);else if(s.tag===19)E2(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(nt(ht,h),!(o.mode&1))o.memoizedState=null;else switch(p){case"forwards":for(c=o.child,p=null;c!==null;)s=c.alternate,s!==null&&Yu(s)===null&&(p=c),c=c.sibling;c=p,c===null?(p=o.child,o.child=null):(p=c.sibling,c.sibling=null),l0(o,!1,p,c,x);break;case"backwards":for(c=null,p=o.child,o.child=null;p!==null;){if(s=p.alternate,s!==null&&Yu(s)===null){o.child=p;break}s=p.sibling,p.sibling=c,c=p,p=s}l0(o,!0,c,null,x);break;case"together":l0(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function rc(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ii(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),zs|=o.lanes,!(c&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(l(153));if(o.child!==null){for(s=o.child,c=Ui(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Ui(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function i9(s,o,c){switch(o.tag){case 3:S2(o),Pa();break;case 5:Um(o);break;case 1:vn(o.type)&&Au(o);break;case 4:Gf(o,o.stateNode.containerInfo);break;case 10:Lm(o,o.type._context,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(nt(ht,ht.current&1),o.flags|=128,null):c&o.child.childLanes?k2(s,o,c):(nt(ht,ht.current&1),s=ii(s,o,c),s!==null?s.sibling:null);nt(ht,ht.current&1);break;case 19:if(h=(c&o.childLanes)!==0,s.flags&128){if(h)return N2(s,o,c);o.flags|=128}var p=o.memoizedState;if(p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),nt(ht,ht.current),h)break;return null;case 22:case 23:return o.lanes=0,x2(s,o,c)}return ii(s,o,c)}function Dr(s){s.flags|=4}function b2(s,o){if(s!==null&&s.child===o.child)return!0;if(o.flags&16)return!1;for(s=o.child;s!==null;){if(s.flags&12854||s.subtreeFlags&12854)return!1;s=s.sibling}return!0}var sl,al,ic,sc;if(ve)sl=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)Q(s,c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},al=function(){},ic=function(s,o,c,h,p){if(s=s.memoizedProps,s!==h){var x=o.stateNode,P=Lr(Kn.current);c=Se(x,c,s,h,p,P),(o.updateQueue=c)&&Dr(o)}},sc=function(s,o,c,h){c!==h&&Dr(o)};else if(Ke){sl=function(s,o,c,h){for(var p=o.child;p!==null;){if(p.tag===5){var x=p.stateNode;c&&h&&(x=gn(x,p.type,p.memoizedProps,p)),Q(s,x)}else if(p.tag===6)x=p.stateNode,c&&h&&(x=mn(x,p.memoizedProps,p)),Q(s,x);else if(p.tag!==4){if(p.tag===22&&p.memoizedState!==null)x=p.child,x!==null&&(x.return=p),sl(s,p,!0,!0);else if(p.child!==null){p.child.return=p,p=p.child;continue}}if(p===o)break;for(;p.sibling===null;){if(p.return===null||p.return===o)return;p=p.return}p.sibling.return=p.return,p=p.sibling}};var P2=function(s,o,c,h){for(var p=o.child;p!==null;){if(p.tag===5){var x=p.stateNode;c&&h&&(x=gn(x,p.type,p.memoizedProps,p)),xe(s,x)}else if(p.tag===6)x=p.stateNode,c&&h&&(x=mn(x,p.memoizedProps,p)),xe(s,x);else if(p.tag!==4){if(p.tag===22&&p.memoizedState!==null)x=p.child,x!==null&&(x.return=p),P2(s,p,!0,!0);else if(p.child!==null){p.child.return=p,p=p.child;continue}}if(p===o)break;for(;p.sibling===null;){if(p.return===null||p.return===o)return;p=p.return}p.sibling.return=p.return,p=p.sibling}};al=function(s,o){var c=o.stateNode;if(!b2(s,o)){s=c.containerInfo;var h=ju(s);P2(h,o,!1,!1),c.pendingChildren=h,Dr(o),Qe(s,h)}},ic=function(s,o,c,h,p){var x=s.stateNode,P=s.memoizedProps;if((s=b2(s,o))&&P===h)o.stateNode=x;else{var F=o.stateNode,G=Lr(Kn.current),J=null;P!==h&&(J=Se(F,c,P,h,p,G)),s&&J===null?o.stateNode=x:(x=Rr(x,J,c,P,h,o,s,F),fe(x,c,h,p,G)&&Dr(o),o.stateNode=x,s?Dr(o):sl(x,o,!1,!1))}},sc=function(s,o,c,h){c!==h?(s=Lr(Ma.current),c=Lr(Kn.current),o.stateNode=Ge(h,s,c,o),Dr(o)):o.stateNode=s.stateNode}}else al=function(){},ic=function(){},sc=function(){};function ol(s,o){if(!lt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Xt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var p=s.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function s9(s,o,c){var h=o.pendingProps;switch(jf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(o),null;case 1:return vn(o.type)&&Ou(),Xt(o),null;case 3:return c=o.stateNode,Oa(),it(yn),it(Qt),Wf(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Bu(o)?Dr(o):s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,dr!==null&&(E0(dr),dr=null))),al(s,o),Xt(o),null;case 5:Bf(o),c=Lr(Ma.current);var p=o.type;if(s!==null&&o.stateNode!=null)ic(s,o,p,h,c),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(l(166));return Xt(o),null}if(s=Lr(Kn.current),Bu(o)){if(!qe)throw Error(l(175));s=w8(o.stateNode,o.type,o.memoizedProps,c,s,o,!qo),o.updateQueue=s,s!==null&&Dr(o)}else{var x=ce(p,h,c,s,o);sl(x,o,!1,!1),o.stateNode=x,fe(x,p,h,c,s)&&Dr(o)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Xt(o),null;case 6:if(s&&o.stateNode!=null)sc(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(l(166));if(s=Lr(Ma.current),c=Lr(Kn.current),Bu(o)){if(!qe)throw Error(l(176));if(s=o.stateNode,c=o.memoizedProps,(h=S8(s,c,o,!qo))&&(p=Mn,p!==null))switch(p.tag){case 3:R8(p.stateNode.containerInfo,s,c,(p.mode&1)!==0);break;case 5:j8(p.type,p.memoizedProps,p.stateNode,s,c,(p.mode&1)!==0)}h&&Dr(o)}else o.stateNode=Ge(h,s,c,o)}return Xt(o),null;case 13:if(it(ht),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(lt&&Hn!==null&&o.mode&1&&!(o.flags&128))jm(),Pa(),o.flags|=98560,p=!1;else if(p=Bu(o),h!==null&&h.dehydrated!==null){if(s===null){if(!p)throw Error(l(318));if(!qe)throw Error(l(344));if(p=o.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(l(317));C8(p,o)}else Pa(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Xt(o),p=!1}else dr!==null&&(E0(dr),dr=null),p=!0;if(!p)return o.flags&65536?o:null}return o.flags&128?(o.lanes=c,o):(c=h!==null,c!==(s!==null&&s.memoizedState!==null)&&c&&(o.child.flags|=8192,o.mode&1&&(s===null||ht.current&1?Rt===0&&(Rt=3):b0())),o.updateQueue!==null&&(o.flags|=4),Xt(o),null);case 4:return Oa(),al(s,o),s===null&&Ye(o.stateNode.containerInfo),Xt(o),null;case 10:return Df(o.type._context),Xt(o),null;case 17:return vn(o.type)&&Ou(),Xt(o),null;case 19:if(it(ht),p=o.memoizedState,p===null)return Xt(o),null;if(h=(o.flags&128)!==0,x=p.rendering,x===null)if(h)ol(p,!1);else{if(Rt!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(x=Yu(s),x!==null){for(o.flags|=128,ol(p,!1),s=x.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),o.subtreeFlags=0,s=c,c=o.child;c!==null;)h=c,p=s,h.flags&=14680066,x=h.alternate,x===null?(h.childLanes=0,h.lanes=p,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=x.childLanes,h.lanes=x.lanes,h.child=x.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=x.memoizedProps,h.memoizedState=x.memoizedState,h.updateQueue=x.updateQueue,h.type=x.type,p=x.dependencies,h.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),c=c.sibling;return nt(ht,ht.current&1|2),o.child}s=s.sibling}p.tail!==null&&Ft()>w0&&(o.flags|=128,h=!0,ol(p,!1),o.lanes=4194304)}else{if(!h)if(s=Yu(x),s!==null){if(o.flags|=128,h=!0,s=s.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),ol(p,!0),p.tail===null&&p.tailMode==="hidden"&&!x.alternate&&!lt)return Xt(o),null}else 2*Ft()-p.renderingStartTime>w0&&c!==1073741824&&(o.flags|=128,h=!0,ol(p,!1),o.lanes=4194304);p.isBackwards?(x.sibling=o.child,o.child=x):(s=p.last,s!==null?s.sibling=x:o.child=x,p.last=x)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Ft(),o.sibling=null,s=ht.current,nt(ht,h?s&1|2:s&1),o):(Xt(o),null);case 22:case 23:return N0(),c=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==c&&(o.flags|=8192),c&&o.mode&1?On&1073741824&&(Xt(o),ve&&o.subtreeFlags&6&&(o.flags|=8192)):Xt(o),null;case 24:return null;case 25:return null}throw Error(l(156,o.tag))}function a9(s,o){switch(jf(o),o.tag){case 1:return vn(o.type)&&Ou(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Oa(),it(yn),it(Qt),Wf(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return Bf(o),null;case 13:if(it(ht),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(l(340));Pa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return it(ht),null;case 4:return Oa(),null;case 10:return Df(o.type._context),null;case 22:case 23:return N0(),null;case 24:return null;default:return null}}var ac=!1,qt=!1,o9=typeof WeakSet=="function"?WeakSet:Set,ae=null;function La(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){ut(s,o,h)}else c.current=null}function u0(s,o,c){try{c()}catch(h){ut(s,o,h)}}var T2=!1;function l9(s,o){for($(s.containerInfo),ae=o;ae!==null;)if(s=ae,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,ae=o;else for(;ae!==null;){s=ae;try{var c=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(c!==null){var h=c.memoizedProps,p=c.memoizedState,x=s.stateNode,P=x.getSnapshotBeforeUpdate(s.elementType===s.type?h:hr(s.type,h),p);x.__reactInternalSnapshotBeforeUpdate=P}break;case 3:ve&&Ko(s.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(F){ut(s,s.return,F)}if(o=s.sibling,o!==null){o.return=s.return,ae=o;break}ae=s.return}return c=T2,T2=!1,c}function ll(s,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&s)===s){var x=p.destroy;p.destroy=void 0,x!==void 0&&u0(o,c,x)}p=p.next}while(p!==h)}}function oc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function c0(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=ge(c);break;default:s=c}typeof o=="function"?o(s):o.current=s}}function R2(s){var o=s.alternate;o!==null&&(s.alternate=null,R2(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&Rn(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function j2(s){return s.tag===5||s.tag===3||s.tag===4}function M2(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||j2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function d0(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?Ri(c,s,o):pf(c,s);else if(h!==4&&(s=s.child,s!==null))for(d0(s,o,c),s=s.sibling;s!==null;)d0(s,o,c),s=s.sibling}function h0(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?$o(c,s,o):ff(c,s);else if(h!==4&&(s=s.child,s!==null))for(h0(s,o,c),s=s.sibling;s!==null;)h0(s,o,c),s=s.sibling}var Vt=null,fr=!1;function Ir(s,o,c){for(c=c.child;c!==null;)f0(s,o,c),c=c.sibling}function f0(s,o,c){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(Iu,c)}catch{}switch(c.tag){case 5:qt||La(c,o);case 6:if(ve){var h=Vt,p=fr;Vt=null,Ir(s,o,c),Vt=h,fr=p,Vt!==null&&(fr?ji(Vt,c.stateNode):bu(Vt,c.stateNode))}else Ir(s,o,c);break;case 18:ve&&Vt!==null&&(fr?P8(Vt,c.stateNode):b8(Vt,c.stateNode));break;case 4:ve?(h=Vt,p=fr,Vt=c.stateNode.containerInfo,fr=!0,Ir(s,o,c),Vt=h,fr=p):(Ke&&(h=c.stateNode.containerInfo,p=ju(h),Ze(h,p)),Ir(s,o,c));break;case 0:case 11:case 14:case 15:if(!qt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var x=p,P=x.destroy;x=x.tag,P!==void 0&&(x&2||x&4)&&u0(c,o,P),p=p.next}while(p!==h)}Ir(s,o,c);break;case 1:if(!qt&&(La(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(F){ut(c,o,F)}Ir(s,o,c);break;case 21:Ir(s,o,c);break;case 22:c.mode&1?(qt=(h=qt)||c.memoizedState!==null,Ir(s,o,c),qt=h):Ir(s,o,c);break;default:Ir(s,o,c)}}function O2(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new o9),o.forEach(function(h){var p=y9.bind(null,s,h);c.has(h)||(c.add(h),h.then(p,p))})}}function pr(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];try{var x=s,P=o;if(ve){var F=P;e:for(;F!==null;){switch(F.tag){case 5:Vt=F.stateNode,fr=!1;break e;case 3:Vt=F.stateNode.containerInfo,fr=!0;break e;case 4:Vt=F.stateNode.containerInfo,fr=!0;break e}F=F.return}if(Vt===null)throw Error(l(160));f0(x,P,p),Vt=null,fr=!1}else f0(x,P,p);var G=p.alternate;G!==null&&(G.return=null),p.return=null}catch(J){ut(p,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)A2(o,s),o=o.sibling}function A2(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(pr(o,s),zr(s),h&4){try{ll(3,s,s.return),oc(3,s)}catch(re){ut(s,s.return,re)}try{ll(5,s,s.return)}catch(re){ut(s,s.return,re)}}break;case 1:pr(o,s),zr(s),h&512&&c!==null&&La(c,c.return);break;case 5:if(pr(o,s),zr(s),h&512&&c!==null&&La(c,c.return),ve){if(s.flags&32){var p=s.stateNode;try{Pu(p)}catch(re){ut(s,s.return,re)}}if(h&4&&(p=s.stateNode,p!=null)){var x=s.memoizedProps;if(c=c!==null?c.memoizedProps:x,h=s.type,o=s.updateQueue,s.updateQueue=null,o!==null)try{Nu(p,o,h,c,x,s)}catch(re){ut(s,s.return,re)}}}break;case 6:if(pr(o,s),zr(s),h&4&&ve){if(s.stateNode===null)throw Error(l(162));p=s.stateNode,x=s.memoizedProps,c=c!==null?c.memoizedProps:x;try{Ca(p,c,x)}catch(re){ut(s,s.return,re)}}break;case 3:if(pr(o,s),zr(s),h&4){if(ve&&qe&&c!==null&&c.memoizedState.isDehydrated)try{E8(o.containerInfo)}catch(re){ut(s,s.return,re)}if(Ke){p=o.containerInfo,x=o.pendingChildren;try{Ze(p,x)}catch(re){ut(s,s.return,re)}}}break;case 4:if(pr(o,s),zr(s),h&4&&Ke){x=s.stateNode,p=x.containerInfo,x=x.pendingChildren;try{Ze(p,x)}catch(re){ut(s,s.return,re)}}break;case 13:pr(o,s),zr(s),p=s.child,p.flags&8192&&(x=p.memoizedState!==null,p.stateNode.isHidden=x,!x||p.alternate!==null&&p.alternate.memoizedState!==null||(_0=Ft())),h&4&&O2(s);break;case 22:var P=c!==null&&c.memoizedState!==null;if(s.mode&1?(qt=(c=qt)||P,pr(o,s),qt=c):pr(o,s),zr(s),h&8192){if(c=s.memoizedState!==null,(s.stateNode.isHidden=c)&&!P&&s.mode&1)for(ae=s,h=s.child;h!==null;){for(o=ae=h;ae!==null;){P=ae;var F=P.child;switch(P.tag){case 0:case 11:case 14:case 15:ll(4,P,P.return);break;case 1:La(P,P.return);var G=P.stateNode;if(typeof G.componentWillUnmount=="function"){var J=P,le=P.return;try{var Ee=J;G.props=Ee.memoizedProps,G.state=Ee.memoizedState,G.componentWillUnmount()}catch(re){ut(J,le,re)}}break;case 5:La(P,P.return);break;case 22:if(P.memoizedState!==null){D2(o);continue}}F!==null?(F.return=P,ae=F):D2(o)}h=h.sibling}if(ve){e:if(h=null,ve)for(o=s;;){if(o.tag===5){if(h===null){h=o;try{p=o.stateNode,c?mf(p):Ru(o.stateNode,o.memoizedProps)}catch(re){ut(s,s.return,re)}}}else if(o.tag===6){if(h===null)try{x=o.stateNode,c?Tu(x):yf(x,o.memoizedProps)}catch(re){ut(s,s.return,re)}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;h===o&&(h=null),o=o.return}h===o&&(h=null),o.sibling.return=o.return,o=o.sibling}}}break;case 19:pr(o,s),zr(s),h&4&&O2(s);break;case 21:break;default:pr(o,s),zr(s)}}function zr(s){var o=s.flags;if(o&2){try{if(ve){e:{for(var c=s.return;c!==null;){if(j2(c)){var h=c;break e}c=c.return}throw Error(l(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Pu(p),h.flags&=-33);var x=M2(s);h0(s,x,p);break;case 3:case 4:var P=h.stateNode.containerInfo,F=M2(s);d0(s,F,P);break;default:throw Error(l(161))}}}catch(G){ut(s,s.return,G)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function u9(s,o,c){ae=s,L2(s)}function L2(s,o,c){for(var h=(s.mode&1)!==0;ae!==null;){var p=ae,x=p.child;if(p.tag===22&&h){var P=p.memoizedState!==null||ac;if(!P){var F=p.alternate,G=F!==null&&F.memoizedState!==null||qt;F=ac;var J=qt;if(ac=P,(qt=G)&&!J)for(ae=p;ae!==null;)P=ae,G=P.child,P.tag===22&&P.memoizedState!==null?I2(p):G!==null?(G.return=P,ae=G):I2(p);for(;x!==null;)ae=x,L2(x),x=x.sibling;ae=p,ac=F,qt=J}F2(s)}else p.subtreeFlags&8772&&x!==null?(x.return=p,ae=x):F2(s)}}function F2(s){for(;ae!==null;){var o=ae;if(o.flags&8772){var c=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:qt||oc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!qt)if(c===null)h.componentDidMount();else{var p=o.elementType===o.type?c.memoizedProps:hr(o.type,c.memoizedProps);h.componentDidUpdate(p,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&zm(o,x,h);break;case 3:var P=o.updateQueue;if(P!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=ge(o.child.stateNode);break;case 1:c=o.child.stateNode}zm(o,P,c)}break;case 5:var F=o.stateNode;c===null&&o.flags&4&&gf(F,o.type,o.memoizedProps,o);break;case 6:break;case 4:break;case 12:break;case 13:if(qe&&o.memoizedState===null){var G=o.alternate;if(G!==null){var J=G.memoizedState;if(J!==null){var le=J.dehydrated;le!==null&&N8(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}qt||o.flags&512&&c0(o)}catch(Ee){ut(o,o.return,Ee)}}if(o===s){ae=null;break}if(c=o.sibling,c!==null){c.return=o.return,ae=c;break}ae=o.return}}function D2(s){for(;ae!==null;){var o=ae;if(o===s){ae=null;break}var c=o.sibling;if(c!==null){c.return=o.return,ae=c;break}ae=o.return}}function I2(s){for(;ae!==null;){var o=ae;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{oc(4,o)}catch(G){ut(o,c,G)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var p=o.return;try{h.componentDidMount()}catch(G){ut(o,p,G)}}var x=o.return;try{c0(o)}catch(G){ut(o,x,G)}break;case 5:var P=o.return;try{c0(o)}catch(G){ut(o,P,G)}}}catch(G){ut(o,o.return,G)}if(o===s){ae=null;break}var F=o.sibling;if(F!==null){F.return=o.return,ae=F;break}ae=o.return}}var lc=0,uc=1,cc=2,dc=3,hc=4;if(typeof Symbol=="function"&&Symbol.for){var ul=Symbol.for;lc=ul("selector.component"),uc=ul("selector.has_pseudo_class"),cc=ul("selector.role"),dc=ul("selector.test_id"),hc=ul("selector.text")}function p0(s){var o=Gn(s);if(o!=null){if(typeof o.memoizedProps["data-testname"]!="string")throw Error(l(364));return o}if(s=Ms(s),s===null)throw Error(l(362));return s.stateNode.current}function g0(s,o){switch(o.$$typeof){case lc:if(s.type===o.value)return!0;break;case uc:e:{o=o.value,s=[s,0];for(var c=0;c<s.length;){var h=s[c++],p=s[c++],x=o[p];if(h.tag!==5||!Os(h)){for(;x!=null&&g0(h,x);)p++,x=o[p];if(p===o.length){o=!0;break e}else for(h=h.child;h!==null;)s.push(h,p),h=h.sibling}}o=!1}return o;case cc:if(s.tag===5&&hf(s.stateNode,o.value))return!0;break;case hc:if((s.tag===5||s.tag===6)&&(s=Zr(s),s!==null&&0<=s.indexOf(o.value)))return!0;break;case dc:if(s.tag===5&&(s=s.memoizedProps["data-testname"],typeof s=="string"&&s.toLowerCase()===o.value.toLowerCase()))return!0;break;default:throw Error(l(365))}return!1}function m0(s){switch(s.$$typeof){case lc:return"<"+(L(s.value)||"Unknown")+">";case uc:return":has("+(m0(s)||"")+")";case cc:return'[role="'+s.value+'"]';case hc:return'"'+s.value+'"';case dc:return'[data-testname="'+s.value+'"]';default:throw Error(l(365))}}function z2(s,o){var c=[];s=[s,0];for(var h=0;h<s.length;){var p=s[h++],x=s[h++],P=o[x];if(p.tag!==5||!Os(p)){for(;P!=null&&g0(p,P);)x++,P=o[x];if(x===o.length)c.push(p);else for(p=p.child;p!==null;)s.push(p,x),p=p.sibling}}return c}function y0(s,o){if(!Pi)throw Error(l(363));s=p0(s),s=z2(s,o),o=[],s=Array.from(s);for(var c=0;c<s.length;){var h=s[c++];if(h.tag===5)Os(h)||o.push(h.stateNode);else for(h=h.child;h!==null;)s.push(h),h=h.sibling}return o}var c9=Math.ceil,fc=u.ReactCurrentDispatcher,v0=u.ReactCurrentOwner,Ct=u.ReactCurrentBatchConfig,Re=0,It=null,bt=null,Wt=0,On=0,Fa=Mi(0),Rt=0,cl=null,zs=0,pc=0,x0=0,dl=null,_n=null,_0=0,w0=1/0,si=null;function Da(){w0=Ft()+500}var gc=!1,S0=null,Fi=null,mc=!1,Di=null,yc=0,hl=0,C0=null,vc=-1,xc=0;function Zt(){return Re&6?Ft():vc!==-1?vc:vc=Ft()}function Ii(s){return s.mode&1?Re&2&&Wt!==0?Wt&-Wt:$8.transition!==null?(xc===0&&(xc=Cm()),xc):(s=Be,s!==0?s:or()):1}function Yn(s,o,c,h){if(50<hl)throw hl=0,C0=null,Error(l(185));Xo(s,c,h),(!(Re&2)||s!==It)&&(s===It&&(!(Re&2)&&(pc|=c),Rt===4&&zi(s,Wt)),wn(s,h),c===1&&Re===0&&!(o.mode&1)&&(Da(),zu&&Or()))}function wn(s,o){var c=s.callbackNode;D8(s,o);var h=Du(s,s===It?Wt:0);if(h===0)c!==null&&Em(c),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(c!=null&&Em(c),o===1)s.tag===0?H8(G2.bind(null,s)):Nm(G2.bind(null,s)),Bn?df(function(){!(Re&6)&&Or()}):Nf(bf,Or),c=null;else{switch(km(h)){case 1:c=bf;break;case 4:c=G8;break;case 16:c=Pf;break;case 536870912:c=B8;break;default:c=Pf}c=X2(c,U2.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function U2(s,o){if(vc=-1,xc=0,Re&6)throw Error(l(327));var c=s.callbackNode;if(Bs()&&s.callbackNode!==c)return null;var h=Du(s,s===It?Wt:0);if(h===0)return null;if(h&30||h&s.expiredLanes||o)o=_c(s,h);else{o=h;var p=Re;Re|=2;var x=W2();(It!==s||Wt!==o)&&(si=null,Da(),Us(s,o));do try{f9();break}catch(F){V2(s,F)}while(1);Ff(),fc.current=x,Re=p,bt!==null?o=0:(It=null,Wt=0,o=Rt)}if(o!==0){if(o===2&&(p=Cf(s),p!==0&&(h=p,o=k0(s,p))),o===1)throw c=cl,Us(s,0),zi(s,h),wn(s,Ft()),c;if(o===6)zi(s,h);else{if(p=s.current.alternate,!(h&30)&&!d9(p)&&(o=_c(s,h),o===2&&(x=Cf(s),x!==0&&(h=x,o=k0(s,x))),o===1))throw c=cl,Us(s,0),zi(s,h),wn(s,Ft()),c;switch(s.finishedWork=p,s.finishedLanes=h,o){case 0:case 1:throw Error(l(345));case 2:Gs(s,_n,si);break;case 3:if(zi(s,h),(h&130023424)===h&&(o=_0+500-Ft(),10<o)){if(Du(s,0)!==0)break;if(p=s.suspendedLanes,(p&h)!==h){Zt(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=A(Gs.bind(null,s,_n,si),o);break}Gs(s,_n,si);break;case 4:if(zi(s,h),(h&4194240)===h)break;for(o=s.eventTimes,p=-1;0<h;){var P=31-ur(h);x=1<<P,P=o[P],P>p&&(p=P),h&=~x}if(h=p,h=Ft()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*c9(h/1960))-h,10<h){s.timeoutHandle=A(Gs.bind(null,s,_n,si),h);break}Gs(s,_n,si);break;case 5:Gs(s,_n,si);break;default:throw Error(l(329))}}}return wn(s,Ft()),s.callbackNode===c?U2.bind(null,s):null}function k0(s,o){var c=dl;return s.current.memoizedState.isDehydrated&&(Us(s,o).flags|=256),s=_c(s,o),s!==2&&(o=_n,_n=c,o!==null&&E0(o)),s}function E0(s){_n===null?_n=s:_n.push.apply(_n,s)}function d9(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var p=c[h],x=p.getSnapshot;p=p.value;try{if(!cr(x(),p))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function zi(s,o){for(o&=~x0,o&=~pc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-ur(o),h=1<<c;s[c]=-1,o&=~h}}function G2(s){if(Re&6)throw Error(l(327));Bs();var o=Du(s,0);if(!(o&1))return wn(s,Ft()),null;var c=_c(s,o);if(s.tag!==0&&c===2){var h=Cf(s);h!==0&&(o=h,c=k0(s,h))}if(c===1)throw c=cl,Us(s,0),zi(s,o),wn(s,Ft()),c;if(c===6)throw Error(l(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Gs(s,_n,si),wn(s,Ft()),null}function B2(s){Di!==null&&Di.tag===0&&!(Re&6)&&Bs();var o=Re;Re|=1;var c=Ct.transition,h=Be;try{if(Ct.transition=null,Be=1,s)return s()}finally{Be=h,Ct.transition=c,Re=o,!(Re&6)&&Or()}}function N0(){On=Fa.current,it(Fa)}function Us(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==de&&(s.timeoutHandle=de,Y(c)),bt!==null)for(c=bt.return;c!==null;){var h=c;switch(jf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ou();break;case 3:Oa(),it(yn),it(Qt),Wf();break;case 5:Bf(h);break;case 4:Oa();break;case 13:it(ht);break;case 19:it(ht);break;case 10:Df(h.type._context);break;case 22:case 23:N0()}c=c.return}if(It=s,bt=s=Ui(s.current,null),Wt=On=o,Rt=0,cl=null,x0=pc=zs=0,_n=dl=null,Ds!==null){for(o=0;o<Ds.length;o++)if(c=Ds[o],h=c.interleaved,h!==null){c.interleaved=null;var p=h.next,x=c.pending;if(x!==null){var P=x.next;x.next=p,h.next=P}c.pending=h}Ds=null}return s}function V2(s,o){do{var c=bt;try{if(Ff(),Xu.current=ec,qu){for(var h=ft.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}qu=!1}if(Is=0,Dt=Tt=ft=null,tl=!1,nl=0,v0.current=null,c===null||c.return===null){Rt=1,cl=o,bt=null;break}e:{var x=s,P=c.return,F=c,G=o;if(o=Wt,F.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var J=G,le=F,Ee=le.tag;if(!(le.mode&1)&&(Ee===0||Ee===11||Ee===15)){var re=le.alternate;re?(le.updateQueue=re.updateQueue,le.memoizedState=re.memoizedState,le.lanes=re.lanes):(le.updateQueue=null,le.memoizedState=null)}var st=p2(P);if(st!==null){st.flags&=-257,g2(st,P,F,x,o),st.mode&1&&f2(x,J,o),o=st,G=J;var et=o.updateQueue;if(et===null){var Sn=new Set;Sn.add(G),o.updateQueue=Sn}else et.add(G);break e}else{if(!(o&1)){f2(x,J,o),b0();break e}G=Error(l(426))}}else if(lt&&F.mode&1){var ai=p2(P);if(ai!==null){!(ai.flags&65536)&&(ai.flags|=256),g2(ai,P,F,x,o),Af(Aa(G,F));break e}}x=G=Aa(G,F),Rt!==4&&(Rt=2),dl===null?dl=[x]:dl.push(x),x=P;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var U=d2(x,G,o);Im(x,U);break e;case 1:F=G;var D=x.type,V=x.stateNode;if(!(x.flags&128)&&(typeof D.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Fi===null||!Fi.has(V)))){x.flags|=65536,o&=-o,x.lanes|=o;var se=h2(x,F,o);Im(x,se);break e}}x=x.return}while(x!==null)}$2(c)}catch(pe){o=pe,bt===c&&c!==null&&(bt=c=c.return);continue}break}while(1)}function W2(){var s=fc.current;return fc.current=ec,s===null?ec:s}function b0(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),It===null||!(zs&268435455)&&!(pc&268435455)||zi(It,Wt)}function _c(s,o){var c=Re;Re|=2;var h=W2();(It!==s||Wt!==o)&&(si=null,Us(s,o));do try{h9();break}catch(p){V2(s,p)}while(1);if(Ff(),Re=c,fc.current=h,bt!==null)throw Error(l(261));return It=null,Wt=0,Rt}function h9(){for(;bt!==null;)H2(bt)}function f9(){for(;bt!==null&&!z8();)H2(bt)}function H2(s){var o=Y2(s.alternate,s,On);s.memoizedProps=s.pendingProps,o===null?$2(s):bt=o,v0.current=null}function $2(s){var o=s;do{var c=o.alternate;if(s=o.return,o.flags&32768){if(c=a9(c,o),c!==null){c.flags&=32767,bt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Rt=6,bt=null;return}}else if(c=s9(c,o,On),c!==null){bt=c;return}if(o=o.sibling,o!==null){bt=o;return}bt=o=s}while(o!==null);Rt===0&&(Rt=5)}function Gs(s,o,c){var h=Be,p=Ct.transition;try{Ct.transition=null,Be=1,p9(s,o,c,h)}finally{Ct.transition=p,Be=h}return null}function p9(s,o,c,h){do Bs();while(Di!==null);if(Re&6)throw Error(l(327));c=s.finishedWork;var p=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(l(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(I8(s,x),s===It&&(bt=It=null,Wt=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||mc||(mc=!0,X2(Pf,function(){return Bs(),null})),x=(c.flags&15990)!==0,c.subtreeFlags&15990||x){x=Ct.transition,Ct.transition=null;var P=Be;Be=1;var F=Re;Re|=4,v0.current=null,l9(s,c),A2(c,s),X(s.containerInfo),s.current=c,u9(c),U8(),Re=F,Be=P,Ct.transition=x}else s.current=c;if(mc&&(mc=!1,Di=s,yc=p),x=s.pendingLanes,x===0&&(Fi=null),V8(c.stateNode),wn(s,Ft()),o!==null)for(h=s.onRecoverableError,c=0;c<o.length;c++)p=o[c],h(p.value,{componentStack:p.stack,digest:p.digest});if(gc)throw gc=!1,s=S0,S0=null,s;return yc&1&&s.tag!==0&&Bs(),x=s.pendingLanes,x&1?s===C0?hl++:(hl=0,C0=s):hl=0,Or(),null}function Bs(){if(Di!==null){var s=km(yc),o=Ct.transition,c=Be;try{if(Ct.transition=null,Be=16>s?16:s,Di===null)var h=!1;else{if(s=Di,Di=null,yc=0,Re&6)throw Error(l(331));var p=Re;for(Re|=4,ae=s.current;ae!==null;){var x=ae,P=x.child;if(ae.flags&16){var F=x.deletions;if(F!==null){for(var G=0;G<F.length;G++){var J=F[G];for(ae=J;ae!==null;){var le=ae;switch(le.tag){case 0:case 11:case 15:ll(8,le,x)}var Ee=le.child;if(Ee!==null)Ee.return=le,ae=Ee;else for(;ae!==null;){le=ae;var re=le.sibling,st=le.return;if(R2(le),le===J){ae=null;break}if(re!==null){re.return=st,ae=re;break}ae=st}}}var et=x.alternate;if(et!==null){var Sn=et.child;if(Sn!==null){et.child=null;do{var ai=Sn.sibling;Sn.sibling=null,Sn=ai}while(Sn!==null)}}ae=x}}if(x.subtreeFlags&2064&&P!==null)P.return=x,ae=P;else e:for(;ae!==null;){if(x=ae,x.flags&2048)switch(x.tag){case 0:case 11:case 15:ll(9,x,x.return)}var U=x.sibling;if(U!==null){U.return=x.return,ae=U;break e}ae=x.return}}var D=s.current;for(ae=D;ae!==null;){P=ae;var V=P.child;if(P.subtreeFlags&2064&&V!==null)V.return=P,ae=V;else e:for(P=D;ae!==null;){if(F=ae,F.flags&2048)try{switch(F.tag){case 0:case 11:case 15:oc(9,F)}}catch(pe){ut(F,F.return,pe)}if(F===P){ae=null;break e}var se=F.sibling;if(se!==null){se.return=F.return,ae=se;break e}ae=F.return}}if(Re=p,Or(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(Iu,s)}catch{}h=!0}return h}finally{Be=c,Ct.transition=o}}return!1}function K2(s,o,c){o=Aa(c,o),o=d2(s,o,1),s=Li(s,o,1),o=Zt(),s!==null&&(Xo(s,1,o),wn(s,o))}function ut(s,o,c){if(s.tag===3)K2(s,s,c);else for(;o!==null;){if(o.tag===3){K2(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Fi===null||!Fi.has(h))){s=Aa(c,s),s=h2(o,s,1),o=Li(o,s,1),s=Zt(),o!==null&&(Xo(o,1,s),wn(o,s));break}}o=o.return}}function g9(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),o=Zt(),s.pingedLanes|=s.suspendedLanes&c,It===s&&(Wt&c)===c&&(Rt===4||Rt===3&&(Wt&130023424)===Wt&&500>Ft()-_0?Us(s,0):x0|=c),wn(s,o)}function Q2(s,o){o===0&&(s.mode&1?(o=Fu,Fu<<=1,!(Fu&130023424)&&(Fu=4194304)):o=1);var c=Zt();s=Ar(s,o),s!==null&&(Xo(s,o,c),wn(s,c))}function m9(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Q2(s,c)}function y9(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(c=p.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(l(314))}h!==null&&h.delete(o),Q2(s,c)}var Y2;Y2=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||yn.current)xn=!0;else{if(!(s.lanes&c)&&!(o.flags&128))return xn=!1,i9(s,o,c);xn=!!(s.flags&131072)}else xn=!1,lt&&o.flags&1048576&&bm(o,Gu,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;rc(s,o),s=o.pendingProps;var p=Ea(o,Qt.current);ja(o,c),p=Kf(null,o,h,s,p,c);var x=Qf();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,vn(h)?(x=!0,Au(o)):x=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Uf(o),p.updater=tc,o.stateNode=p,p._reactInternals=o,e0(o,h,s,c),o=i0(null,o,h,!0,x,c)):(o.tag=0,lt&&x&&Rf(o),an(null,o,p,c),o=o.child),o;case 16:h=o.elementType;e:{switch(rc(s,o),s=o.pendingProps,p=h._init,h=p(h._payload),o.type=h,p=o.tag=x9(h),s=hr(h,s),p){case 0:o=r0(null,o,h,s,c);break e;case 1:o=w2(null,o,h,s,c);break e;case 11:o=m2(null,o,h,s,c);break e;case 14:o=y2(null,o,h,hr(h.type,s),c);break e}throw Error(l(306,h,""))}return o;case 0:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:hr(h,p),r0(s,o,h,p,c);case 1:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:hr(h,p),w2(s,o,h,p,c);case 3:e:{if(S2(o),s===null)throw Error(l(387));h=o.pendingProps,x=o.memoizedState,p=x.element,Dm(s,o),Qu(o,h,null,c);var P=o.memoizedState;if(h=P.element,qe&&x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){p=Aa(Error(l(423)),o),o=C2(s,o,h,c,p);break e}else if(h!==p){p=Aa(Error(l(424)),o),o=C2(s,o,h,c,p);break e}else for(qe&&(Hn=x8(o.stateNode.containerInfo),Mn=o,lt=!0,dr=null,qo=!1),c=Am(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Pa(),h===p){o=ii(s,o,c);break e}an(s,o,h,c)}o=o.child}return o;case 5:return Um(o),s===null&&Of(o),h=o.type,p=o.pendingProps,x=s!==null?s.memoizedProps:null,P=p.children,Ae(h,p)?P=null:x!==null&&Ae(h,x)&&(o.flags|=32),_2(s,o),an(s,o,P,c),o.child;case 6:return s===null&&Of(o),null;case 13:return k2(s,o,c);case 4:return Gf(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=Ta(o,null,h,c):an(s,o,h,c),o.child;case 11:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:hr(h,p),m2(s,o,h,p,c);case 7:return an(s,o,o.pendingProps,c),o.child;case 8:return an(s,o,o.pendingProps.children,c),o.child;case 12:return an(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,p=o.pendingProps,x=o.memoizedProps,P=p.value,Lm(o,h,P),x!==null)if(cr(x.value,P)){if(x.children===p.children&&!yn.current){o=ii(s,o,c);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var F=x.dependencies;if(F!==null){P=x.child;for(var G=F.firstContext;G!==null;){if(G.context===h){if(x.tag===1){G=ri(-1,c&-c),G.tag=2;var J=x.updateQueue;if(J!==null){J=J.shared;var le=J.pending;le===null?G.next=G:(G.next=le.next,le.next=G),J.pending=G}}x.lanes|=c,G=x.alternate,G!==null&&(G.lanes|=c),If(x.return,c,o),F.lanes|=c;break}G=G.next}}else if(x.tag===10)P=x.type===o.type?null:x.child;else if(x.tag===18){if(P=x.return,P===null)throw Error(l(341));P.lanes|=c,F=P.alternate,F!==null&&(F.lanes|=c),If(P,c,o),P=x.sibling}else P=x.child;if(P!==null)P.return=x;else for(P=x;P!==null;){if(P===o){P=null;break}if(x=P.sibling,x!==null){x.return=P.return,P=x;break}P=P.return}x=P}an(s,o,p.children,c),o=o.child}return o;case 9:return p=o.type,h=o.pendingProps.children,ja(o,c),p=$n(p),h=h(p),o.flags|=1,an(s,o,h,c),o.child;case 14:return h=o.type,p=hr(h,o.pendingProps),p=hr(h.type,p),y2(s,o,h,p,c);case 15:return v2(s,o,o.type,o.pendingProps,c);case 17:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:hr(h,p),rc(s,o),o.tag=1,vn(h)?(s=!0,Au(o)):s=!1,ja(o,c),u2(o,h,p),e0(o,h,p,c),i0(null,o,h,!0,s,c);case 19:return N2(s,o,c);case 22:return x2(s,o,c)}throw Error(l(156,o.tag))};function X2(s,o){return Nf(s,o)}function v9(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(s,o,c,h){return new v9(s,o,c,h)}function P0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function x9(s){if(typeof s=="function")return P0(s)?1:0;if(s!=null){if(s=s.$$typeof,s===N)return 11;if(s===E)return 14}return 2}function Ui(s,o){var c=s.alternate;return c===null?(c=Xn(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function wc(s,o,c,h,p,x){var P=2;if(h=s,typeof s=="function")P0(s)&&(P=1);else if(typeof s=="string")P=5;else e:switch(s){case m:return Vs(c.children,p,x,o);case S:P=8,p|=8;break;case v:return s=Xn(12,c,o,p|2),s.elementType=v,s.lanes=x,s;case b:return s=Xn(13,c,o,p),s.elementType=b,s.lanes=x,s;case k:return s=Xn(19,c,o,p),s.elementType=k,s.lanes=x,s;case C:return Sc(c,p,x,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case y:P=10;break e;case w:P=9;break e;case N:P=11;break e;case E:P=14;break e;case g:P=16,h=null;break e}throw Error(l(130,s==null?s:typeof s,""))}return o=Xn(P,c,o,p),o.elementType=s,o.type=h,o.lanes=x,o}function Vs(s,o,c,h){return s=Xn(7,s,h,o),s.lanes=c,s}function Sc(s,o,c,h){return s=Xn(22,s,h,o),s.elementType=C,s.lanes=c,s.stateNode={isHidden:!1},s}function T0(s,o,c){return s=Xn(6,s,null,o),s.lanes=c,s}function R0(s,o,c){return o=Xn(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function _9(s,o,c,h,p){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=de,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kf(0),this.expirationTimes=kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.identifierPrefix=h,this.onRecoverableError=p,qe&&(this.mutableSourceEagerHydrationData=null)}function q2(s,o,c,h,p,x,P,F,G){return s=new _9(s,o,c,F,G),o===1?(o=1,x===!0&&(o|=8)):o=0,x=Xn(3,null,null,o),s.current=x,x.stateNode=s,x.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uf(x),s}function Z2(s){if(!s)return Oi;s=s._reactInternals;e:{if(I(s)!==s||s.tag!==1)throw Error(l(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(vn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(l(171))}if(s.tag===1){var c=s.type;if(vn(c))return wm(s,c,o)}return o}function J2(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(l(188)):(s=Object.keys(s).join(","),Error(l(268,s)));return s=z(o),s===null?null:s.stateNode}function ey(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Cc(s,o){ey(s,o),(s=s.alternate)&&ey(s,o)}function w9(s){return s=z(s),s===null?null:s.stateNode}function S9(){return null}return n.attemptContinuousHydration=function(s){if(s.tag===13){var o=Ar(s,134217728);if(o!==null){var c=Zt();Yn(o,s,134217728,c)}Cc(s,134217728)}},n.attemptDiscreteHydration=function(s){if(s.tag===13){var o=Ar(s,1);if(o!==null){var c=Zt();Yn(o,s,1,c)}Cc(s,1)}},n.attemptHydrationAtCurrentPriority=function(s){if(s.tag===13){var o=Ii(s),c=Ar(s,o);if(c!==null){var h=Zt();Yn(c,s,o,h)}Cc(s,o)}},n.attemptSynchronousHydration=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Yo(o.pendingLanes);c!==0&&(Ef(o,c|1),wn(o,Ft()),!(Re&6)&&(Da(),Or()))}break;case 13:B2(function(){var h=Ar(s,1);if(h!==null){var p=Zt();Yn(h,s,1,p)}}),Cc(s,1)}},n.batchedUpdates=function(s,o){var c=Re;Re|=1;try{return s(o)}finally{Re=c,Re===0&&(Da(),zu&&Or())}},n.createComponentSelector=function(s){return{$$typeof:lc,value:s}},n.createContainer=function(s,o,c,h,p,x,P){return q2(s,o,!1,null,c,h,p,x,P)},n.createHasPseudoClassSelector=function(s){return{$$typeof:uc,value:s}},n.createHydrationContainer=function(s,o,c,h,p,x,P,F,G){return s=q2(c,h,!0,s,p,x,P,F,G),s.context=Z2(null),c=s.current,h=Zt(),p=Ii(c),x=ri(h,p),x.callback=o??null,Li(c,x,p),s.current.lanes=p,Xo(s,p,h),wn(s,h),s},n.createPortal=function(s,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:h==null?null:""+h,children:s,containerInfo:o,implementation:c}},n.createRoleSelector=function(s){return{$$typeof:cc,value:s}},n.createTestNameSelector=function(s){return{$$typeof:dc,value:s}},n.createTextSelector=function(s){return{$$typeof:hc,value:s}},n.deferredUpdates=function(s){var o=Be,c=Ct.transition;try{return Ct.transition=null,Be=16,s()}finally{Be=o,Ct.transition=c}},n.discreteUpdates=function(s,o,c,h,p){var x=Be,P=Ct.transition;try{return Ct.transition=null,Be=1,s(o,c,h,p)}finally{Be=x,Ct.transition=P,Re===0&&Da()}},n.findAllNodes=y0,n.findBoundingRects=function(s,o){if(!Pi)throw Error(l(363));o=y0(s,o),s=[];for(var c=0;c<o.length;c++)s.push(Eu(o[c]));for(o=s.length-1;0<o;o--){c=s[o];for(var h=c.x,p=h+c.width,x=c.y,P=x+c.height,F=o-1;0<=F;F--)if(o!==F){var G=s[F],J=G.x,le=J+G.width,Ee=G.y,re=Ee+G.height;if(h>=J&&x>=Ee&&p<=le&&P<=re){s.splice(o,1);break}else if(h!==J||c.width!==G.width||re<x||Ee>P){if(!(x!==Ee||c.height!==G.height||le<h||J>p)){J>h&&(G.width+=J-h,G.x=h),le<p&&(G.width=p-J),s.splice(o,1);break}}else{Ee>x&&(G.height+=Ee-x,G.y=x),re<P&&(G.height=P-Ee),s.splice(o,1);break}}}return s},n.findHostInstance=J2,n.findHostInstanceWithNoPortals=function(s){return s=B(s),s=s!==null?ne(s):null,s===null?null:s.stateNode},n.findHostInstanceWithWarning=function(s){return J2(s)},n.flushControlled=function(s){var o=Re;Re|=1;var c=Ct.transition,h=Be;try{Ct.transition=null,Be=1,s()}finally{Be=h,Ct.transition=c,Re=o,Re===0&&(Da(),Or())}},n.flushPassiveEffects=Bs,n.flushSync=B2,n.focusWithin=function(s,o){if(!Pi)throw Error(l(363));for(s=p0(s),o=z2(s,o),o=Array.from(o),s=0;s<o.length;){var c=o[s++];if(!Os(c)){if(c.tag===5&&pn(c.stateNode))return!0;for(c=c.child;c!==null;)o.push(c),c=c.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Be},n.getFindAllNodesFailureDescription=function(s,o){if(!Pi)throw Error(l(363));var c=0,h=[];s=[p0(s),0];for(var p=0;p<s.length;){var x=s[p++],P=s[p++],F=o[P];if((x.tag!==5||!Os(x))&&(g0(x,F)&&(h.push(m0(F)),P++,P>c&&(c=P)),P<o.length))for(x=x.child;x!==null;)s.push(x,P),x=x.sibling}if(c<o.length){for(s=[];c<o.length;c++)s.push(m0(o[c]));return`findAllNodes was able to match part of the selector:
  `+(h.join(" > ")+`

No matching component was found for:
  `)+s.join(" > ")}return null},n.getPublicRootInstance=function(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return ge(s.child.stateNode);default:return s.child.stateNode}},n.injectIntoDevTools=function(s){if(s={bundleType:s.bundleType,version:s.version,rendererPackageName:s.rendererPackageName,rendererConfig:s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:w9,findFiberByHostInstance:s.findFiberByHostInstance||S9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")s=!1;else{var o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(o.isDisabled||!o.supportsFiber)s=!0;else{try{Iu=o.inject(s),Mr=o}catch{}s=!!o.checkDCE}}return s},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(s,o,c,h){if(!Pi)throw Error(l(363));s=y0(s,o);var p=Ti(s,c,h).disconnect;return{disconnect:function(){p()}}},n.registerMutableSourceForHydration=function(s,o){var c=o._getVersion;c=c(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,c]:s.mutableSourceEagerHydrationData.push(o,c)},n.runWithPriority=function(s,o){var c=Be;try{return Be=s,o()}finally{Be=c}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(s,o,c,h){var p=o.current,x=Zt(),P=Ii(p);return c=Z2(c),o.context===null?o.context=c:o.pendingContext=c,o=ri(x,P),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Li(p,o,P),s!==null&&(Yn(s,p,P,x),Ku(s,p,P)),P},n};o8.exports=OP;var AP=o8.exports;const LP=hu(AP);var l8={exports:{}},Sa={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Sa.ConcurrentRoot=1;Sa.ContinuousEventPriority=4;Sa.DefaultEventPriority=16;Sa.DiscreteEventPriority=1;Sa.IdleEventPriority=536870912;Sa.LegacyRoot=0;l8.exports=Sa;var u8=l8.exports;const S5={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let C5=!1,k5=!1;const ym=".react-konva-event",FP=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,DP=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,IP={};function cf(t,e,n=IP){if(!C5&&"zIndex"in e&&(console.warn(DP),C5=!0),!k5&&e.draggable){var r=e.x!==void 0||e.y!==void 0,i=e.onDragEnd||e.onDragMove;r&&!i&&(console.warn(FP),k5=!0)}for(var a in n)if(!S5[a]){var l=a.slice(0,2)==="on",u=n[a]!==e[a];if(l&&u){var d=a.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),t.off(d,n[a])}var f=!e.hasOwnProperty(a);f&&t.setAttr(a,void 0)}var m=e._useStrictMode,S={},v=!1;const y={};for(var a in e)if(!S5[a]){var l=a.slice(0,2)==="on",w=n[a]!==e[a];if(l&&w){var d=a.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),e[a]&&(y[d]=e[a])}!l&&(e[a]!==n[a]||m&&e[a]!==t.getAttr(a))&&(v=!0,S[a]=e[a])}v&&(t.setAttrs(S),js(t));for(var d in y)t.on(d+ym,y[d])}function js(t){if(!Te.Konva.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const c8={},zP={};uu.Node.prototype._applyProps=cf;function UP(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),js(t)}function GP(t,e,n){let r=uu[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=uu.Group);const i={},a={};for(var l in e){var u=l.slice(0,2)==="on";u?a[l]=e[l]:i[l]=e[l]}const d=new r(i);return cf(d,a),d}function BP(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function VP(t,e,n){return!1}function WP(t){return t}function HP(){return null}function $P(){return null}function KP(t,e,n,r){return zP}function QP(){}function YP(t){}function XP(t,e){return!1}function qP(){return c8}function ZP(){return c8}const JP=setTimeout,eT=clearTimeout,tT=-1;function nT(t,e){return!1}const rT=!1,iT=!0,sT=!0;function aT(t,e){e.parent===t?e.moveToTop():t.add(e),js(t)}function oT(t,e){e.parent===t?e.moveToTop():t.add(e),js(t)}function d8(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),js(t)}function lT(t,e,n){d8(t,e,n)}function uT(t,e){e.destroy(),e.off(ym),js(t)}function cT(t,e){e.destroy(),e.off(ym),js(t)}function dT(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function hT(t,e,n){}function fT(t,e,n,r,i){cf(t,i,r)}function pT(t){t.hide(),js(t)}function gT(t){}function mT(t,e){(e.visible==null||e.visible)&&t.show()}function yT(t,e){}function vT(t){}function xT(){}const _T=()=>u8.DefaultEventPriority,wT=Object.freeze(Object.defineProperty({__proto__:null,appendChild:aT,appendChildToContainer:oT,appendInitialChild:UP,cancelTimeout:eT,clearContainer:vT,commitMount:hT,commitTextUpdate:dT,commitUpdate:fT,createInstance:GP,createTextInstance:BP,detachDeletedInstance:xT,finalizeInitialChildren:VP,getChildHostContext:ZP,getCurrentEventPriority:_T,getPublicInstance:WP,getRootHostContext:qP,hideInstance:pT,hideTextInstance:gT,idlePriority:Rl.unstable_IdlePriority,insertBefore:d8,insertInContainerBefore:lT,isPrimaryRenderer:rT,noTimeout:tT,now:Rl.unstable_now,prepareForCommit:HP,preparePortalMount:$P,prepareUpdate:KP,removeChild:uT,removeChildFromContainer:cT,resetAfterCommit:QP,resetTextContent:YP,run:Rl.unstable_runWithPriority,scheduleTimeout:JP,shouldDeprioritizeSubtree:XP,shouldSetTextContent:nT,supportsMutation:sT,unhideInstance:mT,unhideTextInstance:yT,warnsIfNotActing:iT},Symbol.toStringTag,{value:"Module"}));var ST=Object.defineProperty,CT=Object.defineProperties,kT=Object.getOwnPropertyDescriptors,E5=Object.getOwnPropertySymbols,ET=Object.prototype.hasOwnProperty,NT=Object.prototype.propertyIsEnumerable,N5=(t,e,n)=>e in t?ST(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b5=(t,e)=>{for(var n in e||(e={}))ET.call(e,n)&&N5(t,n,e[n]);if(E5)for(var n of E5(e))NT.call(e,n)&&N5(t,n,e[n]);return t},bT=(t,e)=>CT(t,kT(e)),P5,T5;typeof window<"u"&&((P5=window.document)!=null&&P5.createElement||((T5=window.navigator)==null?void 0:T5.product)==="ReactNative")?M.useLayoutEffect:M.useEffect;function h8(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=h8(r,e,n);if(i)return i;r=e?null:r.sibling}}function f8(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const R5=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=R5;return}return R5.apply(this,arguments)};const vm=f8(M.createContext(null));class p8 extends M.Component{render(){return M.createElement(vm.Provider,{value:this._reactInternals},this.props.children)}}function PT(){const t=M.useContext(vm);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=M.useId();return M.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=h8(r,!1,a=>{let l=a.memoizedState;for(;l;){if(l.memoizedState===e)return!0;l=l.next}});if(i)return i}},[t,e])}function TT(){const t=PT(),[e]=M.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==vm&&!e.has(i)&&e.set(i,M.useContext(f8(i)))}n=n.return}return e}function RT(){const t=TT();return M.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>M.createElement(e,null,M.createElement(n.Provider,bT(b5({},r),{value:t.get(n)}))),e=>M.createElement(p8,b5({},e))),[t])}function jT(t){const e=q.useRef({});return q.useLayoutEffect(()=>{e.current=t}),q.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const MT=t=>{const e=q.useRef(null),n=q.useRef(null),r=q.useRef(null),i=jT(t),a=RT(),l=u=>{const{forwardedRef:d}=t;d&&(typeof d=="function"?d(u):d.current=u)};return q.useLayoutEffect(()=>(n.current=new uu.Stage({width:t.width,height:t.height,container:e.current}),l(n.current),r.current=Tl.createContainer(n.current,u8.LegacyRoot,!1,null),Tl.updateContainer(q.createElement(a,{},t.children),r.current),()=>{uu.isBrowser&&(l(null),Tl.updateContainer(null,r.current,null),n.current.destroy())}),[]),q.useLayoutEffect(()=>{l(n.current),cf(n.current,t,i),Tl.updateContainer(q.createElement(a,{},t.children),r.current,null)}),q.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},vp="Layer",OT="Group",xm="Rect",g8="Circle",AT="Line",LT="Text",Tl=LP(wT);Tl.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:q.version,rendererPackageName:"react-konva"});const FT=q.forwardRef((t,e)=>q.createElement(p8,{},q.createElement(MT,{...t,forwardedRef:e})));function DT({table:t,viewport:e,stageSize:n}){const r={pitch:t.pitch,origin:t.origin,width:t.width,height:t.height,units:t.units},i=M.useMemo(()=>{const u={x:-e.x/e.scale,y:-e.y/e.scale,width:n.width/e.scale,height:n.height/e.scale};return Ek(r,u)},[r,e,n]),a=M.useMemo(()=>kk(r,e.scale),[r,e.scale]),l=M.useMemo(()=>{const u=[],{pitch:d,origin:f,width:m,height:S}=r,v=Math.max(f.x,-e.x/e.scale-d),y=Math.min(f.x+m,(-e.x+n.width)/e.scale+d),w=Math.max(f.y,-e.y/e.scale-d),N=Math.min(f.y+S,(-e.y+n.height)/e.scale+d);for(let b=v;b<=y;b+=d)for(let k=w;k<=N;k+=d)u.push({x:b,y:k});return u},[r,e,n]);return _.jsxs(_.Fragment,{children:[_.jsx(xm,{x:t.origin.x,y:t.origin.y,width:t.width,height:t.height,stroke:"#6b7280",strokeWidth:2,fill:"transparent",shadowColor:"black",shadowBlur:2,shadowOffset:{x:1,y:1},shadowOpacity:.1}),i.map((u,d)=>_.jsx(AT,{points:[u.start.x,u.start.y,u.end.x,u.end.y],stroke:"#e5e7eb",strokeWidth:1,dash:[2,2],opacity:.6},`line-${d}`)),l.map((u,d)=>_.jsx(g8,{x:u.x,y:u.y,radius:a/2,fill:"#9ca3af",opacity:.4},`hole-${d}`))]})}const Wi=36,IT=8,j5=6;function zT(t){switch(t){case"green":return"#22c55e";case"red":return"#ef4444";default:return"#94a3b8"}}function UT(t){return t.includes("laser")||t.includes("source")}function GT(t){return t.includes("camera")||t.includes("detector")||t.includes("sensor")||t.includes("spectrograph")}function BT(t){return UT(t)?"#ef4444":GT(t)?"#22c55e":"#3b82f6"}const VT=M.memo(({devices:t,onDeviceSelect:e,onDeviceMove:n,tablePitch:r,tableOrigin:i})=>{const a=M.useCallback(u=>{var m;const d=(m=u.target.getStage())==null?void 0:m.getPointerPosition();if(!d)return;const f=Hd(d,{pitch:r,origin:i});u.target.position({x:f.x,y:f.y})},[r,i]),l=M.useCallback((u,d)=>{const{x:f,y:m}=u.target.position();n(d,{x:f,y:m})},[n]);return _.jsx(_.Fragment,{children:t.map(u=>{const d=BT(u.type);return _.jsxs(OT,{x:u.pos.x,y:u.pos.y,rotation:u.pos.angle??0,offsetX:Wi/2,offsetY:Wi/2,draggable:!0,onClick:()=>e(u.id),onTap:()=>e(u.id),onDragMove:a,onDragEnd:f=>l(f,u.id),listening:!0,children:[_.jsx(xm,{width:Wi,height:Wi,cornerRadius:IT,fill:"#0f172a",stroke:zT(u.status),strokeWidth:2,shadowBlur:2,shadowColor:"black"}),_.jsx(g8,{x:Wi/2+j5/2,y:0,radius:j5/2,fill:d,stroke:"white",strokeWidth:1,listening:!1}),_.jsx(LT,{text:u.name,fontSize:12,fill:"#cbd5e1",y:Wi/2+2,offsetX:Wi/2,width:Wi*2,align:"center",listening:!1})]},u.id)})})});function WT({selectionBox:t,isSelecting:e}){return!e||!t?null:_.jsx(xm,{x:t.x,y:t.y,width:t.width,height:t.height,fill:"rgba(79, 70, 229, 0.1)",stroke:"#4f46e5",strokeWidth:1,dash:[5,5]})}function HT({project:t,viewport:e,onViewportChange:n}){const i=M.useMemo(()=>{const u=t.table.width,d=t.table.height;return 200/Math.max(u,d)},[t.table.width,t.table.height]),a=M.useMemo(()=>{const u=window.innerWidth/e.scale*i,d=window.innerHeight/e.scale*i,f=-e.x/e.scale*i,m=-e.y/e.scale*i;return{x:f,y:m,width:u,height:d}},[e,i]),l=u=>{const d=u.currentTarget.getBoundingClientRect(),f=u.clientX-d.left,m=u.clientY-d.top,S=f/i*e.scale-window.innerWidth/2,v=m/i*e.scale-window.innerHeight/2;n({x:S,y:v,scale:e.scale})};return _.jsxs("div",{className:"absolute bottom-4 right-4 bg-white rounded-lg shadow-lg border border-gray-200 p-2",children:[_.jsx("div",{className:"text-xs text-gray-500 mb-2 text-center",children:"Minimap"}),_.jsxs("div",{className:"relative bg-gray-100 rounded border overflow-hidden cursor-pointer",style:{width:200,height:200},onClick:l,children:[_.jsx("div",{className:"absolute border-2 border-gray-400 bg-gray-50",style:{left:t.table.origin.x*i,top:t.table.origin.y*i,width:t.table.width*i,height:t.table.height*i}}),t.devices.map(u=>{const d=z1(u.type),f=U1(u.status);return _.jsx("div",{className:"absolute w-2 h-2 rounded-sm border",style:{left:u.pos.x*i-1,top:u.pos.y*i-1,backgroundColor:d.color.replace("bg-","").replace("-500",""),borderColor:f.dot.replace("bg-","").replace("-500","")},title:u.name},u.id)}),_.jsx("div",{className:"absolute border-2 border-blue-500 bg-blue-100 bg-opacity-30",style:{left:a.x,top:a.y,width:a.width,height:a.height}})]})]})}function $T(){const t=M.useRef(null),e=M.useRef(null),[n,r]=M.useState({width:800,height:600}),{project:i,addDevice:a,updateDevicePos:l}=xu(),{selectedIds:u,setSelection:d,clearSelection:f}=tm(),{viewport:m,setViewport:S,gridVisible:v,minimapVisible:y,startSelection:w,updateSelection:N,endSelection:b,isSelecting:k,selectionBox:E,toggleSidebarLeft:g,toggleSidebarRight:C}=Jg();M.useEffect(()=>{const z=()=>{if(e.current){const K=e.current.getBoundingClientRect();r({width:K.width,height:K.height})}};return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]),M.useEffect(()=>{const z={[kt.DESELECT]:f,[kt.SELECT_ALL]:()=>{console.log("Select all")},[kt.DUPLICATE]:()=>{console.log("Duplicate")},[kt.DELETE]:()=>{console.log("Delete")},[kt.ROTATE]:()=>{console.log("Rotate")},[kt.ROTATE_REVERSE]:()=>{console.log("Reverse rotate")},[kt.TOGGLE_LEFT_SIDEBAR]:()=>{g()},[kt.TOGGLE_RIGHT_SIDEBAR]:()=>{C()}},K=uk(z);return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[f,g,C]);const T=z=>{z.target===z.target.getStage()&&f()},R=z=>{if(z.target===z.target.getStage()){const ne=z.target.getPointerPosition();w(ne.x,ne.y)}},L=z=>{if(k){const K=z.target.getPointerPosition();N(K.x,K.y)}},j=z=>{k&&b()},I=z=>{z.evt.preventDefault();const K=1.1,ne=z.target.getStage(),te=ne.scaleX(),ge=ne.getPointerPosition(),me={x:(ge.x-ne.x())/te,y:(ge.y-ne.y())/te},W=z.evt.deltaY>0?te*K:te/K,$=Math.max(.1,Math.min(10,W));S({scale:$,x:ge.x-me.x*$,y:ge.y-me.y*$})},O=z=>{z.preventDefault();try{const K=JSON.parse(z.dataTransfer.getData("application/json"));if(K.type==="device"){const ne=t.current;if(!ne)return;const te=ne.getPointerPosition();if(!te)return;const ge=Hd(te,{pitch:i.table.pitch,origin:i.table.origin}),me={id:`${K.deviceType}_${Date.now()}`,type:K.deviceType,name:K.deviceType.split(".").pop()||"Device",pos:{x:ge.x,y:ge.y,angle:0},status:"gray",driver:void 0};a(me)}}catch(K){console.error("Failed to parse drop data:",K)}},B=z=>{z.preventDefault()};return _.jsxs("div",{ref:e,className:"w-full h-full bg-gray-100 relative overflow-hidden",onDrop:O,onDragOver:B,children:[_.jsxs(FT,{ref:t,width:n.width,height:n.height,scaleX:m.scale,scaleY:m.scale,x:m.x,y:m.y,onClick:T,onMouseDown:R,onMouseMove:L,onMouseUp:j,onWheel:I,draggable:!0,onDragEnd:z=>{S({x:z.target.x(),y:z.target.y()})},children:[_.jsx(vp,{children:v&&_.jsx(DT,{table:i.table,viewport:m,stageSize:n})}),_.jsx(vp,{children:_.jsx(VT,{devices:i.devices,selectedIds:u,onDeviceSelect:z=>d([z]),onDeviceMove:(z,K)=>l(z,K),onDeviceRotate:(z,K)=>{console.log("Rotate device:",z,K)},tablePitch:i.table.pitch,tableOrigin:i.table.origin})}),_.jsx(vp,{children:_.jsx(WT,{selectionBox:E,isSelecting:k})})]}),y&&_.jsx(HT,{project:i,viewport:m,onViewportChange:S})]})}function KT(){return _.jsx("div",{className:"h-full w-full",children:_.jsx($T,{})})}function QT(){return _.jsx("div",{className:"h-full p-6",children:_.jsxs("div",{className:"max-w-6xl mx-auto",children:[_.jsxs("div",{className:"mb-6",children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Extensions"}),_.jsx("p",{className:"text-gray-600",children:"Install and manage device drivers and analysis tools"})]}),_.jsx(E6,{})]})})}function YT(){return _.jsx("div",{className:"h-full p-6",children:_.jsxs("div",{className:"max-w-6xl mx-auto",children:[_.jsxs("div",{className:"mb-6",children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Workflows"}),_.jsx("p",{className:"text-gray-600",children:"Create and manage automated workflows"})]}),_.jsx(N6,{})]})})}function XT(){return _.jsx("div",{className:"h-full p-6",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsxs("div",{className:"mb-6",children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),_.jsx("p",{className:"text-gray-600",children:"Configure application preferences"})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"card",children:[_.jsx("div",{className:"card-header",children:_.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"General"})}),_.jsx("div",{className:"card-body",children:_.jsx("p",{className:"text-gray-500",children:"General settings coming soon..."})})]}),_.jsxs("div",{className:"card",children:[_.jsx("div",{className:"card-header",children:_.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Canvas"})}),_.jsx("div",{className:"card-body",children:_.jsx("p",{className:"text-gray-500",children:"Canvas settings coming soon..."})})]}),_.jsxs("div",{className:"card",children:[_.jsx("div",{className:"card-header",children:_.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Devices"})}),_.jsx("div",{className:"card-body",children:_.jsx("p",{className:"text-gray-500",children:"Device settings coming soon..."})})]})]})]})})}function qT(){return _.jsx("div",{className:"h-full p-6",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsxs("div",{className:"mb-6",children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"About LightWork"}),_.jsx("p",{className:"text-gray-600",children:"Optics bench lab application"})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsx("div",{className:"card",children:_.jsx("div",{className:"card-body",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"w-16 h-16 bg-brand-100 rounded-full flex items-center justify-center mx-auto mb-4",children:_.jsx("span",{className:"text-2xl",children:"🔬"})}),_.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"LightWork"}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Version 0.1.0"}),_.jsx("p",{className:"text-gray-500",children:"A production-quality frontend for optics bench lab applications. Configure devices, manage workflows, and orchestrate experiments with an intuitive Tinkercad-style interface."})]})})}),_.jsxs("div",{className:"card",children:[_.jsx("div",{className:"card-header",children:_.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Features"})}),_.jsx("div",{className:"card-body",children:_.jsxs("ul",{className:"space-y-2 text-gray-600",children:[_.jsx("li",{children:"• 2D top-view editor with drag-and-drop device placement"}),_.jsx("li",{children:"• Newport-style hole grid with snap-to-grid functionality"}),_.jsx("li",{children:"• Device status monitoring and live telemetry"}),_.jsx("li",{children:"• Workflow automation and scripting"}),_.jsx("li",{children:"• Extension marketplace for device drivers"}),_.jsx("li",{children:"• Real-time collaboration and project sharing"})]})})]}),_.jsxs("div",{className:"card",children:[_.jsx("div",{className:"card-header",children:_.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Technology"})}),_.jsx("div",{className:"card-body",children:_.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Frontend"}),_.jsxs("ul",{className:"space-y-1 text-gray-600",children:[_.jsx("li",{children:"React 18 + TypeScript"}),_.jsx("li",{children:"Vite + Tailwind CSS"}),_.jsx("li",{children:"React-Konva (2D Canvas)"}),_.jsx("li",{children:"Zustand (State Management)"}),_.jsx("li",{children:"React Query (Data Fetching)"})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Backend"}),_.jsxs("ul",{className:"space-y-1 text-gray-600",children:[_.jsx("li",{children:"REST API + WebSocket"}),_.jsx("li",{children:"Device Driver Extensions"}),_.jsx("li",{children:"Workflow Engine"}),_.jsx("li",{children:"Real-time Telemetry"}),_.jsx("li",{children:"Project Persistence"})]})]})]})})]}),_.jsxs("div",{className:"card",children:[_.jsx("div",{className:"card-header",children:_.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Open Source"})}),_.jsxs("div",{className:"card-body",children:[_.jsx("p",{className:"text-gray-600 mb-4",children:"LightWork is built with open source technologies and follows modern web development best practices."}),_.jsx("div",{className:"text-sm text-gray-500",children:_.jsx("p",{children:"Built with ❤️ for the scientific community"})})]})]})]})]})})}function ZT(){return _.jsx("div",{className:"h-screen flex flex-col bg-gray-50",children:_.jsx(D_,{children:_.jsxs(Ks,{path:"/",element:_.jsx(Rk,{}),children:[_.jsx(Ks,{index:!0,element:_.jsx(KT,{})}),_.jsx(Ks,{path:"extensions",element:_.jsx(QT,{})}),_.jsx(Ks,{path:"workflows",element:_.jsx(YT,{})}),_.jsx(Ks,{path:"settings",element:_.jsx(XT,{})}),_.jsx(Ks,{path:"about",element:_.jsx(qT,{})})]})})})}const JT=new hw({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1},mutations:{retry:1}}});xp.createRoot(document.getElementById("root")).render(_.jsx(q.StrictMode,{children:_.jsxs(pw,{client:JT,children:[_.jsxs(U_,{children:[_.jsx(ZT,{}),_.jsx(Bw,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#374151",border:"1px solid #e5e7eb"}}})]}),_.jsx(gw,{initialIsOpen:!1})]})}));
